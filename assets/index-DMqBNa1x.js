var tk=Object.defineProperty;var nk=(t,e,n)=>e in t?tk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>nk(t,typeof e!="symbol"?e+"":e,n);function ik(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xv={exports:{}},Nc={},Jv={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=Symbol.for("react.element"),rk=Symbol.for("react.portal"),ok=Symbol.for("react.fragment"),ak=Symbol.for("react.strict_mode"),lk=Symbol.for("react.profiler"),ck=Symbol.for("react.provider"),uk=Symbol.for("react.context"),hk=Symbol.for("react.forward_ref"),dk=Symbol.for("react.suspense"),fk=Symbol.for("react.memo"),pk=Symbol.for("react.lazy"),Am=Symbol.iterator;function mk(t){return t===null||typeof t!="object"?null:(t=Am&&t[Am]||t["@@iterator"],typeof t=="function"?t:null)}var Qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ey=Object.assign,ty={};function _r(t,e,n){this.props=t,this.context=e,this.refs=ty,this.updater=n||Qv}_r.prototype.isReactComponent={};_r.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ny(){}ny.prototype=_r.prototype;function qd(t,e,n){this.props=t,this.context=e,this.refs=ty,this.updater=n||Qv}var Kd=qd.prototype=new ny;Kd.constructor=qd;ey(Kd,_r.prototype);Kd.isPureReactComponent=!0;var Rm=Array.isArray,iy=Object.prototype.hasOwnProperty,Yd={current:null},sy={key:!0,ref:!0,__self:!0,__source:!0};function ry(t,e,n){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)iy.call(e,i)&&!sy.hasOwnProperty(i)&&(s[i]=e[i]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:Jo,type:t,key:o,ref:a,props:s,_owner:Yd.current}}function gk(t,e){return{$$typeof:Jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jo}function _k(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jm=/\/+/g;function Du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_k(""+t.key):e.toString(36)}function ml(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Jo:case rk:a=!0}}if(a)return a=t,s=s(a),t=i===""?"."+Du(a,0):i,Rm(s)?(n="",t!=null&&(n=t.replace(jm,"$&/")+"/"),ml(s,e,n,"",function(d){return d})):s!=null&&(Xd(s)&&(s=gk(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(jm,"$&/")+"/")+t)),e.push(s)),1;if(a=0,i=i===""?".":i+":",Rm(t))for(var c=0;c<t.length;c++){o=t[c];var u=i+Du(o,c);a+=ml(o,e,n,u,s)}else if(u=mk(t),typeof u=="function")for(t=u.call(t),c=0;!(o=t.next()).done;)o=o.value,u=i+Du(o,c++),a+=ml(o,e,n,u,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ra(t,e,n){if(t==null)return t;var i=[],s=0;return ml(t,i,"","",function(o){return e.call(n,o,s++)}),i}function vk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},gl={transition:null},yk={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:gl,ReactCurrentOwner:Yd};function oy(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Ra,forEach:function(t,e,n){Ra(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ra(t,function(){e++}),e},toArray:function(t){return Ra(t,function(e){return e})||[]},only:function(t){if(!Xd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=_r;ae.Fragment=ok;ae.Profiler=lk;ae.PureComponent=qd;ae.StrictMode=ak;ae.Suspense=dk;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yk;ae.act=oy;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ey({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Yd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)iy.call(e,u)&&!sy.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:Jo,type:t.type,key:s,ref:o,props:i,_owner:a}};ae.createContext=function(t){return t={$$typeof:uk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ck,_context:t},t.Consumer=t};ae.createElement=ry;ae.createFactory=function(t){var e=ry.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:hk,render:t}};ae.isValidElement=Xd;ae.lazy=function(t){return{$$typeof:pk,_payload:{_status:-1,_result:t},_init:vk}};ae.memo=function(t,e){return{$$typeof:fk,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=gl.transition;gl.transition={};try{t()}finally{gl.transition=e}};ae.unstable_act=oy;ae.useCallback=function(t,e){return ut.current.useCallback(t,e)};ae.useContext=function(t){return ut.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ae.useEffect=function(t,e){return ut.current.useEffect(t,e)};ae.useId=function(){return ut.current.useId()};ae.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return ut.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};ae.useRef=function(t){return ut.current.useRef(t)};ae.useState=function(t){return ut.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return ut.current.useTransition()};ae.version="18.3.1";Jv.exports=ae;var O=Jv.exports;const Qo=Gd(O),xk=ik({__proto__:null,default:Qo},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wk=O,bk=Symbol.for("react.element"),kk=Symbol.for("react.fragment"),Sk=Object.prototype.hasOwnProperty,Pk=wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tk={key:!0,ref:!0,__self:!0,__source:!0};function ay(t,e,n){var i,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)Sk.call(e,i)&&!Tk.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:bk,type:t,key:o,ref:a,props:s,_owner:Pk.current}}Nc.Fragment=kk;Nc.jsx=ay;Nc.jsxs=ay;Xv.exports=Nc;var f=Xv.exports,ly={exports:{}},Pt={},cy={exports:{}},uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,G){var U=z.length;z.push(G);e:for(;0<U;){var K=U-1>>>1,te=z[K];if(0<s(te,G))z[K]=G,z[U]=te,U=K;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var G=z[0],U=z.pop();if(U!==G){z[0]=U;e:for(var K=0,te=z.length,Se=te>>>1;K<Se;){var le=2*(K+1)-1,se=z[le],Y=le+1,dt=z[Y];if(0>s(se,U))Y<te&&0>s(dt,se)?(z[K]=dt,z[Y]=U,K=Y):(z[K]=se,z[le]=U,K=le);else if(Y<te&&0>s(dt,U))z[K]=dt,z[Y]=U,K=Y;else break e}}return G}function s(z,G){var U=z.sortIndex-G.sortIndex;return U!==0?U:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],m=1,g=null,_=3,y=!1,x=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var G=n(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=z)i(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(d)}}function N(z){if(w=!1,T(z),!x)if(n(u)!==null)x=!0,oe(I);else{var G=n(d);G!==null&&ce(N,G.startTime-z)}}function I(z,G){x=!1,w&&(w=!1,b(E),E=-1),y=!0;var U=_;try{for(T(G),g=n(u);g!==null&&(!(g.expirationTime>G)||z&&!W());){var K=g.callback;if(typeof K=="function"){g.callback=null,_=g.priorityLevel;var te=K(g.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?g.callback=te:g===n(u)&&i(u),T(G)}else i(u);g=n(u)}if(g!==null)var Se=!0;else{var le=n(d);le!==null&&ce(N,le.startTime-G),Se=!1}return Se}finally{g=null,_=U,y=!1}}var A=!1,R=null,E=-1,D=5,B=-1;function W(){return!(t.unstable_now()-B<D)}function Z(){if(R!==null){var z=t.unstable_now();B=z;var G=!0;try{G=R(!0,z)}finally{G?ve():(A=!1,R=null)}}else A=!1}var ve;if(typeof P=="function")ve=function(){P(Z)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ye=ke.port2;ke.port1.onmessage=Z,ve=function(){ye.postMessage(null)}}else ve=function(){k(Z,0)};function oe(z){R=z,A||(A=!0,ve())}function ce(z,G){E=k(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,oe(I))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var U=_;_=G;try{return z()}finally{_=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=_;_=z;try{return G()}finally{_=U}},t.unstable_scheduleCallback=function(z,G,U){var K=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,z={id:m++,callback:G,priorityLevel:z,startTime:U,expirationTime:te,sortIndex:-1},U>K?(z.sortIndex=U,e(d,z),n(u)===null&&z===n(d)&&(w?(b(E),E=-1):w=!0,ce(N,U-K))):(z.sortIndex=te,e(u,z),x||y||(x=!0,oe(I))),z},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(z){var G=_;return function(){var U=_;_=G;try{return z.apply(this,arguments)}finally{_=U}}}})(uy);cy.exports=uy;var Ek=cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck=O,St=Ek;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hy=new Set,Po={};function gs(t,e){ir(t,e),ir(t+"Capture",e)}function ir(t,e){for(Po[t]=e,t=0;t<e.length;t++)hy.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,Nk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dm={},zm={};function Ik(t){return Ih.call(zm,t)?!0:Ih.call(Dm,t)?!1:Nk.test(t)?zm[t]=!0:(Dm[t]=!0,!1)}function Lk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mk(t,e,n,i){if(e===null||typeof e>"u"||Lk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function Qd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jd,Qd);Je[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jd,Qd);Je[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jd,Qd);Je[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function ef(t,e,n,i){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mk(e,n,s,i)&&(n=null),i||s===null?Ik(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Zn=Ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),As=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),fy=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),py=Symbol.for("react.offscreen"),Fm=Symbol.iterator;function zr(t){return t===null||typeof t!="object"?null:(t=Fm&&t[Fm]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,zu;function Xr(t){if(zu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zu=e&&e[1]||""}return`
`+zu+t}var Fu=!1;function Bu(t,e){if(!t||Fu)return"";Fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,c=o.length-1;1<=a&&0<=c&&s[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==o[c]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Fu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xr(t):""}function Ok(t){switch(t.tag){case 5:return Xr(t.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return t=Bu(t.type,!1),t;case 11:return t=Bu(t.type.render,!1),t;case 1:return t=Bu(t.type,!0),t;default:return""}}function Ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case As:return"Portal";case Lh:return"Profiler";case tf:return"StrictMode";case Mh:return"Suspense";case Oh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fy:return(t.displayName||"Context")+".Consumer";case dy:return(t._context.displayName||"Context")+".Provider";case nf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sf:return e=t.displayName||null,e!==null?e:Ah(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Ah(t(e))}catch{}}return null}function Ak(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(e);case 8:return e===tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function my(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rk(t){var e=my(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Da(t){t._valueTracker||(t._valueTracker=Rk(t))}function gy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=my(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bm(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _y(t,e){e=e.checked,e!=null&&ef(t,"checked",e,!1)}function jh(t,e){_y(t,e);var n=Ci(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dh(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Um(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dh(t,e,n){(e!=="number"||Al(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jr=Array.isArray;function Gs(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Jr(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function vy(t,e){var n=Ci(e.value),i=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Wm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,xy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jk=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){jk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function wy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function by(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=wy(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var Dk=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(t,e){if(e){if(Dk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Uh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=null;function rf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wh=null,qs=null,Ks=null;function Vm(t){if(t=na(t)){if(typeof Wh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Ac(e),Wh(t.stateNode,t.type,e))}}function ky(t){qs?Ks?Ks.push(t):Ks=[t]:qs=t}function Sy(){if(qs){var t=qs,e=Ks;if(Ks=qs=null,Vm(t),e)for(t=0;t<e.length;t++)Vm(e[t])}}function Py(t,e){return t(e)}function Ty(){}var Uu=!1;function Ey(t,e,n){if(Uu)return t(e,n);Uu=!0;try{return Py(t,e,n)}finally{Uu=!1,(qs!==null||Ks!==null)&&(Ty(),Sy())}}function Eo(t,e){var n=t.stateNode;if(n===null)return null;var i=Ac(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Vh=!1;if(Bn)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Vh=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Vh=!1}function zk(t,e,n,i,s,o,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(m){this.onError(m)}}var lo=!1,Rl=null,jl=!1,$h=null,Fk={onError:function(t){lo=!0,Rl=t}};function Bk(t,e,n,i,s,o,a,c,u){lo=!1,Rl=null,zk.apply(Fk,arguments)}function Uk(t,e,n,i,s,o,a,c,u){if(Bk.apply(this,arguments),lo){if(lo){var d=Rl;lo=!1,Rl=null}else throw Error(H(198));jl||(jl=!0,$h=d)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $m(t){if(_s(t)!==t)throw Error(H(188))}function Hk(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return $m(s),t;if(o===i)return $m(s),e;o=o.sibling}throw Error(H(188))}if(n.return!==i.return)n=s,i=o;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,i=o;break}if(c===i){a=!0,i=s,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=s;break}if(c===i){a=!0,i=o,n=s;break}c=c.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==i)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Ny(t){return t=Hk(t),t!==null?Iy(t):null}function Iy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iy(t);if(e!==null)return e;t=t.sibling}return null}var Ly=St.unstable_scheduleCallback,Zm=St.unstable_cancelCallback,Wk=St.unstable_shouldYield,Vk=St.unstable_requestPaint,je=St.unstable_now,$k=St.unstable_getCurrentPriorityLevel,of=St.unstable_ImmediatePriority,My=St.unstable_UserBlockingPriority,Dl=St.unstable_NormalPriority,Zk=St.unstable_LowPriority,Oy=St.unstable_IdlePriority,Ic=null,gn=null;function Gk(t){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Ic,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Yk,qk=Math.log,Kk=Math.LN2;function Yk(t){return t>>>=0,t===0?32:31-(qk(t)/Kk|0)|0}var Fa=64,Ba=4194304;function Qr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?i=Qr(c):(o&=a,o!==0&&(i=Qr(o)))}else a=n&~s,a!==0?i=Qr(a):o!==0&&(i=Qr(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Jt(e),s=1<<n,i|=t[n],e&=~s;return i}function Xk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Jt(o),c=1<<a,u=s[a];u===-1?(!(c&n)||c&i)&&(s[a]=Xk(c,e)):u<=e&&(t.expiredLanes|=c),o&=~c}}function Zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ay(){var t=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),t}function Hu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ea(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function Qk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jt(n),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~o}}function af(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Jt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ge=0;function Ry(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jy,lf,Dy,zy,Fy,Gh=!1,Ua=[],mi=null,gi=null,_i=null,Co=new Map,No=new Map,ri=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gm(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Co.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function Br(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=na(e),e!==null&&lf(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function tS(t,e,n,i,s){switch(e){case"focusin":return mi=Br(mi,t,e,n,i,s),!0;case"dragenter":return gi=Br(gi,t,e,n,i,s),!0;case"mouseover":return _i=Br(_i,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return Co.set(o,Br(Co.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,No.set(o,Br(No.get(o)||null,t,e,n,i,s)),!0}return!1}function By(t){var e=Ji(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=Cy(n),e!==null){t.blockedOn=e,Fy(t.priority,function(){Dy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Hh=i,n.target.dispatchEvent(i),Hh=null}else return e=na(n),e!==null&&lf(e),t.blockedOn=n,!1;e.shift()}return!0}function qm(t,e,n){_l(t)&&n.delete(e)}function nS(){Gh=!1,mi!==null&&_l(mi)&&(mi=null),gi!==null&&_l(gi)&&(gi=null),_i!==null&&_l(_i)&&(_i=null),Co.forEach(qm),No.forEach(qm)}function Ur(t,e){t.blockedOn===e&&(t.blockedOn=null,Gh||(Gh=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,nS)))}function Io(t){function e(s){return Ur(s,t)}if(0<Ua.length){Ur(Ua[0],t);for(var n=1;n<Ua.length;n++){var i=Ua[n];i.blockedOn===t&&(i.blockedOn=null)}}for(mi!==null&&Ur(mi,t),gi!==null&&Ur(gi,t),_i!==null&&Ur(_i,t),Co.forEach(e),No.forEach(e),n=0;n<ri.length;n++)i=ri[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)By(n),n.blockedOn===null&&ri.shift()}var Ys=Zn.ReactCurrentBatchConfig,Fl=!0;function iS(t,e,n,i){var s=ge,o=Ys.transition;Ys.transition=null;try{ge=1,cf(t,e,n,i)}finally{ge=s,Ys.transition=o}}function sS(t,e,n,i){var s=ge,o=Ys.transition;Ys.transition=null;try{ge=4,cf(t,e,n,i)}finally{ge=s,Ys.transition=o}}function cf(t,e,n,i){if(Fl){var s=qh(t,e,n,i);if(s===null)Ju(t,e,i,Bl,n),Gm(t,i);else if(tS(s,t,e,n,i))i.stopPropagation();else if(Gm(t,i),e&4&&-1<eS.indexOf(t)){for(;s!==null;){var o=na(s);if(o!==null&&jy(o),o=qh(t,e,n,i),o===null&&Ju(t,e,i,Bl,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else Ju(t,e,i,null,n)}}var Bl=null;function qh(t,e,n,i){if(Bl=null,t=rf(i),t=Ji(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bl=t,null}function Uy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($k()){case of:return 1;case My:return 4;case Dl:case Zk:return 16;case Oy:return 536870912;default:return 16}default:return 16}}var hi=null,uf=null,vl=null;function Hy(){if(vl)return vl;var t,e=uf,n=e.length,i,s="value"in hi?hi.value:hi.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[o-i];i++);return vl=s.slice(t,1<i?1-i:void 0)}function yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ha(){return!0}function Km(){return!1}function Tt(t){function e(n,i,s,o,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ha:Km,this.isPropagationStopped=Km,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),e}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Tt(vr),ta=Me({},vr,{view:0,detail:0}),rS=Tt(ta),Wu,Vu,Hr,Lc=Me({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hr&&(Hr&&t.type==="mousemove"?(Wu=t.screenX-Hr.screenX,Vu=t.screenY-Hr.screenY):Vu=Wu=0,Hr=t),Wu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),Ym=Tt(Lc),oS=Me({},Lc,{dataTransfer:0}),aS=Tt(oS),lS=Me({},ta,{relatedTarget:0}),$u=Tt(lS),cS=Me({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),uS=Tt(cS),hS=Me({},vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dS=Tt(hS),fS=Me({},vr,{data:0}),Xm=Tt(fS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gS[t])?!!e[t]:!1}function df(){return _S}var vS=Me({},ta,{key:function(t){if(t.key){var e=pS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yS=Tt(vS),xS=Me({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jm=Tt(xS),wS=Me({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),bS=Tt(wS),kS=Me({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),SS=Tt(kS),PS=Me({},Lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TS=Tt(PS),ES=[9,13,27,32],ff=Bn&&"CompositionEvent"in window,co=null;Bn&&"documentMode"in document&&(co=document.documentMode);var CS=Bn&&"TextEvent"in window&&!co,Wy=Bn&&(!ff||co&&8<co&&11>=co),Qm=" ",eg=!1;function Vy(t,e){switch(t){case"keyup":return ES.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function NS(t,e){switch(t){case"compositionend":return $y(e);case"keypress":return e.which!==32?null:(eg=!0,Qm);case"textInput":return t=e.data,t===Qm&&eg?null:t;default:return null}}function IS(t,e){if(js)return t==="compositionend"||!ff&&Vy(t,e)?(t=Hy(),vl=uf=hi=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wy&&e.locale!=="ko"?null:e.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LS[t.type]:e==="textarea"}function Zy(t,e,n,i){ky(i),e=Ul(e,"onChange"),0<e.length&&(n=new hf("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var uo=null,Lo=null;function MS(t){ix(t,0)}function Mc(t){var e=Fs(t);if(gy(e))return t}function OS(t,e){if(t==="change")return e}var Gy=!1;if(Bn){var Zu;if(Bn){var Gu="oninput"in document;if(!Gu){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Gu=typeof ng.oninput=="function"}Zu=Gu}else Zu=!1;Gy=Zu&&(!document.documentMode||9<document.documentMode)}function ig(){uo&&(uo.detachEvent("onpropertychange",qy),Lo=uo=null)}function qy(t){if(t.propertyName==="value"&&Mc(Lo)){var e=[];Zy(e,Lo,t,rf(t)),Ey(MS,e)}}function AS(t,e,n){t==="focusin"?(ig(),uo=e,Lo=n,uo.attachEvent("onpropertychange",qy)):t==="focusout"&&ig()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(Lo)}function jS(t,e){if(t==="click")return Mc(e)}function DS(t,e){if(t==="input"||t==="change")return Mc(e)}function zS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:zS;function Mo(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Ih.call(e,s)||!nn(t[s],e[s]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,e){var n=sg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sg(n)}}function Ky(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ky(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yy(){for(var t=window,e=Al();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Al(t.document)}return e}function pf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FS(t){var e=Yy(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ky(n.ownerDocument.documentElement,n)){if(i!==null&&pf(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=rg(n,o);var a=rg(n,i);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BS=Bn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Kh=null,ho=null,Yh=!1;function og(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||Ds==null||Ds!==Al(i)||(i=Ds,"selectionStart"in i&&pf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ho&&Mo(ho,i)||(ho=i,i=Ul(Kh,"onSelect"),0<i.length&&(e=new hf("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ds)))}function Wa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},qu={},Xy={};Bn&&(Xy=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Oc(t){if(qu[t])return qu[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xy)return qu[t]=e[n];return t}var Jy=Oc("animationend"),Qy=Oc("animationiteration"),ex=Oc("animationstart"),tx=Oc("transitionend"),nx=new Map,ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){nx.set(t,e),gs(e,[t])}for(var Ku=0;Ku<ag.length;Ku++){var Yu=ag[Ku],US=Yu.toLowerCase(),HS=Yu[0].toUpperCase()+Yu.slice(1);Li(US,"on"+HS)}Li(Jy,"onAnimationEnd");Li(Qy,"onAnimationIteration");Li(ex,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(tx,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function lg(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Uk(i,e,void 0,t),t.currentTarget=null}function ix(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var c=i[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==o&&s.isPropagationStopped())break e;lg(s,c,d),o=u}else for(a=0;a<i.length;a++){if(c=i[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==o&&s.isPropagationStopped())break e;lg(s,c,d),o=u}}}if(jl)throw t=$h,jl=!1,$h=null,t}function Pe(t,e){var n=e[td];n===void 0&&(n=e[td]=new Set);var i=t+"__bubble";n.has(i)||(sx(e,t,2,!1),n.add(i))}function Xu(t,e,n){var i=0;e&&(i|=4),sx(n,t,i,e)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Va]){t[Va]=!0,hy.forEach(function(n){n!=="selectionchange"&&(WS.has(n)||Xu(n,!1,t),Xu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Va]||(e[Va]=!0,Xu("selectionchange",!1,e))}}function sx(t,e,n,i){switch(Uy(e)){case 1:var s=iS;break;case 4:s=sS;break;default:s=cf}n=s.bind(null,e,n,t),s=void 0,!Vh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ju(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Ji(c),a===null)return;if(u=a.tag,u===5||u===6){i=o=a;continue e}c=c.parentNode}}i=i.return}Ey(function(){var d=o,m=rf(n),g=[];e:{var _=nx.get(t);if(_!==void 0){var y=hf,x=t;switch(t){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":y=yS;break;case"focusin":x="focus",y=$u;break;case"focusout":x="blur",y=$u;break;case"beforeblur":case"afterblur":y=$u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=aS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=bS;break;case Jy:case Qy:case ex:y=uS;break;case tx:y=SS;break;case"scroll":y=rS;break;case"wheel":y=TS;break;case"copy":case"cut":case"paste":y=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Jm}var w=(e&4)!==0,k=!w&&t==="scroll",b=w?_!==null?_+"Capture":null:_;w=[];for(var P=d,T;P!==null;){T=P;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,b!==null&&(N=Eo(P,b),N!=null&&w.push(Ao(P,N,T)))),k)break;P=P.return}0<w.length&&(_=new y(_,x,null,n,m),g.push({event:_,listeners:w}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",_&&n!==Hh&&(x=n.relatedTarget||n.fromElement)&&(Ji(x)||x[Un]))break e;if((y||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=d,x=x?Ji(x):null,x!==null&&(k=_s(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(w=Ym,N="onMouseLeave",b="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(w=Jm,N="onPointerLeave",b="onPointerEnter",P="pointer"),k=y==null?_:Fs(y),T=x==null?_:Fs(x),_=new w(N,P+"leave",y,n,m),_.target=k,_.relatedTarget=T,N=null,Ji(m)===d&&(w=new w(b,P+"enter",x,n,m),w.target=T,w.relatedTarget=k,N=w),k=N,y&&x)t:{for(w=y,b=x,P=0,T=w;T;T=Ls(T))P++;for(T=0,N=b;N;N=Ls(N))T++;for(;0<P-T;)w=Ls(w),P--;for(;0<T-P;)b=Ls(b),T--;for(;P--;){if(w===b||b!==null&&w===b.alternate)break t;w=Ls(w),b=Ls(b)}w=null}else w=null;y!==null&&cg(g,_,y,w,!1),x!==null&&k!==null&&cg(g,k,x,w,!0)}}e:{if(_=d?Fs(d):window,y=_.nodeName&&_.nodeName.toLowerCase(),y==="select"||y==="input"&&_.type==="file")var I=OS;else if(tg(_))if(Gy)I=DS;else{I=RS;var A=AS}else(y=_.nodeName)&&y.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(I=jS);if(I&&(I=I(t,d))){Zy(g,I,n,m);break e}A&&A(t,_,d),t==="focusout"&&(A=_._wrapperState)&&A.controlled&&_.type==="number"&&Dh(_,"number",_.value)}switch(A=d?Fs(d):window,t){case"focusin":(tg(A)||A.contentEditable==="true")&&(Ds=A,Kh=d,ho=null);break;case"focusout":ho=Kh=Ds=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,og(g,n,m);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":og(g,n,m)}var R;if(ff)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else js?Vy(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Wy&&n.locale!=="ko"&&(js||E!=="onCompositionStart"?E==="onCompositionEnd"&&js&&(R=Hy()):(hi=m,uf="value"in hi?hi.value:hi.textContent,js=!0)),A=Ul(d,E),0<A.length&&(E=new Xm(E,t,null,n,m),g.push({event:E,listeners:A}),R?E.data=R:(R=$y(n),R!==null&&(E.data=R)))),(R=CS?NS(t,n):IS(t,n))&&(d=Ul(d,"onBeforeInput"),0<d.length&&(m=new Xm("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:d}),m.data=R))}ix(g,e)})}function Ao(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ul(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Eo(t,n),o!=null&&i.unshift(Ao(t,o,s)),o=Eo(t,e),o!=null&&i.push(Ao(t,o,s))),t=t.return}return i}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cg(t,e,n,i,s){for(var o=e._reactName,a=[];n!==null&&n!==i;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===i)break;c.tag===5&&d!==null&&(c=d,s?(u=Eo(n,o),u!=null&&a.unshift(Ao(n,u,c))):s||(u=Eo(n,o),u!=null&&a.push(Ao(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var VS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function ug(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace($S,"")}function $a(t,e,n){if(e=ug(e),ug(t)!==e&&n)throw Error(H(425))}function Hl(){}var Xh=null,Jh=null;function Qh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ed=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(t){return hg.resolve(null).then(t).catch(qS)}:ed;function qS(t){setTimeout(function(){throw t})}function Qu(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Io(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Io(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yr=Math.random().toString(36).slice(2),mn="__reactFiber$"+yr,Ro="__reactProps$"+yr,Un="__reactContainer$"+yr,td="__reactEvents$"+yr,KS="__reactListeners$"+yr,YS="__reactHandles$"+yr;function Ji(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dg(t);t!==null;){if(n=t[mn])return n;t=dg(t)}return e}t=n,n=t.parentNode}return null}function na(t){return t=t[mn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ac(t){return t[Ro]||null}var nd=[],Bs=-1;function Mi(t){return{current:t}}function Ee(t){0>Bs||(t.current=nd[Bs],nd[Bs]=null,Bs--)}function we(t,e){Bs++,nd[Bs]=t.current,t.current=e}var Ni={},st=Mi(Ni),vt=Mi(!1),as=Ni;function sr(t,e){var n=t.type.contextTypes;if(!n)return Ni;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yt(t){return t=t.childContextTypes,t!=null}function Wl(){Ee(vt),Ee(st)}function fg(t,e,n){if(st.current!==Ni)throw Error(H(168));we(st,e),we(vt,n)}function rx(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(H(108,Ak(t)||"Unknown",s));return Me({},n,i)}function Vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,as=st.current,we(st,t),we(vt,vt.current),!0}function pg(t,e,n){var i=t.stateNode;if(!i)throw Error(H(169));n?(t=rx(t,e,as),i.__reactInternalMemoizedMergedChildContext=t,Ee(vt),Ee(st),we(st,t)):Ee(vt),we(vt,n)}var Nn=null,Rc=!1,eh=!1;function ox(t){Nn===null?Nn=[t]:Nn.push(t)}function XS(t){Rc=!0,ox(t)}function Oi(){if(!eh&&Nn!==null){eh=!0;var t=0,e=ge;try{var n=Nn;for(ge=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Nn=null,Rc=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(t+1)),Ly(of,Oi),s}finally{ge=e,eh=!1}}return null}var Us=[],Hs=0,$l=null,Zl=0,Mt=[],Ot=0,ls=null,Mn=1,On="";function Zi(t,e){Us[Hs++]=Zl,Us[Hs++]=$l,$l=t,Zl=e}function ax(t,e,n){Mt[Ot++]=Mn,Mt[Ot++]=On,Mt[Ot++]=ls,ls=t;var i=Mn;t=On;var s=32-Jt(i)-1;i&=~(1<<s),n+=1;var o=32-Jt(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Mn=1<<32-Jt(e)+s|n<<s|i,On=o+t}else Mn=1<<o|n<<s|i,On=t}function mf(t){t.return!==null&&(Zi(t,1),ax(t,1,0))}function gf(t){for(;t===$l;)$l=Us[--Hs],Us[Hs]=null,Zl=Us[--Hs],Us[Hs]=null;for(;t===ls;)ls=Mt[--Ot],Mt[Ot]=null,On=Mt[--Ot],Mt[Ot]=null,Mn=Mt[--Ot],Mt[Ot]=null}var kt=null,bt=null,Ce=!1,Gt=null;function lx(t,e){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,bt=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:Mn,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,bt=null,!0):!1;default:return!1}}function id(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sd(t){if(Ce){var e=bt;if(e){var n=e;if(!mg(t,e)){if(id(t))throw Error(H(418));e=vi(n.nextSibling);var i=kt;e&&mg(t,e)?lx(i,n):(t.flags=t.flags&-4097|2,Ce=!1,kt=t)}}else{if(id(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ce=!1,kt=t}}}function gg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Za(t){if(t!==kt)return!1;if(!Ce)return gg(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qh(t.type,t.memoizedProps)),e&&(e=bt)){if(id(t))throw cx(),Error(H(418));for(;e;)lx(t,e),e=vi(e.nextSibling)}if(gg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=kt?vi(t.stateNode.nextSibling):null;return!0}function cx(){for(var t=bt;t;)t=vi(t.nextSibling)}function rr(){bt=kt=null,Ce=!1}function _f(t){Gt===null?Gt=[t]:Gt.push(t)}var JS=Zn.ReactCurrentBatchConfig;function Wr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var i=n.stateNode}if(!i)throw Error(H(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=s.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Ga(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _g(t){var e=t._init;return e(t._payload)}function ux(t){function e(b,P){if(t){var T=b.deletions;T===null?(b.deletions=[P],b.flags|=16):T.push(P)}}function n(b,P){if(!t)return null;for(;P!==null;)e(b,P),P=P.sibling;return null}function i(b,P){for(b=new Map;P!==null;)P.key!==null?b.set(P.key,P):b.set(P.index,P),P=P.sibling;return b}function s(b,P){return b=bi(b,P),b.index=0,b.sibling=null,b}function o(b,P,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<P?(b.flags|=2,P):T):(b.flags|=2,P)):(b.flags|=1048576,P)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function c(b,P,T,N){return P===null||P.tag!==6?(P=ah(T,b.mode,N),P.return=b,P):(P=s(P,T),P.return=b,P)}function u(b,P,T,N){var I=T.type;return I===Rs?m(b,P,T.props.children,N,T.key):P!==null&&(P.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ni&&_g(I)===P.type)?(N=s(P,T.props),N.ref=Wr(b,P,T),N.return=b,N):(N=Tl(T.type,T.key,T.props,null,b.mode,N),N.ref=Wr(b,P,T),N.return=b,N)}function d(b,P,T,N){return P===null||P.tag!==4||P.stateNode.containerInfo!==T.containerInfo||P.stateNode.implementation!==T.implementation?(P=lh(T,b.mode,N),P.return=b,P):(P=s(P,T.children||[]),P.return=b,P)}function m(b,P,T,N,I){return P===null||P.tag!==7?(P=rs(T,b.mode,N,I),P.return=b,P):(P=s(P,T),P.return=b,P)}function g(b,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return P=ah(""+P,b.mode,T),P.return=b,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ja:return T=Tl(P.type,P.key,P.props,null,b.mode,T),T.ref=Wr(b,null,P),T.return=b,T;case As:return P=lh(P,b.mode,T),P.return=b,P;case ni:var N=P._init;return g(b,N(P._payload),T)}if(Jr(P)||zr(P))return P=rs(P,b.mode,T,null),P.return=b,P;Ga(b,P)}return null}function _(b,P,T,N){var I=P!==null?P.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return I!==null?null:c(b,P,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ja:return T.key===I?u(b,P,T,N):null;case As:return T.key===I?d(b,P,T,N):null;case ni:return I=T._init,_(b,P,I(T._payload),N)}if(Jr(T)||zr(T))return I!==null?null:m(b,P,T,N,null);Ga(b,T)}return null}function y(b,P,T,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(T)||null,c(P,b,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ja:return b=b.get(N.key===null?T:N.key)||null,u(P,b,N,I);case As:return b=b.get(N.key===null?T:N.key)||null,d(P,b,N,I);case ni:var A=N._init;return y(b,P,T,A(N._payload),I)}if(Jr(N)||zr(N))return b=b.get(T)||null,m(P,b,N,I,null);Ga(P,N)}return null}function x(b,P,T,N){for(var I=null,A=null,R=P,E=P=0,D=null;R!==null&&E<T.length;E++){R.index>E?(D=R,R=null):D=R.sibling;var B=_(b,R,T[E],N);if(B===null){R===null&&(R=D);break}t&&R&&B.alternate===null&&e(b,R),P=o(B,P,E),A===null?I=B:A.sibling=B,A=B,R=D}if(E===T.length)return n(b,R),Ce&&Zi(b,E),I;if(R===null){for(;E<T.length;E++)R=g(b,T[E],N),R!==null&&(P=o(R,P,E),A===null?I=R:A.sibling=R,A=R);return Ce&&Zi(b,E),I}for(R=i(b,R);E<T.length;E++)D=y(R,b,E,T[E],N),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?E:D.key),P=o(D,P,E),A===null?I=D:A.sibling=D,A=D);return t&&R.forEach(function(W){return e(b,W)}),Ce&&Zi(b,E),I}function w(b,P,T,N){var I=zr(T);if(typeof I!="function")throw Error(H(150));if(T=I.call(T),T==null)throw Error(H(151));for(var A=I=null,R=P,E=P=0,D=null,B=T.next();R!==null&&!B.done;E++,B=T.next()){R.index>E?(D=R,R=null):D=R.sibling;var W=_(b,R,B.value,N);if(W===null){R===null&&(R=D);break}t&&R&&W.alternate===null&&e(b,R),P=o(W,P,E),A===null?I=W:A.sibling=W,A=W,R=D}if(B.done)return n(b,R),Ce&&Zi(b,E),I;if(R===null){for(;!B.done;E++,B=T.next())B=g(b,B.value,N),B!==null&&(P=o(B,P,E),A===null?I=B:A.sibling=B,A=B);return Ce&&Zi(b,E),I}for(R=i(b,R);!B.done;E++,B=T.next())B=y(R,b,E,B.value,N),B!==null&&(t&&B.alternate!==null&&R.delete(B.key===null?E:B.key),P=o(B,P,E),A===null?I=B:A.sibling=B,A=B);return t&&R.forEach(function(Z){return e(b,Z)}),Ce&&Zi(b,E),I}function k(b,P,T,N){if(typeof T=="object"&&T!==null&&T.type===Rs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ja:e:{for(var I=T.key,A=P;A!==null;){if(A.key===I){if(I=T.type,I===Rs){if(A.tag===7){n(b,A.sibling),P=s(A,T.props.children),P.return=b,b=P;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ni&&_g(I)===A.type){n(b,A.sibling),P=s(A,T.props),P.ref=Wr(b,A,T),P.return=b,b=P;break e}n(b,A);break}else e(b,A);A=A.sibling}T.type===Rs?(P=rs(T.props.children,b.mode,N,T.key),P.return=b,b=P):(N=Tl(T.type,T.key,T.props,null,b.mode,N),N.ref=Wr(b,P,T),N.return=b,b=N)}return a(b);case As:e:{for(A=T.key;P!==null;){if(P.key===A)if(P.tag===4&&P.stateNode.containerInfo===T.containerInfo&&P.stateNode.implementation===T.implementation){n(b,P.sibling),P=s(P,T.children||[]),P.return=b,b=P;break e}else{n(b,P);break}else e(b,P);P=P.sibling}P=lh(T,b.mode,N),P.return=b,b=P}return a(b);case ni:return A=T._init,k(b,P,A(T._payload),N)}if(Jr(T))return x(b,P,T,N);if(zr(T))return w(b,P,T,N);Ga(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,P!==null&&P.tag===6?(n(b,P.sibling),P=s(P,T),P.return=b,b=P):(n(b,P),P=ah(T,b.mode,N),P.return=b,b=P),a(b)):n(b,P)}return k}var or=ux(!0),hx=ux(!1),Gl=Mi(null),ql=null,Ws=null,vf=null;function yf(){vf=Ws=ql=null}function xf(t){var e=Gl.current;Ee(Gl),t._currentValue=e}function rd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){ql=t,vf=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(vf!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(ql===null)throw Error(H(308));Ws=t,ql.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var Qi=null;function wf(t){Qi===null?Qi=[t]:Qi.push(t)}function dx(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,wf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hn(t,i)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Hn(t,n)}return s=i.interleaved,s===null?(e.next=e,wf(i)):(e.next=s.next,s.next=e),i.interleaved=e,Hn(t,n)}function xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,af(t,n)}}function vg(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kl(t,e,n,i){var s=t.updateQueue;ii=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?o=d:a.next=d,a=u;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=u))}if(o!==null){var g=s.baseState;a=0,m=d=u=null,c=o;do{var _=c.lane,y=c.eventTime;if((i&_)===_){m!==null&&(m=m.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,w=c;switch(_=e,y=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){g=x.call(y,g,_);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,_=typeof x=="function"?x.call(y,g,_):x,_==null)break e;g=Me({},g,_);break e;case 2:ii=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,_=s.effects,_===null?s.effects=[c]:_.push(c))}else y={eventTime:y,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=y,u=g):m=m.next=y,a|=_;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;_=c,c=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(m===null&&(u=g),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=m,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);us|=a,t.lanes=a,t.memoizedState=g}}function yg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(H(191,s));s.call(i)}}}var ia={},_n=Mi(ia),jo=Mi(ia),Do=Mi(ia);function es(t){if(t===ia)throw Error(H(174));return t}function kf(t,e){switch(we(Do,e),we(jo,t),we(_n,ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fh(e,t)}Ee(_n),we(_n,e)}function ar(){Ee(_n),Ee(jo),Ee(Do)}function px(t){es(Do.current);var e=es(_n.current),n=Fh(e,t.type);e!==n&&(we(jo,t),we(_n,n))}function Sf(t){jo.current===t&&(Ee(_n),Ee(jo))}var Ie=Mi(0);function Yl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var th=[];function Pf(){for(var t=0;t<th.length;t++)th[t]._workInProgressVersionPrimary=null;th.length=0}var wl=Zn.ReactCurrentDispatcher,nh=Zn.ReactCurrentBatchConfig,cs=0,Le=null,He=null,Ze=null,Xl=!1,fo=!1,zo=0,QS=0;function Qe(){throw Error(H(321))}function Tf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function Ef(t,e,n,i,s,o){if(cs=o,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wl.current=t===null||t.memoizedState===null?iP:sP,t=n(i,s),fo){o=0;do{if(fo=!1,zo=0,25<=o)throw Error(H(301));o+=1,Ze=He=null,e.updateQueue=null,wl.current=rP,t=n(i,s)}while(fo)}if(wl.current=Jl,e=He!==null&&He.next!==null,cs=0,Ze=He=Le=null,Xl=!1,e)throw Error(H(300));return t}function Cf(){var t=zo!==0;return zo=0,t}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Le.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Ft(){if(He===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ze===null?Le.memoizedState:Ze.next;if(e!==null)Ze=e,He=t;else{if(t===null)throw Error(H(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ze===null?Le.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Fo(t,e){return typeof e=="function"?e(t):e}function ih(t){var e=Ft(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var i=He,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var c=a=null,u=null,d=o;do{var m=d.lane;if((cs&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var g={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=g,a=i):u=u.next=g,Le.lanes|=m,us|=m}d=d.next}while(d!==null&&d!==o);u===null?a=i:u.next=c,nn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Le.lanes|=o,us|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sh(t){var e=Ft(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);nn(o,e.memoizedState)||(_t=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function mx(){}function gx(t,e){var n=Le,i=Ft(),s=e(),o=!nn(i.memoizedState,s);if(o&&(i.memoizedState=s,_t=!0),i=i.queue,Nf(yx.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Bo(9,vx.bind(null,n,i,s,e),void 0,null),Ge===null)throw Error(H(349));cs&30||_x(n,e,s)}return s}function _x(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vx(t,e,n,i){e.value=n,e.getSnapshot=i,xx(e)&&wx(t)}function yx(t,e,n){return n(function(){xx(e)&&wx(t)})}function xx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function wx(t){var e=Hn(t,1);e!==null&&Qt(e,t,1,-1)}function xg(t){var e=dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},e.queue=t,t=t.dispatch=nP.bind(null,Le,t),[e.memoizedState,t]}function Bo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function bx(){return Ft().memoizedState}function bl(t,e,n,i){var s=dn();Le.flags|=t,s.memoizedState=Bo(1|e,n,void 0,i===void 0?null:i)}function jc(t,e,n,i){var s=Ft();i=i===void 0?null:i;var o=void 0;if(He!==null){var a=He.memoizedState;if(o=a.destroy,i!==null&&Tf(i,a.deps)){s.memoizedState=Bo(e,n,o,i);return}}Le.flags|=t,s.memoizedState=Bo(1|e,n,o,i)}function wg(t,e){return bl(8390656,8,t,e)}function Nf(t,e){return jc(2048,8,t,e)}function kx(t,e){return jc(4,2,t,e)}function Sx(t,e){return jc(4,4,t,e)}function Px(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tx(t,e,n){return n=n!=null?n.concat([t]):null,jc(4,4,Px.bind(null,e,t),n)}function If(){}function Ex(t,e){var n=Ft();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Tf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Cx(t,e){var n=Ft();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Tf(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Nx(t,e,n){return cs&21?(nn(n,e)||(n=Ay(),Le.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function eP(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var i=nh.transition;nh.transition={};try{t(!1),e()}finally{ge=n,nh.transition=i}}function Ix(){return Ft().memoizedState}function tP(t,e,n){var i=wi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Lx(t))Mx(e,n);else if(n=dx(t,e,n,i),n!==null){var s=lt();Qt(n,t,i,s),Ox(n,e,i)}}function nP(t,e,n){var i=wi(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lx(t))Mx(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(s.hasEagerState=!0,s.eagerState=c,nn(c,a)){var u=e.interleaved;u===null?(s.next=s,wf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=dx(t,e,s,i),n!==null&&(s=lt(),Qt(n,t,i,s),Ox(n,e,i))}}function Lx(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Mx(t,e){fo=Xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ox(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,af(t,n)}}var Jl={readContext:zt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},iP={readContext:zt,useCallback:function(t,e){return dn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:wg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bl(4194308,4,Px.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return bl(4,2,t,e)},useMemo:function(t,e){var n=dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=dn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=tP.bind(null,Le,t),[i.memoizedState,t]},useRef:function(t){var e=dn();return t={current:t},e.memoizedState=t},useState:xg,useDebugValue:If,useDeferredValue:function(t){return dn().memoizedState=t},useTransition:function(){var t=xg(!1),e=t[0];return t=eP.bind(null,t[1]),dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Le,s=dn();if(Ce){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ge===null)throw Error(H(349));cs&30||_x(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,wg(yx.bind(null,i,o,t),[t]),i.flags|=2048,Bo(9,vx.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=dn(),e=Ge.identifierPrefix;if(Ce){var n=On,i=Mn;n=(i&~(1<<32-Jt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=zo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sP={readContext:zt,useCallback:Ex,useContext:zt,useEffect:Nf,useImperativeHandle:Tx,useInsertionEffect:kx,useLayoutEffect:Sx,useMemo:Cx,useReducer:ih,useRef:bx,useState:function(){return ih(Fo)},useDebugValue:If,useDeferredValue:function(t){var e=Ft();return Nx(e,He.memoizedState,t)},useTransition:function(){var t=ih(Fo)[0],e=Ft().memoizedState;return[t,e]},useMutableSource:mx,useSyncExternalStore:gx,useId:Ix,unstable_isNewReconciler:!1},rP={readContext:zt,useCallback:Ex,useContext:zt,useEffect:Nf,useImperativeHandle:Tx,useInsertionEffect:kx,useLayoutEffect:Sx,useMemo:Cx,useReducer:sh,useRef:bx,useState:function(){return sh(Fo)},useDebugValue:If,useDeferredValue:function(t){var e=Ft();return He===null?e.memoizedState=t:Nx(e,He.memoizedState,t)},useTransition:function(){var t=sh(Fo)[0],e=Ft().memoizedState;return[t,e]},useMutableSource:mx,useSyncExternalStore:gx,useId:Ix,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function od(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dc={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=lt(),s=wi(t),o=zn(i,s);o.payload=e,n!=null&&(o.callback=n),e=yi(t,o,s),e!==null&&(Qt(e,t,s,i),xl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=lt(),s=wi(t),o=zn(i,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yi(t,o,s),e!==null&&(Qt(e,t,s,i),xl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),i=wi(t),s=zn(n,i);s.tag=2,e!=null&&(s.callback=e),e=yi(t,s,i),e!==null&&(Qt(e,t,i,n),xl(e,t,i))}};function bg(t,e,n,i,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Mo(n,i)||!Mo(s,o):!0}function Ax(t,e,n){var i=!1,s=Ni,o=e.contextType;return typeof o=="object"&&o!==null?o=zt(o):(s=yt(e)?as:st.current,i=e.contextTypes,o=(i=i!=null)?sr(t,s):Ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function kg(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Dc.enqueueReplaceState(e,e.state,null)}function ad(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},bf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=zt(o):(o=yt(e)?as:st.current,s.context=sr(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(od(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dc.enqueueReplaceState(s,s.state,null),Kl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function lr(t,e){try{var n="",i=e;do n+=Ok(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ld(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oP=typeof WeakMap=="function"?WeakMap:Map;function Rx(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ec||(ec=!0,vd=i),ld(t,e)},n}function jx(t,e,n){n=zn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){ld(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ld(t,e),typeof i!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Sg(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new oP;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=xP.bind(null,t,e,n),e.then(t,t))}function Pg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tg(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,yi(n,e,1))),n.lanes|=1),t)}var aP=Zn.ReactCurrentOwner,_t=!1;function at(t,e,n,i){e.child=t===null?hx(e,null,n,i):or(e,t.child,n,i)}function Eg(t,e,n,i,s){n=n.render;var o=e.ref;return Xs(e,s),i=Ef(t,e,n,i,o,s),n=Cf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(Ce&&n&&mf(e),e.flags|=1,at(t,e,i,s),e.child)}function Cg(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!zf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Dx(t,e,o,i,s)):(t=Tl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mo,n(a,i)&&t.ref===e.ref)return Wn(t,e,s)}return e.flags|=1,t=bi(o,i),t.ref=e.ref,t.return=e,e.child=t}function Dx(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(Mo(o,i)&&t.ref===e.ref)if(_t=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Wn(t,e,s)}return cd(t,e,n,i,s)}function zx(t,e,n){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we($s,wt),wt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we($s,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,we($s,wt),wt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,we($s,wt),wt|=i;return at(t,e,s,n),e.child}function Fx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cd(t,e,n,i,s){var o=yt(n)?as:st.current;return o=sr(e,o),Xs(e,s),n=Ef(t,e,n,i,o,s),i=Cf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(Ce&&i&&mf(e),e.flags|=1,at(t,e,n,s),e.child)}function Ng(t,e,n,i,s){if(yt(n)){var o=!0;Vl(e)}else o=!1;if(Xs(e,s),e.stateNode===null)kl(t,e),Ax(e,n,i),ad(e,n,i,s),i=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=zt(d):(d=yt(n)?as:st.current,d=sr(e,d));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==i||u!==d)&&kg(e,a,i,d),ii=!1;var _=e.memoizedState;a.state=_,Kl(e,i,a,s),u=e.memoizedState,c!==i||_!==u||vt.current||ii?(typeof m=="function"&&(od(e,n,m,i),u=e.memoizedState),(c=ii||bg(e,n,c,i,_,u,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=d,i=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,fx(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:$t(e.type,c),a.props=d,g=e.pendingProps,_=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=zt(u):(u=yt(n)?as:st.current,u=sr(e,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||_!==u)&&kg(e,a,i,u),ii=!1,_=e.memoizedState,a.state=_,Kl(e,i,a,s);var x=e.memoizedState;c!==g||_!==x||vt.current||ii?(typeof y=="function"&&(od(e,n,y,i),x=e.memoizedState),(d=ii||bg(e,n,d,i,_,x,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),a.props=i,a.state=x,a.context=u,i=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),i=!1)}return ud(t,e,n,i,o,s)}function ud(t,e,n,i,s,o){Fx(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&pg(e,n,!1),Wn(t,e,o);i=e.stateNode,aP.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=or(e,t.child,null,o),e.child=or(e,null,c,o)):at(t,e,c,o),e.memoizedState=i.state,s&&pg(e,n,!0),e.child}function Bx(t){var e=t.stateNode;e.pendingContext?fg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fg(t,e.context,!1),kf(t,e.containerInfo)}function Ig(t,e,n,i,s){return rr(),_f(s),e.flags|=256,at(t,e,n,i),e.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function dd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ux(t,e,n){var i=e.pendingProps,s=Ie.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(Ie,s&1),t===null)return sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Bc(a,i,0,null),t=rs(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dd(n),e.memoizedState=hd,t):Lf(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return lP(t,e,a,i,c,s,n);if(o){o=i.fallback,a=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=bi(s,u),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=bi(c,o):(o=rs(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?dd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=hd,i}return o=t.child,t=o.sibling,i=bi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Lf(t,e){return e=Bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qa(t,e,n,i){return i!==null&&_f(i),or(e,t.child,null,n),t=Lf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lP(t,e,n,i,s,o,a){if(n)return e.flags&256?(e.flags&=-257,i=rh(Error(H(422))),qa(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Bc({mode:"visible",children:i.children},s,0,null),o=rs(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&or(e,t.child,null,a),e.child.memoizedState=dd(a),e.memoizedState=hd,o);if(!(e.mode&1))return qa(t,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(H(419)),i=rh(o,i,void 0),qa(t,e,a,i)}if(c=(a&t.childLanes)!==0,_t||c){if(i=Ge,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Hn(t,s),Qt(i,t,s,-1))}return Df(),i=rh(Error(H(421))),qa(t,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wP.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,bt=vi(s.nextSibling),kt=e,Ce=!0,Gt=null,t!==null&&(Mt[Ot++]=Mn,Mt[Ot++]=On,Mt[Ot++]=ls,Mn=t.id,On=t.overflow,ls=e),e=Lf(e,i.children),e.flags|=4096,e)}function Lg(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),rd(t.return,e,n)}function oh(t,e,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function Hx(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(at(t,e,i.children,n),i=Ie.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,n,e);else if(t.tag===19)Lg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(we(Ie,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),oh(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}oh(e,!0,n,null,o);break;case"together":oh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cP(t,e,n){switch(e.tag){case 3:Bx(e),rr();break;case 5:px(e);break;case 1:yt(e.type)&&Vl(e);break;case 4:kf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;we(Gl,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(we(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?Ux(t,e,n):(we(Ie,Ie.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);we(Ie,Ie.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Hx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Ie,Ie.current),i)break;return null;case 22:case 23:return e.lanes=0,zx(t,e,n)}return Wn(t,e,n)}var Wx,fd,Vx,$x;Wx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fd=function(){};Vx=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,es(_n.current);var o=null;switch(n){case"input":s=Rh(t,s),i=Rh(t,i),o=[];break;case"select":s=Me({},s,{value:void 0}),i=Me({},i,{value:void 0}),o=[];break;case"textarea":s=zh(t,s),i=zh(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Hl)}Bh(n,i);var a;n=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Po.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var u=i[d];if(c=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Po.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Pe("scroll",t),o||c===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};$x=function(t,e,n,i){n!==i&&(e.flags|=4)};function Vr(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function uP(t,e,n){var i=e.pendingProps;switch(gf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return yt(e.type)&&Wl(),et(e),null;case 3:return i=e.stateNode,ar(),Ee(vt),Ee(st),Pf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(wd(Gt),Gt=null))),fd(t,e),et(e),null;case 5:Sf(e);var s=es(Do.current);if(n=e.type,t!==null&&e.stateNode!=null)Vx(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(H(166));return et(e),null}if(t=es(_n.current),Za(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[mn]=e,i[Ro]=o,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(s=0;s<eo.length;s++)Pe(eo[s],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Bm(i,o),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",i);break;case"textarea":Hm(i,o),Pe("invalid",i)}Bh(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&$a(i.textContent,c,t),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&$a(i.textContent,c,t),s=["children",""+c]):Po.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Pe("scroll",i)}switch(n){case"input":Da(i),Um(i,o,!0);break;case"textarea":Da(i),Wm(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Hl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[mn]=e,t[Ro]=i,Wx(t,e,!1,!1),e.stateNode=t;e:{switch(a=Uh(n,i),n){case"dialog":Pe("cancel",t),Pe("close",t),s=i;break;case"iframe":case"object":case"embed":Pe("load",t),s=i;break;case"video":case"audio":for(s=0;s<eo.length;s++)Pe(eo[s],t);s=i;break;case"source":Pe("error",t),s=i;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=i;break;case"details":Pe("toggle",t),s=i;break;case"input":Bm(t,i),s=Rh(t,i),Pe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Me({},i,{value:void 0}),Pe("invalid",t);break;case"textarea":Hm(t,i),s=zh(t,i),Pe("invalid",t);break;default:s=i}Bh(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?by(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xy(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&To(t,u):typeof u=="number"&&To(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Po.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Pe("scroll",t):u!=null&&ef(t,o,u,a))}switch(n){case"input":Da(t),Um(t,i,!1);break;case"textarea":Da(t),Wm(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ci(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Gs(t,!!i.multiple,o,!1):i.defaultValue!=null&&Gs(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)$x(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(H(166));if(n=es(Do.current),es(_n.current),Za(e)){if(i=e.stateNode,n=e.memoizedProps,i[mn]=e,(o=i.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:$a(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$a(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[mn]=e,e.stateNode=i}return et(e),null;case 13:if(Ee(Ie),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&bt!==null&&e.mode&1&&!(e.flags&128))cx(),rr(),e.flags|=98560,o=!1;else if(o=Za(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[mn]=e}else rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),o=!1}else Gt!==null&&(wd(Gt),Gt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Ve===0&&(Ve=3):Df())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return ar(),fd(t,e),t===null&&Oo(e.stateNode.containerInfo),et(e),null;case 10:return xf(e.type._context),et(e),null;case 17:return yt(e.type)&&Wl(),et(e),null;case 19:if(Ee(Ie),o=e.memoizedState,o===null)return et(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Vr(o,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yl(t),a!==null){for(e.flags|=128,Vr(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ie,Ie.current&1|2),e.child}t=t.sibling}o.tail!==null&&je()>cr&&(e.flags|=128,i=!0,Vr(o,!1),e.lanes=4194304)}else{if(!i)if(t=Yl(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ce)return et(e),null}else 2*je()-o.renderingStartTime>cr&&n!==1073741824&&(e.flags|=128,i=!0,Vr(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=je(),e.sibling=null,n=Ie.current,we(Ie,i?n&1|2:n&1),e):(et(e),null);case 22:case 23:return jf(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?wt&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function hP(t,e){switch(gf(e),e.tag){case 1:return yt(e.type)&&Wl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ar(),Ee(vt),Ee(st),Pf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sf(e),null;case 13:if(Ee(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Ie),null;case 4:return ar(),null;case 10:return xf(e.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var Ka=!1,nt=!1,dP=typeof WeakSet=="function"?WeakSet:Set,$=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Oe(t,e,i)}else n.current=null}function pd(t,e,n){try{n()}catch(i){Oe(t,e,i)}}var Mg=!1;function fP(t,e){if(Xh=Fl,t=Yy(),pf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,m=0,g=t,_=null;t:for(;;){for(var y;g!==n||s!==0&&g.nodeType!==3||(c=a+s),g!==o||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(y=g.firstChild)!==null;)_=g,g=y;for(;;){if(g===t)break t;if(_===n&&++d===s&&(c=a),_===o&&++m===i&&(u=a),(y=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jh={focusedElem:t,selectionRange:n},Fl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,k=x.memoizedState,b=e.stateNode,P=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:$t(e.type,w),k);b.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){Oe(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=Mg,Mg=!1,x}function po(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&pd(e,n,o)}s=s.next}while(s!==i)}}function zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function md(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zx(t){var e=t.alternate;e!==null&&(t.alternate=null,Zx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[Ro],delete e[td],delete e[KS],delete e[YS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gx(t){return t.tag===5||t.tag===3||t.tag===4}function Og(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hl));else if(i!==4&&(t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}function _d(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(_d(t,e,n),t=t.sibling;t!==null;)_d(t,e,n),t=t.sibling}var Ye=null,Zt=!1;function Jn(t,e,n){for(n=n.child;n!==null;)qx(t,e,n),n=n.sibling}function qx(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Ic,n)}catch{}switch(n.tag){case 5:nt||Vs(n,e);case 6:var i=Ye,s=Zt;Ye=null,Jn(t,e,n),Ye=i,Zt=s,Ye!==null&&(Zt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Zt?(t=Ye,n=n.stateNode,t.nodeType===8?Qu(t.parentNode,n):t.nodeType===1&&Qu(t,n),Io(t)):Qu(Ye,n.stateNode));break;case 4:i=Ye,s=Zt,Ye=n.stateNode.containerInfo,Zt=!0,Jn(t,e,n),Ye=i,Zt=s;break;case 0:case 11:case 14:case 15:if(!nt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&pd(n,e,a),s=s.next}while(s!==i)}Jn(t,e,n);break;case 1:if(!nt&&(Vs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Oe(n,e,c)}Jn(t,e,n);break;case 21:Jn(t,e,n);break;case 22:n.mode&1?(nt=(i=nt)||n.memoizedState!==null,Jn(t,e,n),nt=i):Jn(t,e,n);break;default:Jn(t,e,n)}}function Ag(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dP),e.forEach(function(i){var s=bP.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ye=c.stateNode,Zt=!1;break e;case 3:Ye=c.stateNode.containerInfo,Zt=!0;break e;case 4:Ye=c.stateNode.containerInfo,Zt=!0;break e}c=c.return}if(Ye===null)throw Error(H(160));qx(o,a,s),Ye=null,Zt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Oe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kx(e,t),e=e.sibling}function Kx(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),cn(t),i&4){try{po(3,t,t.return),zc(3,t)}catch(w){Oe(t,t.return,w)}try{po(5,t,t.return)}catch(w){Oe(t,t.return,w)}}break;case 1:Vt(e,t),cn(t),i&512&&n!==null&&Vs(n,n.return);break;case 5:if(Vt(e,t),cn(t),i&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{To(s,"")}catch(w){Oe(t,t.return,w)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&_y(s,o),Uh(c,a);var d=Uh(c,o);for(a=0;a<u.length;a+=2){var m=u[a],g=u[a+1];m==="style"?by(s,g):m==="dangerouslySetInnerHTML"?xy(s,g):m==="children"?To(s,g):ef(s,m,g,d)}switch(c){case"input":jh(s,o);break;case"textarea":vy(s,o);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Gs(s,!!o.multiple,y,!1):_!==!!o.multiple&&(o.defaultValue!=null?Gs(s,!!o.multiple,o.defaultValue,!0):Gs(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ro]=o}catch(w){Oe(t,t.return,w)}}break;case 6:if(Vt(e,t),cn(t),i&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){Oe(t,t.return,w)}}break;case 3:if(Vt(e,t),cn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(w){Oe(t,t.return,w)}break;case 4:Vt(e,t),cn(t);break;case 13:Vt(e,t),cn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Af=je())),i&4&&Ag(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(d=nt)||m,Vt(e,t),nt=d):Vt(e,t),cn(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for($=t,m=t.child;m!==null;){for(g=$=m;$!==null;){switch(_=$,y=_.child,_.tag){case 0:case 11:case 14:case 15:po(4,_,_.return);break;case 1:Vs(_,_.return);var x=_.stateNode;if(typeof x.componentWillUnmount=="function"){i=_,n=_.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Oe(i,n,w)}}break;case 5:Vs(_,_.return);break;case 22:if(_.memoizedState!==null){jg(g);continue}}y!==null?(y.return=_,$=y):jg(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{s=g.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=wy("display",a))}catch(w){Oe(t,t.return,w)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(w){Oe(t,t.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Vt(e,t),cn(t),i&4&&Ag(t);break;case 21:break;default:Vt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gx(n)){var i=n;break e}n=n.return}throw Error(H(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(To(s,""),i.flags&=-33);var o=Og(t);_d(t,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,c=Og(t);gd(t,c,a);break;default:throw Error(H(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pP(t,e,n){$=t,Yx(t)}function Yx(t,e,n){for(var i=(t.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Ka;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||nt;c=Ka;var d=nt;if(Ka=a,(nt=u)&&!d)for($=s;$!==null;)a=$,u=a.child,a.tag===22&&a.memoizedState!==null?Dg(s):u!==null?(u.return=a,$=u):Dg(s);for(;o!==null;)$=o,Yx(o),o=o.sibling;$=s,Ka=c,nt=d}Rg(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):Rg(t)}}function Rg(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||zc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!nt)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yg(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yg(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Io(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}nt||e.flags&512&&md(e)}catch(_){Oe(e,e.return,_)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function jg(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Dg(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zc(4,e)}catch(u){Oe(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(u){Oe(e,s,u)}}var o=e.return;try{md(e)}catch(u){Oe(e,o,u)}break;case 5:var a=e.return;try{md(e)}catch(u){Oe(e,a,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){$=null;break}var c=e.sibling;if(c!==null){c.return=e.return,$=c;break}$=e.return}}var mP=Math.ceil,Ql=Zn.ReactCurrentDispatcher,Mf=Zn.ReactCurrentOwner,Dt=Zn.ReactCurrentBatchConfig,fe=0,Ge=null,Ue=null,Xe=0,wt=0,$s=Mi(0),Ve=0,Uo=null,us=0,Fc=0,Of=0,mo=null,mt=null,Af=0,cr=1/0,Cn=null,ec=!1,vd=null,xi=null,Ya=!1,di=null,tc=0,go=0,yd=null,Sl=-1,Pl=0;function lt(){return fe&6?je():Sl!==-1?Sl:Sl=je()}function wi(t){return t.mode&1?fe&2&&Xe!==0?Xe&-Xe:JS.transition!==null?(Pl===0&&(Pl=Ay()),Pl):(t=ge,t!==0||(t=window.event,t=t===void 0?16:Uy(t.type)),t):1}function Qt(t,e,n,i){if(50<go)throw go=0,yd=null,Error(H(185));ea(t,n,i),(!(fe&2)||t!==Ge)&&(t===Ge&&(!(fe&2)&&(Fc|=n),Ve===4&&oi(t,Xe)),xt(t,i),n===1&&fe===0&&!(e.mode&1)&&(cr=je()+500,Rc&&Oi()))}function xt(t,e){var n=t.callbackNode;Jk(t,e);var i=zl(t,t===Ge?Xe:0);if(i===0)n!==null&&Zm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Zm(n),e===1)t.tag===0?XS(zg.bind(null,t)):ox(zg.bind(null,t)),GS(function(){!(fe&6)&&Oi()}),n=null;else{switch(Ry(i)){case 1:n=of;break;case 4:n=My;break;case 16:n=Dl;break;case 536870912:n=Oy;break;default:n=Dl}n=s0(n,Xx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xx(t,e){if(Sl=-1,Pl=0,fe&6)throw Error(H(327));var n=t.callbackNode;if(Js()&&t.callbackNode!==n)return null;var i=zl(t,t===Ge?Xe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=nc(t,i);else{e=i;var s=fe;fe|=2;var o=Qx();(Ge!==t||Xe!==e)&&(Cn=null,cr=je()+500,ss(t,e));do try{vP();break}catch(c){Jx(t,c)}while(!0);yf(),Ql.current=o,fe=s,Ue!==null?e=0:(Ge=null,Xe=0,e=Ve)}if(e!==0){if(e===2&&(s=Zh(t),s!==0&&(i=s,e=xd(t,s))),e===1)throw n=Uo,ss(t,0),oi(t,i),xt(t,je()),n;if(e===6)oi(t,i);else{if(s=t.current.alternate,!(i&30)&&!gP(s)&&(e=nc(t,i),e===2&&(o=Zh(t),o!==0&&(i=o,e=xd(t,o))),e===1))throw n=Uo,ss(t,0),oi(t,i),xt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(H(345));case 2:Gi(t,mt,Cn);break;case 3:if(oi(t,i),(i&130023424)===i&&(e=Af+500-je(),10<e)){if(zl(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ed(Gi.bind(null,t,mt,Cn),e);break}Gi(t,mt,Cn);break;case 4:if(oi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var a=31-Jt(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mP(i/1960))-i,10<i){t.timeoutHandle=ed(Gi.bind(null,t,mt,Cn),i);break}Gi(t,mt,Cn);break;case 5:Gi(t,mt,Cn);break;default:throw Error(H(329))}}}return xt(t,je()),t.callbackNode===n?Xx.bind(null,t):null}function xd(t,e){var n=mo;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=nc(t,e),t!==2&&(e=mt,mt=n,e!==null&&wd(e)),t}function wd(t){mt===null?mt=t:mt.push.apply(mt,t)}function gP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!nn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Of,e&=~Fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),i=1<<n;t[n]=-1,e&=~i}}function zg(t){if(fe&6)throw Error(H(327));Js();var e=zl(t,0);if(!(e&1))return xt(t,je()),null;var n=nc(t,e);if(t.tag!==0&&n===2){var i=Zh(t);i!==0&&(e=i,n=xd(t,i))}if(n===1)throw n=Uo,ss(t,0),oi(t,e),xt(t,je()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,mt,Cn),xt(t,je()),null}function Rf(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(cr=je()+500,Rc&&Oi())}}function hs(t){di!==null&&di.tag===0&&!(fe&6)&&Js();var e=fe;fe|=1;var n=Dt.transition,i=ge;try{if(Dt.transition=null,ge=1,t)return t()}finally{ge=i,Dt.transition=n,fe=e,!(fe&6)&&Oi()}}function jf(){wt=$s.current,Ee($s)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZS(n)),Ue!==null)for(n=Ue.return;n!==null;){var i=n;switch(gf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wl();break;case 3:ar(),Ee(vt),Ee(st),Pf();break;case 5:Sf(i);break;case 4:ar();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:xf(i.type._context);break;case 22:case 23:jf()}n=n.return}if(Ge=t,Ue=t=bi(t.current,null),Xe=wt=e,Ve=0,Uo=null,Of=Fc=us=0,mt=mo=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}n.pending=i}Qi=null}return t}function Jx(t,e){do{var n=Ue;try{if(yf(),wl.current=Jl,Xl){for(var i=Le.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xl=!1}if(cs=0,Ze=He=Le=null,fo=!1,zo=0,Mf.current=null,n===null||n.return===null){Ve=1,Uo=e,Ue=null;break}e:{var o=t,a=n.return,c=n,u=e;if(e=Xe,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=c,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Pg(a);if(y!==null){y.flags&=-257,Tg(y,a,c,o,e),y.mode&1&&Sg(o,d,e),e=y,u=d;var x=e.updateQueue;if(x===null){var w=new Set;w.add(u),e.updateQueue=w}else x.add(u);break e}else{if(!(e&1)){Sg(o,d,e),Df();break e}u=Error(H(426))}}else if(Ce&&c.mode&1){var k=Pg(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Tg(k,a,c,o,e),_f(lr(u,c));break e}}o=u=lr(u,c),Ve!==4&&(Ve=2),mo===null?mo=[o]:mo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=Rx(o,u,e);vg(o,b);break e;case 1:c=u;var P=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(xi===null||!xi.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=jx(o,c,e);vg(o,N);break e}}o=o.return}while(o!==null)}t0(n)}catch(I){e=I,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Qx(){var t=Ql.current;return Ql.current=Jl,t===null?Jl:t}function Df(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ge===null||!(us&268435455)&&!(Fc&268435455)||oi(Ge,Xe)}function nc(t,e){var n=fe;fe|=2;var i=Qx();(Ge!==t||Xe!==e)&&(Cn=null,ss(t,e));do try{_P();break}catch(s){Jx(t,s)}while(!0);if(yf(),fe=n,Ql.current=i,Ue!==null)throw Error(H(261));return Ge=null,Xe=0,Ve}function _P(){for(;Ue!==null;)e0(Ue)}function vP(){for(;Ue!==null&&!Wk();)e0(Ue)}function e0(t){var e=i0(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?t0(t):Ue=e,Mf.current=null}function t0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hP(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Ue=null;return}}else if(n=uP(n,e,wt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);Ve===0&&(Ve=5)}function Gi(t,e,n){var i=ge,s=Dt.transition;try{Dt.transition=null,ge=1,yP(t,e,n,i)}finally{Dt.transition=s,ge=i}return null}function yP(t,e,n,i){do Js();while(di!==null);if(fe&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Qk(t,o),t===Ge&&(Ue=Ge=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ya||(Ya=!0,s0(Dl,function(){return Js(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var a=ge;ge=1;var c=fe;fe|=4,Mf.current=null,fP(t,n),Kx(n,t),FS(Jh),Fl=!!Xh,Jh=Xh=null,t.current=n,pP(n),Vk(),fe=c,ge=a,Dt.transition=o}else t.current=n;if(Ya&&(Ya=!1,di=t,tc=s),o=t.pendingLanes,o===0&&(xi=null),Gk(n.stateNode),xt(t,je()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ec)throw ec=!1,t=vd,vd=null,t;return tc&1&&t.tag!==0&&Js(),o=t.pendingLanes,o&1?t===yd?go++:(go=0,yd=t):go=0,Oi(),null}function Js(){if(di!==null){var t=Ry(tc),e=Dt.transition,n=ge;try{if(Dt.transition=null,ge=16>t?16:t,di===null)var i=!1;else{if(t=di,di=null,tc=0,fe&6)throw Error(H(331));var s=fe;for(fe|=4,$=t.current;$!==null;){var o=$,a=o.child;if($.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for($=d;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:po(8,m,o)}var g=m.child;if(g!==null)g.return=m,$=g;else for(;$!==null;){m=$;var _=m.sibling,y=m.return;if(Zx(m),m===d){$=null;break}if(_!==null){_.return=y,$=_;break}$=y}}}var x=o.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}$=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,$=a;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,$=b;break e}$=o.return}}var P=t.current;for($=P;$!==null;){a=$;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,$=T;else e:for(a=P;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:zc(9,c)}}catch(I){Oe(c,c.return,I)}if(c===a){$=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,$=N;break e}$=c.return}}if(fe=s,Oi(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Ic,t)}catch{}i=!0}return i}finally{ge=n,Dt.transition=e}}return!1}function Fg(t,e,n){e=lr(n,e),e=Rx(t,e,1),t=yi(t,e,1),e=lt(),t!==null&&(ea(t,1,e),xt(t,e))}function Oe(t,e,n){if(t.tag===3)Fg(t,t,n);else for(;e!==null;){if(e.tag===3){Fg(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xi===null||!xi.has(i))){t=lr(n,t),t=jx(e,t,1),e=yi(e,t,1),t=lt(),e!==null&&(ea(e,1,t),xt(e,t));break}}e=e.return}}function xP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>je()-Af?ss(t,0):Of|=n),xt(t,e)}function n0(t,e){e===0&&(t.mode&1?(e=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):e=1);var n=lt();t=Hn(t,e),t!==null&&(ea(t,e,n),xt(t,n))}function wP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n0(t,n)}function bP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(H(314))}i!==null&&i.delete(e),n0(t,n)}var i0;i0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,cP(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ce&&e.flags&1048576&&ax(e,Zl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;kl(t,e),t=e.pendingProps;var s=sr(e,st.current);Xs(e,n),s=Ef(null,e,i,t,s,n);var o=Cf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yt(i)?(o=!0,Vl(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bf(e),s.updater=Dc,e.stateNode=s,s._reactInternals=e,ad(e,i,t,n),e=ud(null,e,i,!0,o,n)):(e.tag=0,Ce&&o&&mf(e),at(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(kl(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=SP(i),t=$t(i,t),s){case 0:e=cd(null,e,i,t,n);break e;case 1:e=Ng(null,e,i,t,n);break e;case 11:e=Eg(null,e,i,t,n);break e;case 14:e=Cg(null,e,i,$t(i.type,t),n);break e}throw Error(H(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:$t(i,s),cd(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:$t(i,s),Ng(t,e,i,s,n);case 3:e:{if(Bx(e),t===null)throw Error(H(387));i=e.pendingProps,o=e.memoizedState,s=o.element,fx(t,e),Kl(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=lr(Error(H(423)),e),e=Ig(t,e,i,n,s);break e}else if(i!==s){s=lr(Error(H(424)),e),e=Ig(t,e,i,n,s);break e}else for(bt=vi(e.stateNode.containerInfo.firstChild),kt=e,Ce=!0,Gt=null,n=hx(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rr(),i===s){e=Wn(t,e,n);break e}at(t,e,i,n)}e=e.child}return e;case 5:return px(e),t===null&&sd(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Qh(i,s)?a=null:o!==null&&Qh(i,o)&&(e.flags|=32),Fx(t,e),at(t,e,a,n),e.child;case 6:return t===null&&sd(e),null;case 13:return Ux(t,e,n);case 4:return kf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=or(e,null,i,n):at(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:$t(i,s),Eg(t,e,i,s,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,we(Gl,i._currentValue),i._currentValue=a,o!==null)if(nn(o.value,a)){if(o.children===s.children&&!vt.current){e=Wn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var u=c.firstContext;u!==null;){if(u.context===i){if(o.tag===1){u=zn(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),rd(o.return,n,e),c.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rd(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}at(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Xs(e,n),s=zt(s),i=i(s),e.flags|=1,at(t,e,i,n),e.child;case 14:return i=e.type,s=$t(i,e.pendingProps),s=$t(i.type,s),Cg(t,e,i,s,n);case 15:return Dx(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:$t(i,s),kl(t,e),e.tag=1,yt(i)?(t=!0,Vl(e)):t=!1,Xs(e,n),Ax(e,i,s),ad(e,i,s,n),ud(null,e,i,!0,t,n);case 19:return Hx(t,e,n);case 22:return zx(t,e,n)}throw Error(H(156,e.tag))};function s0(t,e){return Ly(t,e)}function kP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,e,n,i){return new kP(t,e,n,i)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SP(t){if(typeof t=="function")return zf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nf)return 11;if(t===sf)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=At(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,i,s,o){var a=2;if(i=t,typeof t=="function")zf(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Rs:return rs(n.children,s,o,e);case tf:a=8,s|=8;break;case Lh:return t=At(12,n,e,s|2),t.elementType=Lh,t.lanes=o,t;case Mh:return t=At(13,n,e,s),t.elementType=Mh,t.lanes=o,t;case Oh:return t=At(19,n,e,s),t.elementType=Oh,t.lanes=o,t;case py:return Bc(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dy:a=10;break e;case fy:a=9;break e;case nf:a=11;break e;case sf:a=14;break e;case ni:a=16,i=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=At(a,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function rs(t,e,n,i){return t=At(7,t,i,e),t.lanes=n,t}function Bc(t,e,n,i){return t=At(22,t,i,e),t.elementType=py,t.lanes=n,t.stateNode={isHidden:!1},t}function ah(t,e,n){return t=At(6,t,null,e),t.lanes=n,t}function lh(t,e,n){return e=At(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PP(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ff(t,e,n,i,s,o,a,c,u){return t=new PP(t,e,n,c,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=At(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(o),t}function TP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function r0(t){if(!t)return Ni;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(yt(n))return rx(t,n,e)}return e}function o0(t,e,n,i,s,o,a,c,u){return t=Ff(n,i,!0,t,s,o,a,c,u),t.context=r0(null),n=t.current,i=lt(),s=wi(n),o=zn(i,s),o.callback=e??null,yi(n,o,s),t.current.lanes=s,ea(t,s,i),xt(t,i),t}function Uc(t,e,n,i){var s=e.current,o=lt(),a=wi(s);return n=r0(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=yi(s,e,a),t!==null&&(Qt(t,s,a,o),xl(t,s,a)),a}function ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bf(t,e){Bg(t,e),(t=t.alternate)&&Bg(t,e)}function EP(){return null}var a0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uf(t){this._internalRoot=t}Hc.prototype.render=Uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Uc(t,e,null,null)};Hc.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Uc(null,t,null,null)}),e[Un]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var e=zy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&By(t)}};function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ug(){}function CP(t,e,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var d=ic(a);o.call(d)}}var a=o0(e,i,t,0,null,!1,!1,"",Ug);return t._reactRootContainer=a,t[Un]=a.current,Oo(t.nodeType===8?t.parentNode:t),hs(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var d=ic(u);c.call(d)}}var u=Ff(t,0,!1,null,null,!1,!1,"",Ug);return t._reactRootContainer=u,t[Un]=u.current,Oo(t.nodeType===8?t.parentNode:t),hs(function(){Uc(e,u,n,i)}),u}function Vc(t,e,n,i,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var c=s;s=function(){var u=ic(a);c.call(u)}}Uc(e,a,t,s)}else a=CP(n,e,t,s,i);return ic(a)}jy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qr(e.pendingLanes);n!==0&&(af(e,n|1),xt(e,je()),!(fe&6)&&(cr=je()+500,Oi()))}break;case 13:hs(function(){var i=Hn(t,1);if(i!==null){var s=lt();Qt(i,t,1,s)}}),Bf(t,1)}};lf=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=lt();Qt(e,t,134217728,n)}Bf(t,134217728)}};Dy=function(t){if(t.tag===13){var e=wi(t),n=Hn(t,e);if(n!==null){var i=lt();Qt(n,t,e,i)}Bf(t,e)}};zy=function(){return ge};Fy=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Wh=function(t,e,n){switch(e){case"input":if(jh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Ac(i);if(!s)throw Error(H(90));gy(i),jh(i,s)}}}break;case"textarea":vy(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};Py=Rf;Ty=hs;var NP={usingClientEntryPoint:!1,Events:[na,Fs,Ac,ky,Sy,Rf]},$r={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IP={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ny(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||EP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{Ic=Xa.inject(IP),gn=Xa}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;Pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(e))throw Error(H(200));return TP(t,e,null,n)};Pt.createRoot=function(t,e){if(!Hf(t))throw Error(H(299));var n=!1,i="",s=a0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ff(t,1,!1,null,null,n,!1,i,s),t[Un]=e.current,Oo(t.nodeType===8?t.parentNode:t),new Uf(e)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Ny(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return hs(t)};Pt.hydrate=function(t,e,n){if(!Wc(e))throw Error(H(200));return Vc(null,t,e,!0,n)};Pt.hydrateRoot=function(t,e,n){if(!Hf(t))throw Error(H(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",a=a0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=o0(e,null,t,1,n??null,s,!1,o,a),t[Un]=e.current,Oo(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hc(e)};Pt.render=function(t,e,n){if(!Wc(e))throw Error(H(200));return Vc(null,t,e,!1,n)};Pt.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(H(40));return t._reactRootContainer?(hs(function(){Vc(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Pt.unstable_batchedUpdates=Rf;Pt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Wc(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Vc(t,e,n,!1,i)};Pt.version="18.3.1-next-f1338f8080-20240426";function l0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l0)}catch(t){console.error(t)}}l0(),ly.exports=Pt;var LP=ly.exports,c0,Hg=LP;c0=Hg.createRoot,Hg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ho.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const Wg="popstate";function MP(t){t===void 0&&(t={});function e(s,o){let{pathname:a="/",search:c="",hash:u=""}=vs(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),bd("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let a=s.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof o=="string"?o:sc(o))}function i(s,o){Wf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return AP(e,n,i,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OP(){return Math.random().toString(36).substr(2,8)}function Vg(t,e){return{usr:t.state,key:t.key,idx:e}}function bd(t,e,n,i){return n===void 0&&(n=null),Ho({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||i||OP()})}function sc(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function AP(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,c=fi.Pop,u=null,d=m();d==null&&(d=0,a.replaceState(Ho({},a.state,{idx:d}),""));function m(){return(a.state||{idx:null}).idx}function g(){c=fi.Pop;let k=m(),b=k==null?null:k-d;d=k,u&&u({action:c,location:w.location,delta:b})}function _(k,b){c=fi.Push;let P=bd(w.location,k,b);n&&n(P,k),d=m()+1;let T=Vg(P,d),N=w.createHref(P);try{a.pushState(T,"",N)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(N)}o&&u&&u({action:c,location:w.location,delta:1})}function y(k,b){c=fi.Replace;let P=bd(w.location,k,b);n&&n(P,k),d=m();let T=Vg(P,d),N=w.createHref(P);a.replaceState(T,"",N),o&&u&&u({action:c,location:w.location,delta:0})}function x(k){let b=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof k=="string"?k:sc(k);return P=P.replace(/ $/,"%20"),Ae(b,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,b)}let w={get action(){return c},get location(){return t(s,a)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Wg,g),u=k,()=>{s.removeEventListener(Wg,g),u=null}},createHref(k){return e(s,k)},createURL:x,encodeLocation(k){let b=x(k);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:y,go(k){return a.go(k)}};return w}var $g;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($g||($g={}));function RP(t,e,n){return n===void 0&&(n="/"),jP(t,e,n,!1)}function jP(t,e,n,i){let s=typeof e=="string"?vs(e):e,o=ur(s.pathname||"/",n);if(o==null)return null;let a=u0(t);DP(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=qP(o);c=ZP(a[u],d,i)}return c}function u0(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(o,a,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let d=ki([i,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(Ae(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),u0(o.children,e,m,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:VP(d,o.index),routesMeta:m})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,a);else for(let u of h0(o.path))s(o,a,u)}),e}function h0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let a=h0(i.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function DP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$P(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const zP=/^:[\w-]+$/,FP=3,BP=2,UP=1,HP=10,WP=-2,Zg=t=>t==="*";function VP(t,e){let n=t.split("/"),i=n.length;return n.some(Zg)&&(i+=WP),e&&(i+=BP),n.filter(s=>!Zg(s)).reduce((s,o)=>s+(zP.test(o)?FP:o===""?UP:HP),i)}function $P(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function ZP(t,e,n){let{routesMeta:i}=t,s={},o="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],d=c===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=rc({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),_=u.route;if(!g&&d&&n&&!i[i.length-1].route.index&&(g=rc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:ki([o,g.pathname]),pathnameBase:JP(ki([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=ki([o,g.pathnameBase]))}return a}function rc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=GP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,m,g)=>{let{paramName:_,isOptional:y}=m;if(_==="*"){let w=c[g]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[g];return y&&!x?d[_]=void 0:d[_]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function GP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function qP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function KP(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:YP(n,e):e,search:QP(i),hash:eT(s)}}function YP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ch(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d0(t,e){let n=XP(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function f0(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=vs(t):(s=Ho({},t),Ae(!s.pathname||!s.pathname.includes("?"),ch("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),ch("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),ch("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),g-=1;s.pathname=_.join("/")}c=g>=0?e[g]:"/"}let u=KP(s,c),d=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const ki=t=>t.join("/").replace(/\/\/+/g,"/"),JP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const p0=["post","put","patch","delete"];new Set(p0);const nT=["get",...p0];new Set(nT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wo.apply(this,arguments)}const $c=O.createContext(null),m0=O.createContext(null),Ai=O.createContext(null),Zc=O.createContext(null),Ri=O.createContext({outlet:null,matches:[],isDataRoute:!1}),g0=O.createContext(null);function iT(t,e){let{relative:n}=e===void 0?{}:e;sa()||Ae(!1);let{basename:i,navigator:s}=O.useContext(Ai),{hash:o,pathname:a,search:c}=Gc(t,{relative:n}),u=a;return i!=="/"&&(u=a==="/"?i:ki([i,a])),s.createHref({pathname:u,search:c,hash:o})}function sa(){return O.useContext(Zc)!=null}function ys(){return sa()||Ae(!1),O.useContext(Zc).location}function _0(t){O.useContext(Ai).static||O.useLayoutEffect(t)}function xr(){let{isDataRoute:t}=O.useContext(Ri);return t?_T():sT()}function sT(){sa()||Ae(!1);let t=O.useContext($c),{basename:e,future:n,navigator:i}=O.useContext(Ai),{matches:s}=O.useContext(Ri),{pathname:o}=ys(),a=JSON.stringify(d0(s,n.v7_relativeSplatPath)),c=O.useRef(!1);return _0(()=>{c.current=!0}),O.useCallback(function(d,m){if(m===void 0&&(m={}),!c.current)return;if(typeof d=="number"){i.go(d);return}let g=f0(d,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ki([e,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[e,i,a,o,t])}function rT(){let{matches:t}=O.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function Gc(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=O.useContext(Ai),{matches:s}=O.useContext(Ri),{pathname:o}=ys(),a=JSON.stringify(d0(s,i.v7_relativeSplatPath));return O.useMemo(()=>f0(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function oT(t,e){return aT(t,e)}function aT(t,e,n,i){sa()||Ae(!1);let{navigator:s}=O.useContext(Ai),{matches:o}=O.useContext(Ri),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=ys(),m;if(e){var g;let k=typeof e=="string"?vs(e):e;u==="/"||(g=k.pathname)!=null&&g.startsWith(u)||Ae(!1),m=k}else m=d;let _=m.pathname||"/",y=_;if(u!=="/"){let k=u.replace(/^\//,"").split("/");y="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=RP(t,{pathname:y}),w=dT(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:ki([u,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:ki([u,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,i);return e&&w?O.createElement(Zc.Provider,{value:{location:Wo({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:fi.Pop}},w):w}function lT(){let t=gT(),e=tT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const cT=O.createElement(lT,null);class uT extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Ri.Provider,{value:this.props.routeContext},O.createElement(g0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hT(t){let{routeContext:e,match:n,children:i}=t,s=O.useContext($c);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Ri.Provider,{value:e},i)}function dT(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||Ae(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:y}=n,x=g.route.loader&&_[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||x){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let y,x=!1,w=null,k=null;n&&(y=c&&g.route.id?c[g.route.id]:void 0,w=g.route.errorElement||cT,u&&(d<0&&_===0?(x=!0,k=null):d===_&&(x=!0,k=g.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,_+1)),P=()=>{let T;return y?T=w:x?T=k:g.route.Component?T=O.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=m,O.createElement(hT,{match:g,routeContext:{outlet:m,matches:b,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?O.createElement(uT,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):P()},null)}var v0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(v0||{}),oc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oc||{});function fT(t){let e=O.useContext($c);return e||Ae(!1),e}function pT(t){let e=O.useContext(m0);return e||Ae(!1),e}function mT(t){let e=O.useContext(Ri);return e||Ae(!1),e}function y0(t){let e=mT(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function gT(){var t;let e=O.useContext(g0),n=pT(oc.UseRouteError),i=y0(oc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function _T(){let{router:t}=fT(v0.UseNavigateStable),e=y0(oc.UseNavigateStable),n=O.useRef(!1);return _0(()=>{n.current=!0}),O.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wo({fromRouteId:e},o)))},[t,e])}function vT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function qi(t){Ae(!1)}function yT(t){let{basename:e="/",children:n=null,location:i,navigationType:s=fi.Pop,navigator:o,static:a=!1,future:c}=t;sa()&&Ae(!1);let u=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:u,navigator:o,static:a,future:Wo({v7_relativeSplatPath:!1},c)}),[u,c,o,a]);typeof i=="string"&&(i=vs(i));let{pathname:m="/",search:g="",hash:_="",state:y=null,key:x="default"}=i,w=O.useMemo(()=>{let k=ur(m,u);return k==null?null:{location:{pathname:k,search:g,hash:_,state:y,key:x},navigationType:s}},[u,m,g,_,y,x,s]);return w==null?null:O.createElement(Ai.Provider,{value:d},O.createElement(Zc.Provider,{children:n,value:w}))}function Gg(t){let{children:e,location:n}=t;return oT(kd(e),n)}new Promise(()=>{});function kd(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(i,s)=>{if(!O.isValidElement(i))return;let o=[...e,s];if(i.type===O.Fragment){n.push.apply(n,kd(i.props.children,o));return}i.type!==qi&&Ae(!1),!i.props.index||!i.props.children||Ae(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=kd(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ac.apply(this,arguments)}function x0(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function xT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wT(t,e){return t.button===0&&(!e||e==="_self")&&!xT(t)}const bT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ST="6";try{window.__reactRouterVersion=ST}catch{}const PT=O.createContext({isTransitioning:!1}),TT="startTransition",qg=xk[TT];function ET(t){let{basename:e,children:n,future:i,window:s}=t,o=O.useRef();o.current==null&&(o.current=MP({window:s,v5Compat:!0}));let a=o.current,[c,u]=O.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},m=O.useCallback(g=>{d&&qg?qg(()=>u(g)):u(g)},[u,d]);return O.useLayoutEffect(()=>a.listen(m),[a,m]),O.useEffect(()=>vT(i),[i]),O.createElement(yT,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:i})}const CT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=O.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:o,replace:a,state:c,target:u,to:d,preventScrollReset:m,viewTransition:g}=e,_=x0(e,bT),{basename:y}=O.useContext(Ai),x,w=!1;if(typeof d=="string"&&NT.test(d)&&(x=d,CT))try{let T=new URL(window.location.href),N=d.startsWith("//")?new URL(T.protocol+d):new URL(d),I=ur(N.pathname,y);N.origin===T.origin&&I!=null?d=I+N.search+N.hash:w=!0}catch{}let k=iT(d,{relative:s}),b=LT(d,{replace:a,state:c,target:u,preventScrollReset:m,relative:s,viewTransition:g});function P(T){i&&i(T),T.defaultPrevented||b(T)}return O.createElement("a",ac({},_,{href:x||k,onClick:w||o?i:P,ref:n,target:u}))}),w0=O.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:o="",end:a=!1,style:c,to:u,viewTransition:d,children:m}=e,g=x0(e,kT),_=Gc(u,{relative:g.relative}),y=ys(),x=O.useContext(m0),{navigator:w,basename:k}=O.useContext(Ai),b=x!=null&&MT(_)&&d===!0,P=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,T=y.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(T=T.toLowerCase(),N=N?N.toLowerCase():null,P=P.toLowerCase()),N&&k&&(N=ur(N,k)||N);const I=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let A=T===P||!a&&T.startsWith(P)&&T.charAt(I)==="/",R=N!=null&&(N===P||!a&&N.startsWith(P)&&N.charAt(P.length)==="/"),E={isActive:A,isPending:R,isTransitioning:b},D=A?i:void 0,B;typeof o=="function"?B=o(E):B=[o,A?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(E):c;return O.createElement(Be,ac({},g,{"aria-current":D,className:B,ref:n,style:W,to:u,viewTransition:d}),typeof m=="function"?m(E):m)});var Sd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sd||(Sd={}));var Kg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kg||(Kg={}));function IT(t){let e=O.useContext($c);return e||Ae(!1),e}function LT(t,e){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,u=xr(),d=ys(),m=Gc(t,{relative:a});return O.useCallback(g=>{if(wT(g,n)){g.preventDefault();let _=i!==void 0?i:sc(d)===sc(m);u(t,{replace:_,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[d,u,m,i,s,n,t,o,a,c])}function MT(t,e){e===void 0&&(e={});let n=O.useContext(PT);n==null&&Ae(!1);let{basename:i}=IT(Sd.useViewTransitionState),s=Gc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ur(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ur(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rc(s.pathname,a)!=null||rc(s.pathname,o)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const n=O.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:u,...d},m)=>O.createElement("svg",{ref:m,...OT,width:s,height:s,stroke:i,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${AT(t)}`,c].join(" "),...d},[...e.map(([g,_])=>O.createElement(g,_)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Q("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=Q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Q("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Q("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Q("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Q("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Q("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Q("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Q("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Q("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Q("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),A0=O.createContext(void 0),qc=()=>{const t=O.useContext(A0);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},iE=({children:t})=>{const[e,n]=O.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});O.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const i=()=>{n(s=>s==="light"?"dark":"light")};return f.jsx(A0.Provider,{value:{theme:e,toggleTheme:i},children:t})};var Qg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sE=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],c=t[n++],u=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,y=d&63;u||(y=64,a||(_=64)),i.push(n[m],n[g],n[_],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||d==null||g==null)throw new rE;const _=o<<2|c>>4;if(i.push(_),d!==64){const y=c<<4&240|d>>2;if(i.push(y),g!==64){const x=d<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oE=function(t){const e=R0(t);return j0.encodeByteArray(e,!0)},lc=function(t){return oE(t).replace(/\./g,"")},D0=function(t){try{return j0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>aE().__FIREBASE_DEFAULTS__,cE=()=>{if(typeof process>"u"||typeof Qg>"u")return;const t=Qg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D0(t[1]);return e&&JSON.parse(e)},qf=()=>{try{return lE()||cE()||uE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z0=t=>{var e,n;return(n=(e=qf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hE=t=>{const e=z0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},F0=()=>{var t;return(t=qf())===null||t===void 0?void 0:t.config},B0=t=>{var e;return(e=qf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lc(JSON.stringify(n)),lc(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function mE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _E(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vE(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function xE(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="FirebaseError";class Gn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=wE,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?bE(o,i):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Gn(s,c,i)}}function bE(t,e){return t.replace(kE,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const kE=/\{\$([^}]+)}/g;function SE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],a=e[s];if(e_(o)&&e_(a)){if(!cc(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function e_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function no(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function io(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PE(t,e){const n=new TE(t,e);return n.subscribe.bind(n)}class TE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");EE(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=hh),s.error===void 0&&(s.error=hh),s.complete===void 0&&(s.complete=hh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class ds{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new dE;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IE(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NE(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NE(t){return t===Ki?void 0:t}function IE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const ME={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},OE=_e.INFO,AE={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},RE=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=AE[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U0{constructor(e){this.name=e,this._logLevel=OE,this._logHandler=RE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ME[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const jE=(t,e)=>e.some(n=>t instanceof n);let t_,n_;function DE(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zE(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,Td=new WeakMap,W0=new WeakMap,dh=new WeakMap,Kf=new WeakMap;function FE(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Si(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&H0.set(n,t)}).catch(()=>{}),Kf.set(e,t),e}function BE(t){if(Td.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Td.set(t,e)}let Ed={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Td.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UE(t){Ed=t(Ed)}function HE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(fh(this),e,...n);return W0.set(i,e.sort?e.sort():[e]),Si(i)}:zE().includes(t)?function(...e){return t.apply(fh(this),e),Si(H0.get(this))}:function(...e){return Si(t.apply(fh(this),e))}}function WE(t){return typeof t=="function"?HE(t):(t instanceof IDBTransaction&&BE(t),jE(t,DE())?new Proxy(t,Ed):t)}function Si(t){if(t instanceof IDBRequest)return FE(t);if(dh.has(t))return dh.get(t);const e=WE(t);return e!==t&&(dh.set(t,e),Kf.set(e,t)),e}const fh=t=>Kf.get(t);function VE(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),c=Si(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Si(a.result),u.oldVersion,u.newVersion,Si(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const $E=["get","getKey","getAll","getAllKeys","count"],ZE=["put","add","delete","clear"],ph=new Map;function i_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ph.get(e))return ph.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=ZE.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||$E.includes(n)))return;const o=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return ph.set(e,o),o}UE(t=>({...t,get:(e,n,i)=>i_(e,n)||t.get(e,n,i),has:(e,n)=>!!i_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qE(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cd="@firebase/app",s_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new U0("@firebase/app"),KE="@firebase/app-compat",YE="@firebase/analytics-compat",XE="@firebase/analytics",JE="@firebase/app-check-compat",QE="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",i2="@firebase/data-connect",s2="@firebase/database-compat",r2="@firebase/functions",o2="@firebase/functions-compat",a2="@firebase/installations",l2="@firebase/installations-compat",c2="@firebase/messaging",u2="@firebase/messaging-compat",h2="@firebase/performance",d2="@firebase/performance-compat",f2="@firebase/remote-config",p2="@firebase/remote-config-compat",m2="@firebase/storage",g2="@firebase/storage-compat",_2="@firebase/firestore",v2="@firebase/vertexai-preview",y2="@firebase/firestore-compat",x2="firebase",w2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",b2={[Cd]:"fire-core",[KE]:"fire-core-compat",[XE]:"fire-analytics",[YE]:"fire-analytics-compat",[QE]:"fire-app-check",[JE]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[i2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[r2]:"fire-fn",[o2]:"fire-fn-compat",[a2]:"fire-iid",[l2]:"fire-iid-compat",[c2]:"fire-fcm",[u2]:"fire-fcm-compat",[h2]:"fire-perf",[d2]:"fire-perf-compat",[f2]:"fire-rc",[p2]:"fire-rc-compat",[m2]:"fire-gcs",[g2]:"fire-gcs-compat",[_2]:"fire-fst",[y2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,k2=new Map,Id=new Map;function r_(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){const e=t.name;if(Id.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,t);for(const n of uc.values())r_(n,t);for(const n of k2.values())r_(n,t);return!0}function Yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new oa("app","Firebase",S2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=w2;function V0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Nd,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Pi.create("bad-app-name",{appName:String(s)});if(n||(n=F0()),!n)throw Pi.create("no-options");const o=uc.get(s);if(o){if(cc(n,o.options)&&cc(i,o.config))return o;throw Pi.create("duplicate-app",{appName:s})}const a=new LE(s);for(const u of Id.values())a.addComponent(u);const c=new P2(n,i,a);return uc.set(s,c),c}function $0(t=Nd){const e=uc.get(t);if(!e&&t===Nd&&F0())return V0();if(!e)throw Pi.create("no-app",{appName:t});return e}function Ti(t,e,n){var i;let s=(i=b2[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(c.join(" "));return}hr(new ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebase-heartbeat-database",E2=1,Vo="firebase-heartbeat-store";let mh=null;function Z0(){return mh||(mh=VE(T2,E2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),mh}async function C2(t){try{const n=(await Z0()).transaction(Vo),i=await n.objectStore(Vo).get(G0(t));return await n.done,i}catch(e){if(e instanceof Gn)Vn.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(n.message)}}}async function o_(t,e){try{const i=(await Z0()).transaction(Vo,"readwrite");await i.objectStore(Vo).put(e,G0(t)),await i.done}catch(n){if(n instanceof Gn)Vn.warn(n.message);else{const i=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(i.message)}}}function G0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1024,I2=30*24*60*60*1e3;class L2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=a_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=I2}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Vn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a_(),{heartbeatsToSend:i,unsentEntries:s}=M2(this._heartbeatsCache.heartbeats),o=lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vn.warn(n),""}}}function a_(){return new Date().toISOString().substring(0,10)}function M2(t,e=N2){const n=[];let i=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),l_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),l_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class O2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?xE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l_(t){return lc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){hr(new ds("platform-logger",e=>new GE(e),"PRIVATE")),hr(new ds("heartbeat",e=>new L2(e),"PRIVATE")),Ti(Cd,s_,t),Ti(Cd,s_,"esm2017"),Ti("fire-js","")}A2("");function Xf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R2=q0,K0=new oa("auth","Firebase",q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new U0("@firebase/auth");function j2(t,...e){hc.logLevel<=_e.WARN&&hc.warn(`Auth (${wr}): ${t}`,...e)}function El(t,...e){hc.logLevel<=_e.ERROR&&hc.error(`Auth (${wr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,...e){throw Qf(t,...e)}function en(t,...e){return Qf(t,...e)}function Jf(t,e,n){const i=Object.assign(Object.assign({},R2()),{[e]:n});return new oa("auth","Firebase",i).create(e,{appName:t.name})}function Fn(t){return Jf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D2(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Bt(t,"argument-error"),Jf(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return K0.create(t,...e)}function J(t,e,...n){if(!t)throw Qf(e,...n)}function An(t){const e="INTERNAL ASSERTION FAILED: "+t;throw El(e),new Error(e)}function $n(t,e){t||An(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z2(){return c_()==="http:"||c_()==="https:"}function c_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||gE()||"connection"in navigator)?navigator.onLine:!0}function B2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=pE()||_E()}get(){return F2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e){$n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;An("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;An("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;An("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new la(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qn(t,e,n,i,s={}){return X0(t,s,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const c=aa(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},o);return mE()||(d.referrerPolicy="no-referrer"),Y0.fetch()(J0(t,t.config.apiHost,n,c),d)})}async function X0(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},U2),e);try{const s=new V2(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Ja(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ja(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Ja(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Ja(t,"user-disabled",a);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Jf(t,m,d);Bt(t,m)}}catch(s){if(s instanceof Gn)throw s;Bt(t,"network-request-failed",{message:String(s)})}}async function ca(t,e,n,i,s={}){const o=await qn(t,e,n,i,s);return"mfaPendingCredential"in o&&Bt(t,"multi-factor-auth-required",{_serverResponse:o}),o}function J0(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?ep(t.config,s):`${t.config.apiScheme}://${s}`}function W2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(en(this.auth,"network-request-failed")),H2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ja(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=en(t,e,i);return s.customData._tokenResponse=n,s}function u_(t){return t!==void 0&&t.enterprise!==void 0}class $2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Z2(t,e){return qn(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e){return qn(t,"POST","/v1/accounts:delete",e)}async function Q0(t,e){return qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q2(t,e=!1){const n=sn(t),i=await n.getIdToken(e),s=tp(i);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:_o(gh(s.auth_time)),issuedAtTime:_o(gh(s.iat)),expirationTime:_o(gh(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function gh(t){return Number(t)*1e3}function tp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return El("JWT malformed, contained fewer than 3 sections"),null;try{const s=D0(n);return s?JSON.parse(s):(El("Failed to decode base64 JWT payload"),null)}catch(s){return El("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function h_(t){const e=tp(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gn&&K2(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function K2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await dr(t,Q0(n,{idToken:i}));J(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ew(o.providerUserInfo):[],c=J2(t.providerData,a),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Md(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function X2(t){const e=sn(t);await dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function ew(t){return t.map(e=>{var{providerId:n}=e,i=Xf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t,e){const n=await X0(t,{},async()=>{const i=aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=J0(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Y0.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eC(t,e){return qn(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=h_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await Q2(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,a=new Qs;return i&&(J(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(J(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return An("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Md(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dr(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await dr(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,a,c,u,d,m;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:T,emailVerified:N,isAnonymous:I,providerData:A,stsTokenManager:R}=n;J(T&&R,e,"internal-error");const E=Qs.fromJSON(this.name,R);J(typeof T=="string",e,"internal-error"),ei(g,e.name),ei(_,e.name),J(typeof N=="boolean",e,"internal-error"),J(typeof I=="boolean",e,"internal-error"),ei(y,e.name),ei(x,e.name),ei(w,e.name),ei(k,e.name),ei(b,e.name),ei(P,e.name);const D=new Rn({uid:T,auth:e,email:_,emailVerified:N,displayName:g,isAnonymous:I,photoURL:x,phoneNumber:y,tenantId:w,stsTokenManager:E,createdAt:b,lastLoginAt:P});return A&&Array.isArray(A)&&(D.providerData=A.map(B=>Object.assign({},B))),k&&(D._redirectEventId=k),D}static async _fromIdTokenResponse(e,n,i=!1){const s=new Qs;s.updateFromServerResponse(n);const o=new Rn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await dc(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];J(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?ew(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Qs;c.updateFromIdToken(i);const u=new Rn({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Md(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function jn(t){$n(t instanceof Function,"Expected a class definition");let e=d_.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tw.type="NONE";const f_=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t,e,n){return`firebase:${t}:${e}:${n}`}class er{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Cl(this.userKey,s.apiKey,o),this.fullPersistenceKey=Cl("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new er(jn(f_),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||jn(f_);const a=Cl(i,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(a);if(m){const g=Rn._fromJSON(e,m);d!==o&&(c=g),o=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new er(o,e,i):(o=u[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new er(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(iw(e))return"Safari";if((e.includes("chrome/")||sw(e))&&!e.includes("edge/"))return"Chrome";if(ow(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nw(t=ct()){return/firefox\//i.test(t)}function iw(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sw(t=ct()){return/crios\//i.test(t)}function rw(t=ct()){return/iemobile/i.test(t)}function ow(t=ct()){return/android/i.test(t)}function aw(t=ct()){return/blackberry/i.test(t)}function lw(t=ct()){return/webos/i.test(t)}function np(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tC(t=ct()){var e;return np(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nC(){return vE()&&document.documentMode===10}function cw(t=ct()){return np(t)||ow(t)||lw(t)||aw(t)||/windows phone/i.test(t)||rw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e=[]){let n;switch(t){case"Browser":n=p_(ct());break;case"Worker":n=`${p_(ct())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,c)=>{try{const u=e(o);a(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e={}){return qn(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=6;class oC{constructor(e){var n,i,s,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:rC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await er.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Q0(this,{idToken:e}),i=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(Fn(this));const n=e?sn(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sC(this),n=new oC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await eC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await er.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&j2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Di(t){return sn(t)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PE(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(t){Kc=t}function hw(t){return Kc.loadJS(t)}function cC(){return Kc.recaptchaEnterpriseScript}function uC(){return Kc.gapiScript}function hC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dC="recaptcha-enterprise",fC="NO_RECAPTCHA";class pC{constructor(e){this.type=dC,this.auth=Di(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{Z2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new $2(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function s(o,a,c){const u=window.grecaptcha;u_(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(fC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(c=>{if(!n&&u_(window.grecaptcha))s(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=cC();u.length!==0&&(u+=c),hw(u).then(()=>{s(c,o,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function g_(t,e,n,i=!1){const s=new pC(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Od(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await g_(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await g_(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e){const n=Yf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(cc(o,e??{}))return s;Bt(s,"already-initialized")}return n.initialize({options:e})}function gC(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function _C(t,e,n){const i=Di(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=dw(e),{host:a,port:c}=vC(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),yC()}function dw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vC(t){const e=dw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:__(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:__(a)}}}function __(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return An("not implemented")}_getIdTokenResponse(e){return An("not implemented")}_linkToIdToken(e,n){return An("not implemented")}_getReauthenticationResolver(e){return An("not implemented")}}async function xC(t,e){return qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(t,e){return ca(t,"POST","/v1/accounts:signInWithPassword",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e){return ca(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}async function kC(t,e){return ca(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends ip{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $o(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new $o(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Od(e,n,"signInWithPassword",wC);case"emailLink":return bC(e,{email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Od(e,i,"signUpPassword",xC);case"emailLink":return kC(e,{idToken:n,email:this._email,oobCode:this._password});default:Bt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tr(t,e){return ca(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="http://localhost";class fs extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=Xf(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new fs(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return tr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,tr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tr(e,n)}buildRequest(){const e={requestUri:SC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=aa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TC(t){const e=no(io(t)).link,n=e?no(io(e)).deep_link_id:null,i=no(io(t)).deep_link_id;return(i?no(io(i)).link:null)||i||n||e||t}class sp{constructor(e){var n,i,s,o,a,c;const u=no(io(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,m=(i=u.oobCode)!==null&&i!==void 0?i:null,g=PC((s=u.mode)!==null&&s!==void 0?s:null);J(d&&m&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=m,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=TC(e);try{return new sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.providerId=br.PROVIDER_ID}static credential(e,n){return $o._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=sp.parseLink(n);return J(i,"argument-error"),$o._fromEmailAndCode(e,i.code,i.tenantId)}}br.PROVIDER_ID="password";br.EMAIL_PASSWORD_SIGN_IN_METHOD="password";br.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends ua{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ln.credential(n,i)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ua{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends ua{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ui.credential(n,i)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(t,e){return ca(t,"POST","/v1/accounts:signUp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Rn._fromIdTokenResponse(e,i,s),a=v_(i);return new ps({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=v_(i);return new ps({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function v_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Gn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new fc(e,n,i,s)}}function fw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(t,o,e,i):o})}async function CC(t,e,n=!1){const i=await dr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ps._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(t,e,n=!1){const{auth:i}=t;if(Kt(i.app))return Promise.reject(Fn(i));const s="reauthenticate";try{const o=await dr(t,fw(i,s,e,t),n);J(o.idToken,i,"internal-error");const a=tp(o.idToken);J(a,i,"internal-error");const{sub:c}=a;return J(t.uid===c,i,"user-mismatch"),ps._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Bt(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(t,e,n=!1){if(Kt(t.app))return Promise.reject(Fn(t));const i="signIn",s=await fw(t,i,e),o=await ps._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function IC(t,e){return pw(Di(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t){const e=Di(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LC(t,e,n){if(Kt(t.app))return Promise.reject(Fn(t));const i=Di(t),a=await Od(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EC).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&mw(t),u}),c=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function MC(t,e,n){return Kt(t.app)?Promise.reject(Fn(t)):IC(sn(t),br.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mw(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(t,e){return qn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=sn(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await dr(i,OC(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const c=i.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function RC(t,e,n,i){return sn(t).onIdTokenChanged(e,n,i)}function jC(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}function DC(t,e,n,i){return sn(t).onAuthStateChanged(e,n,i)}function zC(t){return sn(t).signOut()}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=1e3,BC=10;class _w extends gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);nC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BC):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const UC=_w;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vw.type="SESSION";const yw=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Yc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,o)),u=await HC(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const d=op("",20);s.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function VC(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function $C(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GC(){return xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebaseLocalStorageDb",qC=1,mc="firebaseLocalStorage",bw="fbase_key";class ha{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(t,e){return t.transaction([mc],e?"readwrite":"readonly").objectStore(mc)}function KC(){const t=indexedDB.deleteDatabase(ww);return new ha(t).toPromise()}function Ad(){const t=indexedDB.open(ww,qC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mc,{keyPath:bw})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mc)?e(i):(i.close(),await KC(),e(await Ad()))})})}async function y_(t,e,n){const i=Xc(t,!0).put({[bw]:e,value:n});return new ha(i).toPromise()}async function YC(t,e){const n=Xc(t,!1).get(e),i=await new ha(n).toPromise();return i===void 0?null:i.value}function x_(t,e){const n=Xc(t,!0).delete(e);return new ha(n).toPromise()}const XC=800,JC=3;class kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ad(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>JC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yc._getInstance(GC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new WC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ad();return await y_(e,pc,"1"),await x_(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>YC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Xc(s,!1).getAll();return new ha(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kw.type="LOCAL";const QC=kw;new la(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){return e?jn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(t){return pw(t.auth,new ap(t),t.bypassAuthState)}function tN(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),NC(n,new ap(t),t.bypassAuthState)}async function nN(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),CC(n,new ap(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Bt(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new la(2e3,1e4);async function sN(t,e,n){if(Kt(t.app))return Promise.reject(en(t,"operation-not-supported-in-this-environment"));const i=Di(t);D2(t,e,rp);const s=Sw(i,n);return new ts(i,"signInViaPopup",e,s).executeNotNull()}class ts extends Pw{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const e=op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="pendingRedirect",Nl=new Map;class oN extends Pw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nl.get(this.auth._key());if(!e){try{const i=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nl.set(this.auth._key(),e)}return this.bypassAuthState||Nl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(t,e){const n=uN(e),i=cN(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function lN(t,e){Nl.set(t._key(),e)}function cN(t){return jn(t._redirectPersistence)}function uN(t){return Cl(rN,t.config.apiKey,t.name)}async function hN(t,e,n=!1){if(Kt(t.app))return Promise.reject(Fn(t));const i=Di(t),s=Sw(i,e),a=await new oN(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Tw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(en(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dN&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e={}){return qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_N=/^https?/;async function vN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mN(t);for(const n of e)try{if(yN(n))return}catch{}Bt(t,"unauthorized-domain")}function yN(t){const e=Ld(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!_N.test(n))return!1;if(gN.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new la(3e4,6e4);function b_(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wN(t){return new Promise((e,n)=>{var i,s,o;function a(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),n(en(t,"network-request-failed"))},timeout:xN.get()})}if(!((s=(i=vn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=vn().gapi)===null||o===void 0)&&o.load)a();else{const c=hC("iframefcb");return vn()[c]=()=>{gapi.load?a():n(en(t,"network-request-failed"))},hw(`${uC()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Il=null,e})}let Il=null;function bN(t){return Il=Il||wN(t),Il}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new la(5e3,15e3),SN="__/auth/iframe",PN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ep(e,PN):`https://${t.config.authDomain}/${SN}`,i={apiKey:e.apiKey,appName:t.name,v:wr},s=EN.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${aa(i).slice(1)}`}async function NN(t){const e=await bN(t),n=vn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:CN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=en(t,"network-request-failed"),c=vn().setTimeout(()=>{o(a)},kN.get());function u(){vn().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,MN=600,ON="_blank",AN="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RN(t,e,n,i=LN,s=MN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},IN),{width:i.toString(),height:s.toString(),top:o,left:a}),d=ct().toLowerCase();n&&(c=sw(d)?ON:n),nw(d)&&(e=e||AN,u.scrollbars="yes");const m=Object.entries(u).reduce((_,[y,x])=>`${_}${y}=${x},`,"");if(tC(d)&&c!=="_self")return jN(e||"",c),new k_(null);const g=window.open(e||"",c,m);J(g,t,"popup-blocked");try{g.focus()}catch{}return new k_(g)}function jN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="__/auth/handler",zN="emulator/auth/handler",FN=encodeURIComponent("fac");async function S_(t,e,n,i,s,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wr,eventId:s};if(e instanceof rp){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",SE(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof ua){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await t._getAppCheckToken(),d=u?`#${FN}=${encodeURIComponent(u)}`:"";return`${BN(t)}?${aa(c).slice(1)}${d}`}function BN({config:t}){return t.emulator?ep(t,zN):`https://${t.authDomain}/${DN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class UN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yw,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(e,n,i,s){var o;$n((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await S_(e,n,i,Ld(),s);return RN(e,a,op())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await S_(e,n,i,Ld(),s);return VC(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):($n(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await NN(e),i=new fN(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_h,{type:_h},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[_h];a!==void 0&&n(!!a),Bt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cw()||iw()||np()}}const HN=UN;var P_="@firebase/auth",T_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $N(t){hr(new ds("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(t)},d=new aC(i,s,o,u);return gC(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),hr(new ds("auth-internal",e=>{const n=Di(e.getProvider("auth").getImmediate());return(i=>new WN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(P_,T_,VN(t)),Ti(P_,T_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=5*60,GN=B0("authIdTokenMaxAge")||ZN;let E_=null;const qN=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>GN)return;const s=n==null?void 0:n.token;E_!==s&&(E_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function KN(t=$0()){const e=Yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mC(t,{popupRedirectResolver:HN,persistence:[QC,UC,yw]}),i=B0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=qN(o.toString());jC(n,a,()=>a(n.currentUser)),RC(n,c=>a(c))}}const s=z0("auth");return s&&_C(n,`http://${s}`),n}function YN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lC({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=en("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",YN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$N("Browser");const C_="https://api.tracker.rivieraapps.com";class XN{constructor(e=C_){this.authToken=null,this.baseUrl=e,this.authToken=localStorage.getItem("authToken")}async getUserRoutes(){const e=await this.request(C_+"/routes/user");if(!e.success||!e.data)throw new Error(e.error||"Failed");return e.data.routes}async deleteRoute(e,n){const i=await this.getRouteById(e);if(!i.success||!i.data)throw new Error("Route not found");const s=i.data;if(s.userId!==n)throw new Error("Unauthorized");const o=await this.rmRoute(e,n);if(!o.success)throw new Error(o.error||"Failed to delete route");await this.updateUserStorageUsage(n,-s.fileSize)}async getRouteById(e){const n=await this.request(`/routes/${e}`);if(!n.success||!n.data)throw new Error(n.error||"Failed");return n.data.data}async uploadRoute(e){const n=await this.request("/routes/upload",{method:"POST",body:e});if(!n.success||!n.data)throw new Error(n.error||"Failed");return n.data.data}async getPublicRoutes(e=20,n=1){const i=await this.request(`/routes/public?limit=${e}&page=${n}`);if(!i.success||!i.data)throw new Error(i.error||"Failed");return i.data.routes}async toggleRouteVisibility(e,n){const i=await this.request(`/routes/${e}`,{method:"PUT",body:JSON.stringify({isPublic:n}),headers:{"Content-Type":"application/json"}});if(!i.success)throw new Error(i.error||"Failed")}async putUserProfile(e){const n=await this.request("/routes/profile",{method:"PUT",body:JSON.stringify({userProfile:e}),headers:{"Content-Type":"application/json"}});if(!n.success)throw new Error(n.error||"Failed")}async getUserProfile(e){const n=await this.request(`/routes/profile/${e}`);if(!n.success||!n.data)throw new Error(n.error||"Failed");return n.data.data}async request(e,n={}){`${this.baseUrl}${e}`,{...n.headers},this.authToken&&`${this.authToken}`;try{return await new Promise(s=>setTimeout(s,500+Math.random()*1e3)),await this.simulateApiResponse(e,n)}catch(i){return{success:!1,error:i instanceof Error?i.message:"Network error",timestamp:new Date().toISOString()}}}async simulateApiResponse(e,n){const i=n.method||"GET";if(!(Math.random()>.1))throw new Error("Simulated network error");const o=new Date().toISOString();switch(!0){case e==="/auth/login":return{success:!0,data:{token:"fake-jwt-token-"+Date.now(),user:{id:"1",email:"user@example.com"}},timestamp:o};case(e==="/routes"&&i==="GET"):return{success:!0,data:[],timestamp:o};case(e==="/routes"&&i==="POST"):return{success:!0,data:{id:"route_"+Date.now(),synced:!0},timestamp:o};case(e==="/trackers"&&i==="GET"):return{success:!0,data:[],timestamp:o};case(e==="/trackers"&&i==="POST"):return{success:!0,data:{id:"tracker_"+Date.now(),synced:!0},timestamp:o};case(e.startsWith("/trackers/")&&i==="PUT"):return{success:!0,data:{synced:!0},timestamp:o};default:return{success:!0,data:{},timestamp:o}}}async login(e,n){const i=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:n})});return i.success&&i.data&&(this.authToken=i.data.token,localStorage.setItem("authToken",this.authToken)),i}async logout(){this.authToken=null,localStorage.removeItem("authToken")}async getRoutes(e){return this.request(`/routes/${e}`)}async rmRoute(e,n){return this.request(`/route/${n}/${e}`,{method:"DELETE"})}async syncRoutes(e){return this.request("/routes/sync",{method:"POST",body:JSON.stringify({routes:e})})}async updateUserStorageUsage(e,n){return this.request(`/users/${e}/storage`,{method:"PATCH",body:JSON.stringify({sizeChange:n})})}async syncTrackers(e){return this.request("/trackers/sync",{method:"POST",body:JSON.stringify({trackers:e})})}async addTracker(e){return this.request("/trackers",{method:"POST",body:JSON.stringify(e)})}async updateTracker(e,n){return this.request(`/trackers/${e}`,{method:"PUT",body:JSON.stringify(n)})}async getTrackers(){return this.request("/trackers")}async getSyncStatus(){const e=localStorage.getItem("lastSyncTime");return{lastSync:e?new Date(e):new Date(0),pending:0,failed:0}}async performFullSync(){try{const e=JSON.parse(localStorage.getItem("gpxRoutes")||"[]");await this.syncRoutes(e);const n=JSON.parse(localStorage.getItem("trackers")||"[]");return await this.syncTrackers(n),localStorage.setItem("lastSyncTime",new Date().toISOString()),!0}catch(e){return console.error("Sync failed:",e),!1}}}const qt=new XN;var JN="firebase",QN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(JN,QN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebasestorage.googleapis.com",eI="storageBucket",tI=2*60*1e3,nI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Gn{constructor(e,n,i=0){super(vh(e),`Firebase Storage: ${n} (${vh(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yn||(yn={}));function vh(t){return"storage/"+t}function iI(){const t="An unknown error occurred, please check the error payload for server response.";return new xn(yn.UNKNOWN,t)}function sI(){return new xn(yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rI(){return new xn(yn.CANCELED,"User canceled the upload/download.")}function oI(t){return new xn(yn.INVALID_URL,"Invalid URL '"+t+"'.")}function aI(t){return new xn(yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N_(t){return new xn(yn.INVALID_ARGUMENT,t)}function Cw(){return new xn(yn.APP_DELETED,"The Firebase app was deleted.")}function lI(t){return new xn(yn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(i.path==="")return i;throw aI(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function d(N){N.path_=decodeURIComponent(N.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${m}/b/${s}/o${_}`,"i"),x={bucket:1,path:3},w=n===Ew?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",b=new RegExp(`^https?://${w}/${s}/${k}`,"i"),T=[{regex:c,indices:u,postModify:o},{regex:y,indices:x,postModify:d},{regex:b,indices:{bucket:1,path:2},postModify:d}];for(let N=0;N<T.length;N++){const I=T[N],A=I.regex.exec(e);if(A){const R=A[I.indices.bucket];let E=A[I.indices.path];E||(E=""),i=new Yt(R,E),I.postModify(i);break}}if(i==null)throw oI(e);return i}}class cI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e,n){let i=1,s=null,o=null,a=!1,c=0;function u(){return c===2}let d=!1;function m(...k){d||(d=!0,e.apply(null,k))}function g(k){s=setTimeout(()=>{s=null,t(y,u())},k)}function _(){o&&clearTimeout(o)}function y(k,...b){if(d){_();return}if(k){_(),m.call(null,k,...b);return}if(u()||a){_(),m.call(null,k,...b);return}i<64&&(i*=2);let T;c===1?(c=2,T=0):T=(i+Math.random())*1e3,g(T)}let x=!1;function w(k){x||(x=!0,_(),!d&&(s!==null?(k||(c=2),clearTimeout(s),g(0)):k||(c=1)))}return g(0),o=setTimeout(()=>{a=!0,w(!0)},n),w}function hI(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){return t!==void 0}function I_(t,e,n,i){if(i<e)throw N_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw N_(`Invalid value for '${t}'. Expected ${n} or less.`)}function fI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var gc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gc||(gc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,i,s,o,a,c,u,d,m,g,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,x)=>{this.resolve_=y,this.reject_=x,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Qa(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===gc.NO_ERROR,u=o.getStatus();if(!c||pI(u,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===gc.ABORT;i(!1,new Qa(!1,null,m));return}const d=this.successCodes_.indexOf(u)!==-1;i(!0,new Qa(d,o))})},n=(i,s)=>{const o=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());dI(u)?o(u):o()}catch(u){a(u)}else if(c!==null){const u=iI();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?Cw():rI();a(u)}else{const u=sI();a(u)}};this.canceled_?n(!1,new Qa(!1,null,!0)):this.backoffId_=uI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qa{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function gI(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _I(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vI(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yI(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xI(t,e,n,i,s,o,a=!0){const c=fI(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return vI(d,e),gI(d,n),_I(d,o),yI(d,i),new mI(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _c(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bI(this._location.path)}get storage(){return this._service}get parent(){const e=wI(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new _c(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lI(e)}}function L_(t,e){const n=e==null?void 0:e[eI];return n==null?null:Yt.makeFromBucketSpec(n,t)}function kI(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:fE(s,t.app.options.projectId))}class SI{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Ew,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tI,this._maxUploadRetryTime=nI,this._requests=new Set,s!=null?this._bucket=Yt.makeFromBucketSpec(s,this._host):this._bucket=L_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=L_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _c(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new cI(Cw());{const a=xI(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const M_="@firebase/storage",O_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="storage";function PI(t=$0(),e){t=sn(t);const i=Yf(t,Nw).getImmediate({identifier:e}),s=hE("storage");return s&&TI(i,...s),i}function TI(t,e,n,i={}){kI(t,e,n,i)}function EI(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new SI(n,i,s,e,wr)}function CI(){hr(new ds(Nw,EI,"PUBLIC").setMultipleInstances(!0)),Ti(M_,O_,""),Ti(M_,O_,"esm2017")}CI();const NI={apiKey:"AIzaSyCXVdMm5iaiEz0jWzi6xy9gKM6P2P-O1Bo",authDomain:"tracker-a61ae.firebaseapp.com",projectId:"tracker-a61ae",storageBucket:"tracker-a61ae.firebasestorage.app",messagingSenderId:"912276878221",appId:"1:912276878221:web:6503c8ccb340e5278c83c4",measurementId:"G-DDDQCZRGQH"},Iw=V0(NI),Ms=KN(Iw);new Ln;PI(Iw);const Lw=O.createContext(void 0),da=()=>{const t=O.useContext(Lw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},II=({children:t})=>{const[e,n]=O.useState(null),[i,s]=O.useState(null),[o,a]=O.useState(!0);O.useEffect(()=>DC(Ms,async w=>{n(w),w?await c(w.uid):s(null),a(!1)}),[]);const c=async x=>{var w,k;try{const b=await qt.getUserProfile(x);if(b){const P=b;s({...P,createdAt:((w=P.createdAt)==null?void 0:w.toDate())||new Date,lastLogin:((k=P.lastLogin)==null?void 0:k.toDate())||new Date})}}catch(b){console.error("Error loading user profile:",b)}},u=async(x,w={})=>{const k={uid:x.uid,email:x.email||"",displayName:x.displayName||w.displayName||"",photoURL:x.photoURL||"",plan:"free",storageUsed:0,storageLimit:104857600,createdAt:new Date,lastLogin:new Date,...w};try{await qt.putUserProfile({...k,createdAt:new Date,lastLogin:new Date}),s(k)}catch(b){throw console.error("Error creating user profile:",b),b}},d=async(x,w,k)=>{try{const{user:b}=await LC(Ms,x,w);await AC(b,{displayName:k}),await u(b,{displayName:k})}catch(b){throw console.error("Error signing up:",b),b}},m=async(x,w)=>{try{await MC(Ms,x,w),Ms.currentUser&&await qt.putUserProfile({...i,lastLogin:new Date})}catch(k){throw console.error("Error signing in:",k),k}},g=async()=>{try{const{user:x}=await sN(Ms,googleProvider);await qt.getUserProfile(uid)?await u(x):await qt.putUserProfile({...i,lastLogin:new Date})}catch(x){throw console.error("Error signing in with Google:",x),x}},_=async()=>{try{await zC(Ms),s(null)}catch(x){throw console.error("Error signing out:",x),x}},y=async x=>{if(e)try{await qt.putUserProfile({...i,updates:x}),s(w=>w?{...w,...x}:null)}catch(w){throw console.error("Error updating user profile:",w),w}};return f.jsx(Lw.Provider,{value:{user:e,userProfile:i,loading:o,signUp:d,signIn:m,signInWithGoogle:g,logout:_,updateUserProfile:y},children:t})},Mw=O.createContext(void 0),lp=()=>{const t=O.useContext(Mw);if(!t)throw new Error("useSync must be used within a SyncProvider");return t},LI=({children:t})=>{const[e,n]=O.useState({lastSync:new Date(0),pending:0,failed:0}),[i,s]=O.useState(navigator.onLine),[o,a]=O.useState(!1),[c,u]=O.useState(null);O.useEffect(()=>{const _=()=>s(!0),y=()=>s(!1);return window.addEventListener("online",_),window.addEventListener("offline",y),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",y)}},[]),O.useEffect(()=>{d()},[]),O.useEffect(()=>{i&&e.pending>0&&m()},[i]);const d=async()=>{try{const _=await qt.getSyncStatus();n(_)}catch(_){console.error("Failed to load sync status:",_)}},m=async()=>{if(!(!i||o)){a(!0),u(null);try{if(await qt.performFullSync())n(y=>({...y,lastSync:new Date,pending:0,failed:0}));else throw new Error("Sync failed")}catch(_){const y=_ instanceof Error?_.message:"Sync failed";u(y),n(x=>({...x,failed:x.failed+1}))}finally{a(!1)}}},g=(_,y)=>{const x=JSON.parse(localStorage.getItem("pendingSync")||"[]"),w={type:_,id:y,timestamp:Date.now()};x.find(k=>k.type===_&&k.id===y)||(x.push(w),localStorage.setItem("pendingSync",JSON.stringify(x)),n(k=>({...k,pending:k.pending+1}))),i&&setTimeout(m,1e3)};return f.jsx(Mw.Provider,{value:{syncStatus:e,isOnline:i,isSyncing:o,lastSyncError:c,performSync:m,markForSync:g},children:t})},MI=()=>{const{syncStatus:t,isOnline:e,isSyncing:n,lastSyncError:i,performSync:s}=lp(),o=d=>{const g=new Date().getTime()-d.getTime(),_=Math.floor(g/6e4);if(_<1)return"Just now";if(_<60)return`${_}m ago`;const y=Math.floor(_/60);return y<24?`${y}h ago`:`${Math.floor(y/24)}d ago`},a=()=>e?n?f.jsx(E0,{size:16,className:"text-primary animate-spin"}):i?f.jsx(b0,{size:16,className:"text-red-500"}):t.pending>0?f.jsx(DT,{size:16,className:"text-yellow-500"}):f.jsx(to,{size:16,className:"text-green-500"}):f.jsx(M0,{size:16,className:"text-red-500"}),c=()=>e?n?"Syncing...":i?"Sync failed":t.pending>0?`${t.pending} pending`:"Synced":"Offline",u=()=>!e||i?"text-red-500":n||t.pending>0?"text-yellow-500":"text-green-500";return f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsxs("button",{onClick:s,disabled:!e||n,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-background transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:i||`Last sync: ${o(t.lastSync)}`,children:[a(),f.jsx("span",{className:u(),children:c()})]}),t.lastSync.getTime()>0&&f.jsx("span",{className:"text-text-light text-xs",children:o(t.lastSync)})]})},OI=({onMenuClick:t})=>{const{theme:e,toggleTheme:n}=qc(),{user:i,userProfile:s,logout:o}=da(),a=ys(),c=xr(),u=()=>{switch(!0){case a.pathname==="/dashboard":return"Dashboard";case a.pathname.includes("/routes/"):return"Route Details";case a.pathname==="/upload":return"Upload Route";case a.pathname==="/settings":return"Settings";default:return"TracSync"}},d=async()=>{try{await o(),c("/")}catch(m){console.error("Error logging out:",m)}};return f.jsx("header",{className:"sticky top-0 z-10 bg-card shadow-sm border-b border-border",children:f.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:t,className:"p-2 rounded-lg text-text-light hover:bg-background transition-colors lg:hidden","aria-label":"Toggle menu",children:f.jsx(XT,{size:24})}),f.jsxs(Be,{to:"/dashboard",className:"flex items-center gap-2",children:[f.jsx("div",{className:"bg-primary text-white p-1.5 rounded-lg",children:f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 2L15.5 9H8.5L12 2Z",fill:"currentColor"}),f.jsx("path",{d:"M18.5 9L22 16H15L18.5 9Z",fill:"currentColor"}),f.jsx("path",{d:"M5.5 9L9 16H2L5.5 9Z",fill:"currentColor"}),f.jsx("path",{d:"M12 16L15.5 23H8.5L12 16Z",fill:"currentColor"})]})}),f.jsx("h1",{className:"text-xl font-bold tracking-tight hidden sm:block",children:"TracSync"})]})]}),f.jsx("div",{className:"text-lg font-semibold md:hidden",children:u()}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(MI,{})}),f.jsxs(Be,{to:"/upload",className:"btn btn-primary hidden sm:flex items-center gap-2",children:[f.jsx(ra,{size:18}),f.jsx("span",{children:"Upload"})]}),f.jsx("button",{onClick:n,className:"p-2 rounded-lg text-text-light hover:bg-background transition-colors","aria-label":e==="dark"?"Switch to light mode":"Switch to dark mode",children:e==="dark"?f.jsx(I0,{size:20}):f.jsx(S0,{size:20})}),i&&f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"flex items-center gap-2 p-2 rounded-lg text-text-light hover:bg-background transition-colors",children:[i.photoURL?f.jsx("img",{src:i.photoURL,alt:i.displayName||"User",className:"w-6 h-6 rounded-full",onError:m=>{m.target.onerror=null,m.target.src="/default-avatar.png"}}):f.jsx(Gf,{size:20}),f.jsx("span",{className:"hidden sm:block ml-2 text-sm font-medium",children:i.displayName||"User"})]}),f.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[f.jsxs("div",{className:"p-3 border-b border-border",children:[f.jsx("p",{className:"font-medium text-sm",children:i.displayName}),f.jsx("p",{className:"text-xs text-text-light",children:i.email}),s&&f.jsxs("p",{className:"text-xs text-accent capitalize",children:[s.plan," Plan"]})]}),f.jsxs("div",{className:"py-1",children:[f.jsx(Be,{to:"/settings",className:"block px-3 py-2 text-sm hover:bg-background transition-colors",children:"Settings"}),f.jsxs("button",{onClick:d,className:"w-full text-left px-3 py-2 text-sm hover:bg-background transition-colors flex items-center gap-2",children:[f.jsx(KT,{size:16}),"Sign Out"]})]})]})]})]})]})})},AI=({isOpen:t,setIsOpen:e})=>{const n=[{title:"Dashboard",path:"/dashboard",icon:f.jsx(k0,{size:20})},{title:"Upload Route",path:"/upload",icon:f.jsx(ra,{size:20})},{title:"Settings",path:"/settings",icon:f.jsx(C0,{size:20})}];return f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>e(!1)}),f.jsxs("aside",{className:`
          fixed top-0 left-0 z-30 h-full w-64 bg-card border-r border-border transform transition-transform duration-300 ease-in-out 
          ${t?"translate-x-0":"-translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-primary text-white p-1.5 rounded-lg",children:f.jsx($f,{size:20})}),f.jsx("h2",{className:"text-xl font-bold",children:"TracSync"})]}),f.jsx("button",{className:"p-1.5 rounded-lg hover:bg-background lg:hidden",onClick:()=>e(!1),children:f.jsx(si,{size:20})})]}),f.jsx("nav",{className:"p-4",children:f.jsx("ul",{className:"space-y-2",children:n.map(i=>f.jsx("li",{children:f.jsxs(w0,{to:i.path,className:({isActive:s})=>`
                    flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                    ${s?"bg-primary text-white":"text-text-light hover:bg-background hover:text-text"}
                  `,end:i.path==="/",children:[i.icon,f.jsx("span",{className:"font-medium",children:i.title})]})},i.path))})}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-border",children:f.jsxs("div",{className:"text-sm text-text-light",children:[f.jsx("p",{children:"TracSync v0.1.0"}),f.jsxs("p",{className:"mt-1",children:["Local storage: ",RI()]})]})})]})]})},RI=()=>{try{const t=localStorage.getItem("gpxRoutes");if(!t)return"0 KB";const e=new Blob([t]).size;return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`}catch{return"Unknown"}},jI=({isOpen:t,onClose:e,initialMode:n="signin"})=>{const[i,s]=O.useState(n),[o,a]=O.useState(""),[c,u]=O.useState(""),[d,m]=O.useState(""),[g,_]=O.useState(!1),[y,x]=O.useState(!1),[w,k]=O.useState(""),{signIn:b,signUp:P,signInWithGoogle:T}=da(),N=async E=>{E.preventDefault(),x(!0),k("");try{i==="signup"?await P(o,c,d):await b(o,c),e()}catch(D){k(D.message||"An error occurred")}finally{x(!1)}},I=async()=>{x(!0),k("");try{await T(),e()}catch(E){k(E.message||"An error occurred")}finally{x(!1)}},A=()=>{a(""),u(""),m(""),k(""),_(!1)},R=()=>{s(i==="signin"?"signup":"signin"),A()};return t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"card max-w-md w-full p-6 fade-in slide-up",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:i==="signin"?"Sign In":"Create Account"}),f.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-background transition-colors",children:f.jsx(si,{size:20})})]}),w&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4",children:f.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:w})}),f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i==="signup"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),f.jsxs("div",{className:"relative",children:[f.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light",size:18}),f.jsx("input",{type:"text",value:d,onChange:E=>m(E.target.value),className:"input-field pl-10",placeholder:"Enter your full name",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(YT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light",size:18}),f.jsx("input",{type:"email",value:o,onChange:E=>a(E.target.value),className:"input-field pl-10",placeholder:"Enter your email",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(qT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light",size:18}),f.jsx("input",{type:g?"text":"password",value:c,onChange:E=>u(E.target.value),className:"input-field pl-10 pr-10",placeholder:"Enter your password",required:!0,minLength:6}),f.jsx("button",{type:"button",onClick:()=>_(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-light hover:text-text",children:g?f.jsx(FT,{size:18}):f.jsx(BT,{size:18})})]})]}),f.jsx("button",{type:"submit",disabled:y,className:"btn btn-primary w-full",children:y?"Please wait...":i==="signin"?"Sign In":"Create Account"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-1 border-t border-border"}),f.jsx("span",{className:"px-4 text-text-light text-sm",children:"or"}),f.jsx("div",{className:"flex-1 border-t border-border"})]}),f.jsxs("button",{onClick:I,disabled:y,className:"btn btn-outline w-full flex items-center justify-center gap-3",children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-text-light text-sm",children:[i==="signin"?"Don't have an account?":"Already have an account?",f.jsx("button",{onClick:R,className:"ml-1 text-primary hover:underline font-medium",children:i==="signin"?"Sign up":"Sign in"})]})})]})}):null},DI=()=>{const t=xr(),{user:e}=da(),[n,i]=O.useState(!1),[s,o]=O.useState("signin"),[a,c]=O.useState(!1),u=()=>{e?t("/dashboard"):(o("signup"),i(!0))},d=()=>{e?t("/dashboard"):(o("signin"),i(!0))},m=[{icon:f.jsx(Jg,{className:"text-accent",size:20}),title:"Power",description:"With a compact battery under 2000mAh, it easily achieves over 2 days of continuous tracking in normal mode."},{icon:f.jsx(Jg,{className:"text-accent",size:20}),title:"Customizable & Developer-Focused",description:"Enables you to build and modify tracking features to fit your project’s unique needs."},{icon:f.jsx(O0,{className:"text-accent",size:20}),title:"ESP32-S3",description:"ESP32-S3, a powerful microcontroller with built-in Wi-Fi and Bluetooth."},{icon:f.jsx(QT,{className:"text-accent",size:20}),title:"uBlox MAX-M10S",description:"High-performance multi-GNSS receiver. Supports GPS, Galileo, GLONASS, and BeiDou."},{icon:f.jsx($f,{className:"text-accent",size:20}),title:"Sensors",description:"Sub-meter accuracy with multi-constellation support"}];return f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsx("nav",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border",children:f.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"bg-primary text-white p-1.5 sm:p-2 rounded-lg",children:f.jsx(ai,{size:18,className:"sm:size-10"})}),f.jsx("span",{className:"text-lg sm:text-xl font-bold",children:"TracSync"})]}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[f.jsxs("button",{onClick:()=>c(!0),className:"text-text-light hover:text-text transition-colors flex items-center gap-1 sm:gap-2 px-2 py-1 sm:px-3 sm:py-2",children:[f.jsx(uh,{size:18}),f.jsx("span",{className:" sm:inline",children:"Install"})]}),e?f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsx(Be,{to:"/dashboard",className:"hidden sm:inline text-text-light hover:text-text transition-colors",children:"Dashboard"}),f.jsxs(Be,{to:"/dashboard",className:"btn btn-primary flex items-center gap-1 sm:gap-2 px-2 py-1 sm:px-4 sm:py-2",children:[f.jsx(ai,{size:18}),f.jsx("span",{className:"hidden sm:inline",children:"Go to App"})]})]}):f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsx("button",{onClick:d,className:"text-text-light hover:text-text transition-colors flex items-center gap-1 sm:gap-2 px-2 py-1 sm:px-3 sm:py-2"}),f.jsxs("button",{onClick:u,className:"btn btn-primary flex items-center gap-1 sm:gap-2 px-2 py-1 sm:px-4 sm:py-2",children:[f.jsx(Gf,{size:18}),f.jsx("span",{className:"hidden sm:inline",children:"Get Started"})]})]})]})]})})}),f.jsx("section",{className:"relative overflow-hidden",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Professional GPS Tracking"}),f.jsx("p",{className:"text-xl text-text-light mb-8 max-w-3xl mx-auto",children:"TracSync is the ultimate platform for visualizing, analyzing, and sharing your GPS routes. Upload GPX files, connect hardware trackers, and gain insights into your adventures."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[f.jsxs("button",{onClick:u,className:"btn btn-primary text-lg px-8 py-3 flex items-center gap-2",children:["Start Tracking",f.jsx(Pd,{size:20})]}),f.jsxs("button",{onClick:()=>c(!0),className:"btn btn-outline text-lg px-8 py-3 flex items-center gap-2",children:[f.jsx(uh,{size:20}),"Install App"]})]}),f.jsx("div",{className:"relative max-w-4xl mx-auto",children:f.jsx("div",{className:"bg-gradient-to-br from-primary/20 to-accent/20 rounded-2xl p-8 backdrop-blur-sm border border-border",children:f.jsx("div",{className:"bg-card rounded-xl p-6 shadow-lg",style:{backgroundImage:'url("/demo-route.png")'},children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-primary/20 rounded"}),f.jsx("div",{className:"h-4 bg-primary/10 rounded w-3/4"}),f.jsx("div",{className:"h-4 bg-primary/10 rounded w-1/2"})]}),f.jsx("div",{className:"bg-primary/10 rounded-lg h-32 flex items-center justify-center",children:f.jsx(ai,{size:32,className:"text-primary"})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-accent/20 rounded"}),f.jsx("div",{className:"h-4 bg-accent/10 rounded w-2/3"}),f.jsx("div",{className:"h-4 bg-accent/10 rounded w-3/4"})]})]})})})})]})})}),f.jsx("section",{className:"py-20 bg-gradient-to-br from-accent/5 to-primary/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Supported Hardware"}),f.jsx("p",{className:"text-xl text-text-light max-w-2xl mx-auto",children:"Connect your GPS tracking devices for seamless data collection and real-time monitoring."})]}),f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("div",{className:"card p-8 mb-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-accent text-white p-3 rounded-xl",children:f.jsx(ai,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold",children:"Pocket Tracker"}),f.jsx("p",{className:"text-text-light",children:"DIY GPS Tracking Device"})]})]}),f.jsx("p",{className:"text-text-light mb-6",children:"PocketTracker is a compact, developer-friendly tracking device designed for custom applications, prototyping, and specialized projects but it is also for entusiast who want to build his own tracking device. PocketTracker is built for flexibility and customization, allowing developers to integrate their own firmware, sensors, and tracking solutions."}),f.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:m.map((g,_)=>f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg mt-1",children:g.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm",children:g.title}),f.jsx("p",{className:"text-xs text-text-light",children:g.description})]})]},_))}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("a",{href:"https://www.elecrow.com/pocket-tracker.html",target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary flex items-center gap-2",children:[f.jsx(eE,{size:18}),"Buy PocketTracker",f.jsx(Yg,{size:16})]}),f.jsx("button",{onClick:u,className:"btn btn-outline",children:"Connect to TracSync"}),f.jsxs("a",{href:"https://www.gabrielecalabrese.com/pockettracker/",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline  flex items-center",children:["Official site",f.jsx(Yg,{size:16})]})]})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"relative bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-8 shadow-2xl",children:[f.jsx("img",{src:"/pocketTracker.png",alt:"Pocket Tracker GPS Device",className:"w-full h-64 object-cover rounded-xl mb-4"}),f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"text-text font-bold text-lg",children:f.jsx("a",{href:"https://www.gabrielecalabrese.com/pockettracker/",children:"PocketTracker"})})})]}),f.jsxs("div",{className:"absolute -top-4 -right-4 bg-card rounded-lg p-3 shadow-lg border border-border",children:[f.jsx("div",{className:"text-xs text-text-light",children:"Accuracy"}),f.jsx("div",{className:"text-lg font-bold text-accent",children:"±1.5m"})]}),f.jsxs("div",{className:"absolute -bottom-4 -left-4 bg-card rounded-lg p-3 shadow-lg border border-border",children:[f.jsx("div",{className:"text-xs text-text-light",children:"Battery Life"}),f.jsx("div",{className:"text-lg font-bold text-primary",children:"2 days"})]})]})]})})})]})}),f.jsx("footer",{className:"bg-card border-t border-border py-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"bg-primary text-white p-2 rounded-lg",children:f.jsx(ai,{size:10})}),f.jsx("span",{className:"text-lg font-bold",children:"TracSync"})]}),f.jsx("p",{className:"text-text-light",children:"The ultimate platform for tracking and analyzing your GPS routes and adventures."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),f.jsxs("ul",{className:"space-y-2 text-text-light",children:[f.jsx("li",{children:f.jsx(Be,{to:"/dashboard",className:"hover:text-text transition-colors",children:"Dashboard"})}),f.jsx("li",{children:f.jsx(Be,{to:"/upload",className:"hover:text-text transition-colors",children:"Upload Routes"})}),f.jsx("li",{children:f.jsx(Be,{to:"/settings",className:"hover:text-text transition-colors",children:"Settings"})}),f.jsx("li",{children:f.jsx(Be,{to:"/pricing",className:"hover:text-text transition-colors",children:"Pricing"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Hardware"}),f.jsxs("ul",{className:"space-y-2 text-text-light",children:[f.jsx("li",{children:f.jsx("a",{href:"https://pockettracker.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-text transition-colors",children:"Pocket Tracker"})}),f.jsx("li",{children:f.jsx("a",{href:"https://pockettracker.com/support",target:"_blank",rel:"noopener noreferrer",className:"hover:text-text transition-colors",children:"Device Support"})}),f.jsx("li",{children:f.jsx("a",{href:"https://pockettracker.com/specs",target:"_blank",rel:"noopener noreferrer",className:"hover:text-text transition-colors",children:"Specifications"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),f.jsxs("ul",{className:"space-y-2 text-text-light",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-text transition-colors",children:"Help Center"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-text transition-colors",children:"Contact Us"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-text transition-colors",children:"API Docs"})}),f.jsx("li",{children:f.jsx("button",{onClick:()=>c(!0),className:"hover:text-text transition-colors",children:"Install App"})})]})]})]}),f.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-text-light",children:f.jsx("p",{children:"© 2024 TracSync. All rights reserved."})})]})}),a&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"card max-w-2xl w-full p-6 fade-in slide-up max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[f.jsx(uh,{size:24,className:"text-primary"}),"Install TracSync App"]}),f.jsx("button",{onClick:()=>c(!1),className:"p-2 rounded-lg hover:bg-background transition-colors",children:f.jsx(FI,{size:20})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"border border-border rounded-lg p-4",children:[f.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[f.jsx(Xg,{size:20}),"iOS (iPhone/iPad)"]}),f.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-text-light",children:[f.jsx("li",{children:"Open TracSync in Safari browser"}),f.jsxs("li",{children:["Tap the Share button ",f.jsx(N0,{size:14,className:"inline"})," at the bottom"]}),f.jsx("li",{children:'Scroll down and tap "Add to Home Screen"'}),f.jsx("li",{children:'Tap "Add" to confirm installation'}),f.jsx("li",{children:"TracSync will appear on your home screen like a native app"})]})]}),f.jsxs("div",{className:"border border-border rounded-lg p-4",children:[f.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[f.jsx(Xg,{size:20}),"Android"]}),f.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-text-light",children:[f.jsx("li",{children:"Open TracSync in Chrome browser"}),f.jsx("li",{children:"Tap the menu (⋮) in the top right corner"}),f.jsx("li",{children:'Select "Add to Home screen" or "Install app"'}),f.jsx("li",{children:'Tap "Add" or "Install" to confirm'}),f.jsx("li",{children:"TracSync will be installed as a native app"})]})]}),f.jsxs("div",{className:"border border-border rounded-lg p-4",children:[f.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[f.jsx(zI,{size:20}),"Desktop (Chrome/Edge)"]}),f.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-text-light",children:[f.jsxs("li",{children:["Look for the install icon ",f.jsx(T0,{size:14,className:"inline"})," in the address bar"]}),f.jsx("li",{children:'Click the install icon or "Install TracSync" button'}),f.jsx("li",{children:'Click "Install" in the confirmation dialog'}),f.jsx("li",{children:"TracSync will open as a desktop app"})]})]}),f.jsxs("div",{className:"bg-primary/5 rounded-lg p-4",children:[f.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Benefits of Installing"}),f.jsxs("ul",{className:"space-y-2 text-sm text-text-light",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(to,{size:16,className:"text-green-500"}),"Works offline for viewing saved routes"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(to,{size:16,className:"text-green-500"}),"Faster loading and native app experience"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(to,{size:16,className:"text-green-500"}),"Push notifications for tracker updates"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(to,{size:16,className:"text-green-500"}),"No app store required - installs directly"]})]})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:()=>c(!1),className:"btn btn-primary",children:"Got it!"})})]})}),f.jsx(jI,{isOpen:n,onClose:()=>i(!1),initialMode:s})]})},zI=({size:t})=>f.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),f.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),f.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),FI=({size:t})=>f.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});var Ow={exports:{}},yh,A_;function BI(){if(A_)return yh;A_=1,yh=function(){return t};function t(){}return yh}(function(t){let e=function(){this.xmlSource="",this.metadata={},this.waypoints=[],this.tracks=[],this.routes=[]};e.prototype.parse=function(n){let i=this,s=new window.DOMParser;this.xmlSource=s.parseFromString(n,"text/xml");let o=this.xmlSource.querySelector("metadata");if(o!=null){this.metadata.name=this.getElementValue(o,"name"),this.metadata.desc=this.getElementValue(o,"desc"),this.metadata.time=this.getElementValue(o,"time");let _={},y=o.querySelector("author");if(y!=null){_.name=this.getElementValue(y,"name"),_.email={};let k=y.querySelector("email");k!=null&&(_.email.id=k.getAttribute("id"),_.email.domain=k.getAttribute("domain"));let b={},P=y.querySelector("link");P!=null&&(b.href=P.getAttribute("href"),b.text=this.getElementValue(P,"text"),b.type=this.getElementValue(P,"type")),_.link=b}this.metadata.author=_;let x={},w=this.queryDirectSelector(o,"link");w!=null&&(x.href=w.getAttribute("href"),x.text=this.getElementValue(w,"text"),x.type=this.getElementValue(w,"type"),this.metadata.link=x)}var a=[].slice.call(this.xmlSource.querySelectorAll("wpt"));for(let _ in a){var c=a[_];let y={};y.name=i.getElementValue(c,"name"),y.sym=i.getElementValue(c,"sym"),y.lat=parseFloat(c.getAttribute("lat")),y.lon=parseFloat(c.getAttribute("lon"));let x=parseFloat(i.getElementValue(c,"ele"));y.ele=isNaN(x)?null:x,y.cmt=i.getElementValue(c,"cmt"),y.desc=i.getElementValue(c,"desc");let w=i.getElementValue(c,"time");y.time=w==null?null:new Date(w),i.waypoints.push(y)}var u=[].slice.call(this.xmlSource.querySelectorAll("rte"));for(let _ in u){let y=u[_],x={};x.name=i.getElementValue(y,"name"),x.cmt=i.getElementValue(y,"cmt"),x.desc=i.getElementValue(y,"desc"),x.src=i.getElementValue(y,"src"),x.number=i.getElementValue(y,"number");let w=i.queryDirectSelector(y,"type");x.type=w!=null?w.innerHTML:null;let k={},b=y.querySelector("link");b!=null&&(k.href=b.getAttribute("href"),k.text=i.getElementValue(b,"text"),k.type=i.getElementValue(b,"type")),x.link=k;let P=[];var d=[].slice.call(y.querySelectorAll("rtept"));for(let T in d){let N=d[T],I={};I.lat=parseFloat(N.getAttribute("lat")),I.lon=parseFloat(N.getAttribute("lon"));let A=parseFloat(i.getElementValue(N,"ele"));I.ele=isNaN(A)?null:A;let R=i.getElementValue(N,"time");I.time=R==null?null:new Date(R),P.push(I)}x.distance=i.calculDistance(P),x.elevation=i.calcElevation(P),x.slopes=i.calculSlope(P,x.distance.cumul),x.points=P,i.routes.push(x)}var m=[].slice.call(this.xmlSource.querySelectorAll("trk"));for(let _ in m){let y=m[_],x={};x.name=i.getElementValue(y,"name"),x.cmt=i.getElementValue(y,"cmt"),x.desc=i.getElementValue(y,"desc"),x.src=i.getElementValue(y,"src"),x.number=i.getElementValue(y,"number");let w=i.queryDirectSelector(y,"type");x.type=w!=null?w.innerHTML:null;let k={},b=y.querySelector("link");b!=null&&(k.href=b.getAttribute("href"),k.text=i.getElementValue(b,"text"),k.type=i.getElementValue(b,"type")),x.link=k;let P=[],T=[].slice.call(y.querySelectorAll("trkpt"));for(let N in T){var g=T[N];let I={};I.lat=parseFloat(g.getAttribute("lat")),I.lon=parseFloat(g.getAttribute("lon"));let A=parseFloat(i.getElementValue(g,"ele"));I.ele=isNaN(A)?null:A;let R=i.getElementValue(g,"time");I.time=R==null?null:new Date(R),P.push(I)}x.distance=i.calculDistance(P),x.elevation=i.calcElevation(P),x.slopes=i.calculSlope(P,x.distance.cumul),x.points=P,i.tracks.push(x)}},e.prototype.getElementValue=function(n,i){let s=n.querySelector(i);return s!=null?s.innerHTML!=null?s.innerHTML:s.childNodes[0].data:s},e.prototype.queryDirectSelector=function(n,i){let s=n.querySelectorAll(i),o=s[0];if(s.length>1){let a=n.childNodes;for(idx in a)elem=a[idx],elem.tagName===i&&(o=elem)}return o},e.prototype.calculDistance=function(n){let i={},s=0,o=[];for(var a=0;a<n.length-1;a++)s+=this.calcDistanceBetween(n[a],n[a+1]),o[a]=s;return o[n.length-1]=s,i.total=s,i.cumul=o,i},e.prototype.calcDistanceBetween=function(n,i){let s={};s.lat=n.lat,s.lon=n.lon;let o={};o.lat=i.lat,o.lon=i.lon;var a=Math.PI/180,c=s.lat*a,u=o.lat*a,d=Math.sin((o.lat-s.lat)*a/2),m=Math.sin((o.lon-s.lon)*a/2),g=d*d+Math.cos(c)*Math.cos(u)*m*m;return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))},e.prototype.calcElevation=function(n){for(var i=0,s=0,o={},a=0;a<n.length-1;a++){let g=n[a+1].ele,_=n[a].ele;if(g!==null&&_!==null){let y=parseFloat(g)-parseFloat(_);y<0?s+=y:y>0&&(i+=y)}}for(var c=[],u=0,d=(a=0,n.length);a<d;a++)if(n[a].ele!==null){var m=parseFloat(n[a].ele);c.push(m),u+=m}return o.max=Math.max.apply(null,c)||null,o.min=Math.min.apply(null,c)||null,o.pos=Math.abs(i)||null,o.neg=Math.abs(s)||null,o.avg=u/c.length||null,o},e.prototype.calculSlope=function(n,i){let s=[];for(var o=0;o<n.length-1;o++){let a=n[o],c=100*(n[o+1].ele-a.ele)/(i[o+1]-i[o]);s.push(c)}return s},e.prototype.toGeoJSON=function(){var n={type:"FeatureCollection",features:[],properties:{name:this.metadata.name,desc:this.metadata.desc,time:this.metadata.time,author:this.metadata.author,link:this.metadata.link}};for(idx in this.tracks){let o=this.tracks[idx];var i={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in i.properties.name=o.name,i.properties.cmt=o.cmt,i.properties.desc=o.desc,i.properties.src=o.src,i.properties.number=o.number,i.properties.link=o.link,i.properties.type=o.type,o.points){let a=o.points[idx];(s=[]).push(a.lon),s.push(a.lat),s.push(a.ele),i.geometry.coordinates.push(s)}n.features.push(i)}for(idx in this.routes){let o=this.routes[idx];i={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{}};for(idx in i.properties.name=o.name,i.properties.cmt=o.cmt,i.properties.desc=o.desc,i.properties.src=o.src,i.properties.number=o.number,i.properties.link=o.link,i.properties.type=o.type,o.points){let a=o.points[idx];var s;(s=[]).push(a.lon),s.push(a.lat),s.push(a.ele),i.geometry.coordinates.push(s)}n.features.push(i)}for(idx in this.waypoints){let o=this.waypoints[idx];(i={type:"Feature",geometry:{type:"Point",coordinates:[]},properties:{}}).properties.name=o.name,i.properties.sym=o.sym,i.properties.cmt=o.cmt,i.properties.desc=o.desc,i.geometry.coordinates=[o.lon,o.lat,o.ele],n.features.push(i)}return n},BI()(),t.exports=e})(Ow);var UI=Ow.exports;const HI=Gd(UI);function WI(t){if(!t)return{};const e={};return t.replace(/\n/g,",").split(",").forEach(i=>{const s=i.match(/([\w\s]+)\(([^)]+)\):\s*([-\d.]+)/);if(s){const a=s[1].trim().replace(/\s+/g,"_").toLowerCase(),c=s[2].trim(),u=parseFloat(s[3]);e[a]=u,e[`${a}_unit`]=c;return}const o=i.match(/([\w\s]+):\s*([-\d.]+)/);if(o){const a=o[1].trim().replace(/\s+/g,"_").toLowerCase(),c=parseFloat(o[2]);e[a]=c;return}}),e}const VI=t=>new Promise((e,n)=>{const i=new FileReader;i.onload=s=>{var o,a,c;try{const u=new HI;if(u.parse((o=s.target)==null?void 0:o.result),u.tracks.length===0)throw new Error("No tracks found in GPX file");const d=u.tracks.map(E=>{const D=E.points.map(ce=>{var z,G;return{position:{lat:ce.lat,lon:ce.lon,ele:ce.ele||0,time:new Date(ce.time)},speed:ce.speed,heartRate:(z=ce.extensions)==null?void 0:z.hr,cadence:(G=ce.extensions)==null?void 0:G.cad}});let B=0,W=0,Z=0,ve=0;for(let ce=1;ce<D.length;ce++){const z=D[ce-1],G=D[ce];G.speed&&(ve+=G.speed,Z=Math.max(Z,G.speed));const U=G.position.ele-z.position.ele;U>0?B+=U:W+=Math.abs(U)}const ke=D[0].position.time,oe=D[D.length-1].position.time.getTime()-ke.getTime();return{points:D,distance:E.distance.total,duration:oe/1e3,elevationGain:B,elevationLoss:W,maxSpeed:Z,avgSpeed:ve/D.length}}),m=d.reduce((E,D)=>E+D.distance,0),g=d.reduce((E,D)=>E+D.duration,0),_=d.reduce((E,D)=>E+D.elevationGain,0),y=d.reduce((E,D)=>E+D.elevationLoss,0),x=d[0],w=d[d.length-1],k=x.points[0].position,b=w.points[w.points.length-1].position;let P=Number.MAX_VALUE,T=Number.MIN_VALUE,N=Number.MAX_VALUE,I=Number.MIN_VALUE;d.forEach(E=>{E.points.forEach(D=>{const{lat:B,lon:W}=D.position;P=Math.min(P,B),T=Math.max(T,B),N=Math.min(N,W),I=Math.max(I,W)})});const A=Array.isArray(u.waypoints)?u.waypoints.map(E=>{const D=WI(E.cmt),B={...E.extensions||{},...D};return{lat:E.lat,lon:E.lon,ele:E.ele,time:E.time?new Date(E.time):void 0,name:E.name,description:E.desc,comment:E.cmt,extensions:B}}):[],R={id:`route_${Date.now()}`,name:t.name.replace(".gpx","")||"Unnamed Route",description:((a=u.metadata)==null?void 0:a.desc)||"",date:new Date(((c=u.metadata)==null?void 0:c.time)||Date.now()),segments:d,totalDistance:m,totalDuration:g,totalElevationGain:_,totalElevationLoss:y,startPoint:k,endPoint:b,bounds:{minLat:P,maxLat:T,minLon:N,maxLon:I},waypoints:A};e(R)}catch(u){n(u)}},i.onerror=()=>{n(new Error("Error reading GPX file"))},i.readAsText(t)}),fr=t=>t<1e3?`${t.toFixed(0)}m`:`${(t/1e3).toFixed(2)}km`,vc=t=>{const e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%60);return e>0?`${e}h ${n}m ${i}s`:n>0?`${n}m ${i}s`:`${i}s`},$I=t=>`${t.toFixed(0)}m`,cp=t=>t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Aw=O.createContext(void 0),Jc=()=>{const t=O.useContext(Aw);if(!t)throw new Error("useRoutes must be used within a RouteProvider");return t},ZI=({children:t})=>{const[e,n]=O.useState([]),[i,s]=O.useState(!1),{markForSync:o}=lp(),{user:a,userProfile:c}=da(),[u,d]=O.useState(()=>{const w=localStorage.getItem("routeGroups");return w?JSON.parse(w):[{id:"favorites",name:"Favorites",color:"#F59E0B",routeIds:[]}]});O.useEffect(()=>{const w=localStorage.getItem("gpxRoutes");if(w)try{n(JSON.parse(w))}catch(k){console.error("Error parsing saved routes:",k)}},[]),O.useEffect(()=>{a&&m()},[a]),O.useEffect(()=>{e.length>0&&localStorage.setItem("gpxRoutes",JSON.stringify(e))},[e]);const m=async()=>{if(a)try{s(!0);const w=await qt.getUserRoutes(a.uid);console.log("firebaseRoutes",w);const k=w.map(b=>({...b,date:b.uploadedAt.toDate()}));n(k)}catch(w){console.error("Error loading Firebase routes:",w)}finally{s(!1)}},g=async w=>{try{if(s(!0),a&&c){const b=c.storageUsed,P=w.size;if(b+P>c.storageLimit)return alert("Storage limit exceeded. Please upgrade your plan or delete some routes."),!1}const k=await VI(w);if(console.log("parsed route: "),console.log(k),n(b=>[...b,k]),a)try{await qt.uploadRoute(a.uid,k,w)}catch(b){console.error("Error uploading to Firebase:",b),o("route",k.id)}else o("route",k.id);return!0}catch(k){return console.error("Error parsing GPX file:",k),!1}finally{s(!1)}},_=w=>e.find(k=>k.id===w),y=async w=>{if(n(k=>k.filter(b=>b.id!==w)),a)try{await qt.deleteRoute(w,a.uid)}catch(k){console.error("Error deleting from Firebase:",k)}},x=async()=>{if(a)try{s(!0),await m()}catch(w){console.error("Error syncing with Firebase:",w)}finally{s(!1)}};return f.jsx(Aw.Provider,{value:{routes:e,groups:u,setGroups:d,addRoute:g,getRoute:_,deleteRoute:y,loading:i,syncWithFirebase:x},children:t})};var Rd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(sk,function(n){var i="1.9.4";function s(r){var l,h,p,v;for(h=1,p=arguments.length;h<p;h++){v=arguments[h];for(l in v)r[l]=v[l]}return r}var o=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function a(r,l){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var p=h.call(arguments,2);return function(){return r.apply(l,p.length?p.concat(h.call(arguments)):arguments)}}var c=0;function u(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function d(r,l,h){var p,v,S,C;return C=function(){p=!1,v&&(S.apply(h,v),v=!1)},S=function(){p?v=arguments:(r.apply(h,arguments),setTimeout(C,l),p=!0)},S}function m(r,l,h){var p=l[1],v=l[0],S=p-v;return r===p&&h?r:((r-v)%S+S)%S+v}function g(){return!1}function _(r,l){if(l===!1)return r;var h=Math.pow(10,l===void 0?6:l);return Math.round(r*h)/h}function y(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function x(r){return y(r).split(/\s+/)}function w(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var h in l)r.options[h]=l[h];return r.options}function k(r,l,h){var p=[];for(var v in r)p.push(encodeURIComponent(h?v.toUpperCase():v)+"="+encodeURIComponent(r[v]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function P(r,l){return r.replace(b,function(h,p){var v=l[p];if(v===void 0)throw new Error("No value provided for variable "+h);return typeof v=="function"&&(v=v(l)),v})}var T=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function N(r,l){for(var h=0;h<r.length;h++)if(r[h]===l)return h;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var R=0;function E(r){var l=+new Date,h=Math.max(0,16-(l-R));return R=l+h,window.setTimeout(r,h)}var D=window.requestAnimationFrame||A("RequestAnimationFrame")||E,B=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function W(r,l,h){if(h&&D===E)r.call(l);else return D.call(window,a(r,l))}function Z(r){r&&B.call(window,r)}var ve={__proto__:null,extend:s,create:o,bind:a,get lastId(){return c},stamp:u,throttle:d,wrapNum:m,falseFn:g,formatNum:_,trim:y,splitWords:x,setOptions:w,getParamString:k,template:P,isArray:T,indexOf:N,emptyImageUrl:I,requestFn:D,cancelFn:B,requestAnimFrame:W,cancelAnimFrame:Z};function ke(){}ke.extend=function(r){var l=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,p=o(h);p.constructor=l,l.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(l[v]=this[v]);return r.statics&&s(l,r.statics),r.includes&&(ye(r.includes),s.apply(null,[p].concat(r.includes))),s(p,r),delete p.statics,delete p.includes,p.options&&(p.options=h.options?o(h.options):{},s(p.options,r.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,C=p._initHooks.length;S<C;S++)p._initHooks[S].call(this)}},l},ke.include=function(r){var l=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},ke.mergeOptions=function(r){return s(this.prototype.options,r),this},ke.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ye(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=T(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(r,l,h){if(typeof r=="object")for(var p in r)this._on(p,r[p],l);else{r=x(r);for(var v=0,S=r.length;v<S;v++)this._on(r[v],l,h)}return this},off:function(r,l,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var p in r)this._off(p,r[p],l);else{r=x(r);for(var v=arguments.length===1,S=0,C=r.length;S<C;S++)v?this._off(r[S]):this._off(r[S],l,h)}return this},_on:function(r,l,h,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,h)===!1){h===this&&(h=void 0);var v={fn:l,ctx:h};p&&(v.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(v)}},_off:function(r,l,h){var p,v,S;if(this._events&&(p=this._events[r],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,S=p.length;v<S;v++)p[v].fn=g;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var C=this._listens(r,l,h);if(C!==!1){var M=p[C];this._firingCount&&(M.fn=g,this._events[r]=p=p.slice()),p.splice(C,1)}}},fire:function(r,l,h){if(!this.listens(r,h))return this;var p=s({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var v=this._events[r];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,C=v.length;S<C;S++){var M=v[S],j=M.fn;M.once&&this.off(r,j,M.ctx),j.call(M.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(r,l,h,p){typeof r!="string"&&console.warn('"string" type argument expected');var v=l;typeof l!="function"&&(p=!!l,v=void 0,h=void 0);var S=this._events&&this._events[r];if(S&&S.length&&this._listens(r,v,h)!==!1)return!0;if(p){for(var C in this._eventParents)if(this._eventParents[C].listens(r,l,h,p))return!0}return!1},_listens:function(r,l,h){if(!this._events)return!1;var p=this._events[r]||[];if(!l)return!!p.length;h===this&&(h=void 0);for(var v=0,S=p.length;v<S;v++)if(p[v].fn===l&&p[v].ctx===h)return v;return!1},once:function(r,l,h){if(typeof r=="object")for(var p in r)this._on(p,r[p],l,!0);else{r=x(r);for(var v=0,S=r.length;v<S;v++)this._on(r[v],l,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[u(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[u(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ce=ke.extend(oe);function z(r,l,h){this.x=h?Math.round(r):r,this.y=h?Math.round(l):l}var G=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new z(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new z(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(r){r=U(r);var l=r.x-this.x,h=r.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function U(r,l,h){return r instanceof z?r:T(r)?new z(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new z(r.x,r.y):new z(r,l,h)}function K(r,l){if(r)for(var h=l?[r,l]:r,p=0,v=h.length;p<v;p++)this.extend(h[p])}K.prototype={extend:function(r){var l,h;if(!r)return this;if(r instanceof z||typeof r[0]=="number"||"x"in r)l=h=U(r);else if(r=te(r),l=r.min,h=r.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,h;return typeof r[0]=="number"||r instanceof z?r=U(r):r=te(r),r instanceof K?(l=r.min,h=r.max):l=h=r,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=te(r);var l=this.min,h=this.max,p=r.min,v=r.max,S=v.x>=l.x&&p.x<=h.x,C=v.y>=l.y&&p.y<=h.y;return S&&C},overlaps:function(r){r=te(r);var l=this.min,h=this.max,p=r.min,v=r.max,S=v.x>l.x&&p.x<h.x,C=v.y>l.y&&p.y<h.y;return S&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,h=this.max,p=Math.abs(l.x-h.x)*r,v=Math.abs(l.y-h.y)*r;return te(U(l.x-p,l.y-v),U(h.x+p,h.y+v))},equals:function(r){return r?(r=te(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function te(r,l){return!r||r instanceof K?r:new K(r,l)}function Se(r,l){if(r)for(var h=l?[r,l]:r,p=0,v=h.length;p<v;p++)this.extend(h[p])}Se.prototype={extend:function(r){var l=this._southWest,h=this._northEast,p,v;if(r instanceof se)p=r,v=r;else if(r instanceof Se){if(p=r._southWest,v=r._northEast,!p||!v)return this}else return r?this.extend(Y(r)||le(r)):this;return!l&&!h?(this._southWest=new se(p.lat,p.lng),this._northEast=new se(v.lat,v.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),h.lat=Math.max(v.lat,h.lat),h.lng=Math.max(v.lng,h.lng)),this},pad:function(r){var l=this._southWest,h=this._northEast,p=Math.abs(l.lat-h.lat)*r,v=Math.abs(l.lng-h.lng)*r;return new Se(new se(l.lat-p,l.lng-v),new se(h.lat+p,h.lng+v))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof se||"lat"in r?r=Y(r):r=le(r);var l=this._southWest,h=this._northEast,p,v;return r instanceof Se?(p=r.getSouthWest(),v=r.getNorthEast()):p=v=r,p.lat>=l.lat&&v.lat<=h.lat&&p.lng>=l.lng&&v.lng<=h.lng},intersects:function(r){r=le(r);var l=this._southWest,h=this._northEast,p=r.getSouthWest(),v=r.getNorthEast(),S=v.lat>=l.lat&&p.lat<=h.lat,C=v.lng>=l.lng&&p.lng<=h.lng;return S&&C},overlaps:function(r){r=le(r);var l=this._southWest,h=this._northEast,p=r.getSouthWest(),v=r.getNorthEast(),S=v.lat>l.lat&&p.lat<h.lat,C=v.lng>l.lng&&p.lng<h.lng;return S&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=le(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(r,l){return r instanceof Se?r:new Se(r,l)}function se(r,l,h){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,h!==void 0&&(this.alt=+h)}se.prototype={equals:function(r,l){if(!r)return!1;r=Y(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+_(this.lat,r)+", "+_(this.lng,r)+")"},distanceTo:function(r){return Kn.distance(this,Y(r))},wrap:function(){return Kn.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,h=l/Math.cos(Math.PI/180*this.lat);return le([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function Y(r,l,h){return r instanceof se?r:T(r)&&typeof r[0]!="object"?r.length===3?new se(r[0],r[1],r[2]):r.length===2?new se(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new se(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new se(r,l,h)}var dt={latLngToPoint:function(r,l){var h=this.projection.project(r),p=this.scale(l);return this.transformation._transform(h,p)},pointToLatLng:function(r,l){var h=this.scale(l),p=this.transformation.untransform(r,h);return this.projection.unproject(p)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(r),p=this.transformation.transform(l.min,h),v=this.transformation.transform(l.max,h);return new K(p,v)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?m(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?m(r.lat,this.wrapLat,!0):r.lat,p=r.alt;return new se(h,l,p)},wrapLatLngBounds:function(r){var l=r.getCenter(),h=this.wrapLatLng(l),p=l.lat-h.lat,v=l.lng-h.lng;if(p===0&&v===0)return r;var S=r.getSouthWest(),C=r.getNorthEast(),M=new se(S.lat-p,S.lng-v),j=new se(C.lat-p,C.lng-v);return new Se(M,j)}},Kn=s({},dt,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var h=Math.PI/180,p=r.lat*h,v=l.lat*h,S=Math.sin((l.lat-r.lat)*h/2),C=Math.sin((l.lng-r.lng)*h/2),M=S*S+Math.cos(p)*Math.cos(v)*C*C,j=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*j}}),Sp=6378137,iu={R:Sp,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,r.lat),-h),v=Math.sin(p*l);return new z(this.R*r.lng*l,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(r){var l=180/Math.PI;return new se((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=Sp*Math.PI;return new K([-r,-r],[r,r])}()};function su(r,l,h,p){if(T(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=h,this._d=p}su.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new z((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Sr(r,l,h,p){return new su(r,l,h,p)}var ru=s({},Kn,{code:"EPSG:3857",projection:iu,transformation:function(){var r=.5/(Math.PI*iu.R);return Sr(r,.5,-r,.5)}()}),L1=s({},ru,{code:"EPSG:900913"});function Pp(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Tp(r,l){var h="",p,v,S,C,M,j;for(p=0,S=r.length;p<S;p++){for(M=r[p],v=0,C=M.length;v<C;v++)j=M[v],h+=(v?"L":"M")+j.x+" "+j.y;h+=l?q.svg?"z":"x":""}return h||"M0 0"}var ou=document.documentElement.style,ga="ActiveXObject"in window,M1=ga&&!document.addEventListener,Ep="msLaunchUri"in navigator&&!("documentMode"in document),au=rn("webkit"),Cp=rn("android"),Np=rn("android 2")||rn("android 3"),O1=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),A1=Cp&&rn("Google")&&O1<537&&!("AudioNode"in window),lu=!!window.opera,Ip=!Ep&&rn("chrome"),Lp=rn("gecko")&&!au&&!lu&&!ga,R1=!Ip&&rn("safari"),Mp=rn("phantom"),Op="OTransition"in ou,j1=navigator.platform.indexOf("Win")===0,Ap=ga&&"transition"in ou,cu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Np,Rp="MozPerspective"in ou,D1=!window.L_DISABLE_3D&&(Ap||cu||Rp)&&!Op&&!Mp,Pr=typeof orientation<"u"||rn("mobile"),z1=Pr&&au,F1=Pr&&cu,jp=!window.PointerEvent&&window.MSPointerEvent,Dp=!!(window.PointerEvent||jp),zp="ontouchstart"in window||!!window.TouchEvent,B1=!window.L_NO_TOUCH&&(zp||Dp),U1=Pr&&lu,H1=Pr&&Lp,W1=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,V1=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return r}(),$1=function(){return!!document.createElement("canvas").getContext}(),uu=!!(document.createElementNS&&Pp("svg").createSVGRect),Z1=!!uu&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),G1=!uu&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),q1=navigator.platform.indexOf("Mac")===0,K1=navigator.platform.indexOf("Linux")===0;function rn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var q={ie:ga,ielt9:M1,edge:Ep,webkit:au,android:Cp,android23:Np,androidStock:A1,opera:lu,chrome:Ip,gecko:Lp,safari:R1,phantom:Mp,opera12:Op,win:j1,ie3d:Ap,webkit3d:cu,gecko3d:Rp,any3d:D1,mobile:Pr,mobileWebkit:z1,mobileWebkit3d:F1,msPointer:jp,pointer:Dp,touch:B1,touchNative:zp,mobileOpera:U1,mobileGecko:H1,retina:W1,passiveEvents:V1,canvas:$1,svg:uu,vml:G1,inlineSvg:Z1,mac:q1,linux:K1},Fp=q.msPointer?"MSPointerDown":"pointerdown",Bp=q.msPointer?"MSPointerMove":"pointermove",Up=q.msPointer?"MSPointerUp":"pointerup",Hp=q.msPointer?"MSPointerCancel":"pointercancel",hu={touchstart:Fp,touchmove:Bp,touchend:Up,touchcancel:Hp},Wp={touchstart:tb,touchmove:_a,touchend:_a,touchcancel:_a},bs={},Vp=!1;function Y1(r,l,h){return l==="touchstart"&&eb(),Wp[l]?(h=Wp[l].bind(this,h),r.addEventListener(hu[l],h,!1),h):(console.warn("wrong event specified:",l),g)}function X1(r,l,h){if(!hu[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(hu[l],h,!1)}function J1(r){bs[r.pointerId]=r}function Q1(r){bs[r.pointerId]&&(bs[r.pointerId]=r)}function $p(r){delete bs[r.pointerId]}function eb(){Vp||(document.addEventListener(Fp,J1,!0),document.addEventListener(Bp,Q1,!0),document.addEventListener(Up,$p,!0),document.addEventListener(Hp,$p,!0),Vp=!0)}function _a(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in bs)l.touches.push(bs[h]);l.changedTouches=[l],r(l)}}function tb(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ke(l),_a(r,l)}function nb(r){var l={},h,p;for(p in r)h=r[p],l[p]=h&&h.bind?h.bind(r):h;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var ib=200;function sb(r,l){r.addEventListener("dblclick",l);var h=0,p;function v(S){if(S.detail!==1){p=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var C=Yp(S);if(!(C.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!C.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var M=Date.now();M-h<=ib?(p++,p===2&&l(nb(S))):p=1,h=M}}}return r.addEventListener("click",v),{dblclick:l,simDblclick:v}}function rb(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var du=xa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tr=xa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zp=Tr==="webkitTransition"||Tr==="OTransition"?Tr+"End":"transitionend";function Gp(r){return typeof r=="string"?document.getElementById(r):r}function Er(r,l){var h=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(r,null);h=p?p[l]:null}return h==="auto"?null:h}function pe(r,l,h){var p=document.createElement(r);return p.className=l||"",h&&h.appendChild(p),p}function Ne(r){var l=r.parentNode;l&&l.removeChild(r)}function va(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function ks(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function Ss(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function fu(r,l){if(r.classList!==void 0)return r.classList.contains(l);var h=ya(r);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function ne(r,l){if(r.classList!==void 0)for(var h=x(l),p=0,v=h.length;p<v;p++)r.classList.add(h[p]);else if(!fu(r,l)){var S=ya(r);pu(r,(S?S+" ":"")+l)}}function Re(r,l){r.classList!==void 0?r.classList.remove(l):pu(r,y((" "+ya(r)+" ").replace(" "+l+" "," ")))}function pu(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function ya(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Et(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&ob(r,l)}function ob(r,l){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):r.style.filter+=" progid:"+p+"(opacity="+l+")"}function xa(r){for(var l=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in l)return r[h];return!1}function zi(r,l,h){var p=l||new z(0,0);r.style[du]=(q.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function ze(r,l){r._leaflet_pos=l,q.any3d?zi(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function Fi(r){return r._leaflet_pos||new z(0,0)}var Cr,Nr,mu;if("onselectstart"in document)Cr=function(){ee(window,"selectstart",Ke)},Nr=function(){xe(window,"selectstart",Ke)};else{var Ir=xa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cr=function(){if(Ir){var r=document.documentElement.style;mu=r[Ir],r[Ir]="none"}},Nr=function(){Ir&&(document.documentElement.style[Ir]=mu,mu=void 0)}}function gu(){ee(window,"dragstart",Ke)}function _u(){xe(window,"dragstart",Ke)}var wa,vu;function yu(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ba(),wa=r,vu=r.style.outlineStyle,r.style.outlineStyle="none",ee(window,"keydown",ba))}function ba(){wa&&(wa.style.outlineStyle=vu,wa=void 0,vu=void 0,xe(window,"keydown",ba))}function qp(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function xu(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var ab={__proto__:null,TRANSFORM:du,TRANSITION:Tr,TRANSITION_END:Zp,get:Gp,getStyle:Er,create:pe,remove:Ne,empty:va,toFront:ks,toBack:Ss,hasClass:fu,addClass:ne,removeClass:Re,setClass:pu,getClass:ya,setOpacity:Et,testProp:xa,setTransform:zi,setPosition:ze,getPosition:Fi,get disableTextSelection(){return Cr},get enableTextSelection(){return Nr},disableImageDrag:gu,enableImageDrag:_u,preventOutline:yu,restoreOutline:ba,getSizedParentNode:qp,getScale:xu};function ee(r,l,h,p){if(l&&typeof l=="object")for(var v in l)bu(r,v,l[v],h);else{l=x(l);for(var S=0,C=l.length;S<C;S++)bu(r,l[S],h,p)}return this}var on="_leaflet_events";function xe(r,l,h,p){if(arguments.length===1)Kp(r),delete r[on];else if(l&&typeof l=="object")for(var v in l)ku(r,v,l[v],h);else if(l=x(l),arguments.length===2)Kp(r,function(M){return N(l,M)!==-1});else for(var S=0,C=l.length;S<C;S++)ku(r,l[S],h,p);return this}function Kp(r,l){for(var h in r[on]){var p=h.split(/\d/)[0];(!l||l(p))&&ku(r,p,null,null,h)}}var wu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bu(r,l,h,p){var v=l+u(h)+(p?"_"+u(p):"");if(r[on]&&r[on][v])return this;var S=function(M){return h.call(p||r,M||window.event)},C=S;!q.touchNative&&q.pointer&&l.indexOf("touch")===0?S=Y1(r,l,S):q.touch&&l==="dblclick"?S=sb(r,S):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(wu[l]||l,S,q.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(S=function(M){M=M||window.event,Pu(r,M)&&C(M)},r.addEventListener(wu[l],S,!1)):r.addEventListener(l,C,!1):r.attachEvent("on"+l,S),r[on]=r[on]||{},r[on][v]=S}function ku(r,l,h,p,v){v=v||l+u(h)+(p?"_"+u(p):"");var S=r[on]&&r[on][v];if(!S)return this;!q.touchNative&&q.pointer&&l.indexOf("touch")===0?X1(r,l,S):q.touch&&l==="dblclick"?rb(r,S):"removeEventListener"in r?r.removeEventListener(wu[l]||l,S,!1):r.detachEvent("on"+l,S),r[on][v]=null}function Bi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Su(r){return bu(r,"wheel",Bi),this}function Lr(r){return ee(r,"mousedown touchstart dblclick contextmenu",Bi),r._leaflet_disable_click=!0,this}function Ke(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Ui(r){return Ke(r),Bi(r),this}function Yp(r){if(r.composedPath)return r.composedPath();for(var l=[],h=r.target;h;)l.push(h),h=h.parentNode;return l}function Xp(r,l){if(!l)return new z(r.clientX,r.clientY);var h=xu(l),p=h.boundingClientRect;return new z((r.clientX-p.left)/h.x-l.clientLeft,(r.clientY-p.top)/h.y-l.clientTop)}var lb=q.linux&&q.chrome?window.devicePixelRatio:q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jp(r){return q.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/lb:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Pu(r,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var cb={__proto__:null,on:ee,off:xe,stopPropagation:Bi,disableScrollPropagation:Su,disableClickPropagation:Lr,preventDefault:Ke,stop:Ui,getPropagationPath:Yp,getMousePosition:Xp,getWheelDelta:Jp,isExternalTarget:Pu,addListener:ee,removeListener:xe},Qp=ce.extend({run:function(r,l,h,p){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Fi(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var h=this._startPos.add(this._offset.multiplyBy(r));l&&h._round(),ze(this._el,h),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),he=ce.extend({options:{crs:ru,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=w(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Y(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tr&&q.any3d&&!q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,Zp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(Y(r),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=s({animate:h.animate},h.zoom),h.pan=s({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,h.zoom):this._tryAnimatedPan(r,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,h){var p=this.getZoomScale(l),v=this.getSize().divideBy(2),S=r instanceof z?r:this.latLngToContainerPoint(r),C=S.subtract(v).multiplyBy(1-1/p),M=this.containerPointToLatLng(v.add(C));return this.setView(M,l,{zoom:h})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():le(r);var h=U(l.paddingTopLeft||l.padding||[0,0]),p=U(l.paddingBottomRight||l.padding||[0,0]),v=this.getBoundsZoom(r,!1,h.add(p));if(v=typeof l.maxZoom=="number"?Math.min(l.maxZoom,v):v,v===1/0)return{center:r.getCenter(),zoom:v};var S=p.subtract(h).divideBy(2),C=this.project(r.getSouthWest(),v),M=this.project(r.getNorthEast(),v),j=this.unproject(C.add(M).divideBy(2).add(S),v);return{center:j,zoom:v}},fitBounds:function(r,l){if(r=le(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=U(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,h){if(h=h||{},h.animate===!1||!q.any3d)return this.setView(r,l,h);this._stop();var p=this.project(this.getCenter()),v=this.project(r),S=this.getSize(),C=this._zoom;r=Y(r),l=l===void 0?C:l;var M=Math.max(S.x,S.y),j=M*this.getZoomScale(C,l),F=v.distanceTo(p)||1,V=1.42,X=V*V;function re(Fe){var Aa=Fe?-1:1,Xb=Fe?j:M,Jb=j*j-M*M+Aa*X*X*F*F,Qb=2*Xb*X*F,ju=Jb/Qb,Om=Math.sqrt(ju*ju+1)-ju,ek=Om<1e-9?-18:Math.log(Om);return ek}function ot(Fe){return(Math.exp(Fe)-Math.exp(-Fe))/2}function $e(Fe){return(Math.exp(Fe)+Math.exp(-Fe))/2}function Nt(Fe){return ot(Fe)/$e(Fe)}var ft=re(0);function Is(Fe){return M*($e(ft)/$e(ft+V*Fe))}function Gb(Fe){return M*($e(ft)*Nt(ft+V*Fe)-ot(ft))/X}function qb(Fe){return 1-Math.pow(1-Fe,1.5)}var Kb=Date.now(),Lm=(re(1)-ft)/V,Yb=h.duration?1e3*h.duration:1e3*Lm*.8;function Mm(){var Fe=(Date.now()-Kb)/Yb,Aa=qb(Fe)*Lm;Fe<=1?(this._flyToFrame=W(Mm,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(Gb(Aa)/F)),C),this.getScaleZoom(M/Is(Aa),C),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Mm.call(this),this},flyToBounds:function(r,l){var h=this._getBoundsCenterZoom(r,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(r){return r=le(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,le(r));return h.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var h=U(l.paddingTopLeft||l.padding||[0,0]),p=U(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(r),C=this.getPixelBounds(),M=te([C.min.add(h),C.max.subtract(p)]),j=M.getSize();if(!M.contains(S)){this._enforcingBounds=!0;var F=S.subtract(M.getCenter()),V=M.extend(S).getSize().subtract(j);v.x+=F.x<0?-V.x:V.x,v.y+=F.y<0?-V.y:V.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=l.divideBy(2).round(),v=h.divideBy(2).round(),S=p.subtract(v);return!S.x&&!S.y?this:(r.animate&&r.pan?this.panBy(S):(r.pan&&this._rawPanBy(S),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,r):navigator.geolocation.getCurrentPosition(l,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,h=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,h=r.coords.longitude,p=new se(l,h),v=p.toBounds(r.coords.accuracy*2),S=this._locateOptions;if(S.setView){var C=this.getBoundsZoom(v);this.setView(p,S.maxZoom?Math.min(C,S.maxZoom):C)}var M={latlng:p,bounds:v,timestamp:r.timestamp};for(var j in r.coords)typeof r.coords[j]=="number"&&(M[j]=r.coords[j]);this.fire("locationfound",M)}},addHandler:function(r,l){if(!l)return this;var h=this[r]=new l(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ne(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),p=pe("div",h,l||this._mapPane);return r&&(this._panes[r]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new Se(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,h){r=le(r),h=U(h||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),C=r.getNorthWest(),M=r.getSouthEast(),j=this.getSize().subtract(h),F=te(this.project(M,p),this.project(C,p)).getSize(),V=q.any3d?this.options.zoomSnap:1,X=j.x/F.x,re=j.y/F.y,ot=l?Math.max(X,re):Math.min(X,re);return p=this.getScaleZoom(ot,p),V&&(p=Math.round(p/(V/100))*(V/100),p=l?Math.ceil(p/V)*V:Math.floor(p/V)*V),Math.max(v,Math.min(S,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var h=this._getTopLeftPoint(r,l);return new K(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(r)/h.scale(l)},getScaleZoom:function(r,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var p=h.zoom(r*h.scale(l));return isNaN(p)?1/0:p},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Y(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(U(r),l)},layerPointToLatLng:function(r){var l=U(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(Y(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Y(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(le(r))},distance:function(r,l){return this.options.crs.distance(Y(r),Y(l))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(r)))},mouseEventToContainerPoint:function(r){return Xp(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Gp(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&q.any3d,ne(r,"leaflet-container"+(q.touch?" leaflet-touch":"")+(q.retina?" leaflet-retina":"")+(q.ielt9?" leaflet-oldie":"")+(q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Er(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ze(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(r.markerPane,"leaflet-zoom-hide"),ne(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,h){ze(this._mapPane,new z(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var v=this._zoom!==l;this._moveStart(v,h)._move(r,l)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,h,p){l===void 0&&(l=this._zoom);var v=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),p?h&&h.pinch&&this.fire("zoom",h):((v||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ze(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[u(this._container)]=this;var l=r?xe:ee;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),q.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var h=[],p,v=l==="mouseout"||l==="mouseover",S=r.target||r.srcElement,C=!1;S;){if(p=this._targets[u(S)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){C=!0;break}if(p&&p.listens(l,!0)&&(v&&!Pu(S,r)||(h.push(p),v))||S===this._container)break;S=S.parentNode}return!h.length&&!C&&!v&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var h=r.type;h==="mousedown"&&yu(l),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,h){if(r.type==="click"){var p=s({},r);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var v=this._findEventTargets(r,l);if(h){for(var S=[],C=0;C<h.length;C++)h[C].listens(l,!0)&&S.push(h[C]);v=S.concat(v)}if(v.length){l==="contextmenu"&&Ke(r);var M=v[0],j={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var F=M.getLatLng&&(!M._radius||M._radius<=10);j.containerPoint=F?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(r),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=F?M.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(C=0;C<v.length;C++)if(v[C].fire(l,j,!0),j.originalEvent._stopped||v[C].options.bubblingMouseEvents===!1&&N(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return Fi(this._mapPane)||new z(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var h=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var h=this.getSize()._divideBy(2);return this.project(r,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,h){var p=this._getNewPixelOrigin(h,l);return this.project(r,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(r,l,h){var p=this._getNewPixelOrigin(h,l);return te([this.project(r.getSouthWest(),l)._subtract(p),this.project(r.getNorthWest(),l)._subtract(p),this.project(r.getSouthEast(),l)._subtract(p),this.project(r.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,h){if(!h)return r;var p=this.project(r,l),v=this.getSize().divideBy(2),S=new K(p.subtract(v),p.add(v)),C=this._getBoundsOffset(S,h,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?r:this.unproject(p.add(C),l)},_limitOffset:function(r,l){if(!l)return r;var h=this.getPixelBounds(),p=new K(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(r,l,h){var p=te(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),v=p.min.subtract(r.min),S=p.max.subtract(r.max),C=this._rebound(v.x,-S.x),M=this._rebound(v.y,-S.y);return new z(C,M)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),h=this.getMaxZoom(),p=q.any3d?this.options.zoomSnap:1;return p&&(r=Math.round(r/p)*p),Math.max(l,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var h=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var r=this._proxy=pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var h=du,p=this._proxy.style[h];zi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();zi(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),v=this._getCenterOffset(r)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(v)?!1:(W(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ub(r,l){return new he(r,l)}var Ht=ke.extend({options:{position:"topright"},initialize:function(r){w(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),h=this.getPosition(),p=r._controlCorners[h];return ne(l,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Mr=function(r){return new Ht(r)};he.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",h=this._controlContainer=pe("div",l+"control-container",this._container);function p(v,S){var C=l+v+" "+l+S;r[v+S]=pe("div",C,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ne(this._controlCorners[r]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var em=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,h,p){return h<p?-1:p<h?1:0}},initialize:function(r,l,h){w(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in r)this._addLayer(r[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ht.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=pe("div",r),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Lr(l),Su(l);var p=this._section=pe("section",r+"-list");h&&(this._map.on("click",this.collapse,this),ee(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=pe("a",r+"-toggle",l);v.href="#",v.title="Layers",v.setAttribute("role","button"),ee(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Ke(S),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=pe("div",r+"-base",p),this._separator=pe("div",r+"-separator",p),this._overlaysList=pe("div",r+"-overlays",p),l.appendChild(p)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;va(this._baseLayersList),va(this._overlaysList),this._layerControlInputs=[];var r,l,h,p,v=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),l=l||p.overlay,r=r||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(r=r&&v>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(u(r.target)),h=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(r,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(r){var l=document.createElement("label"),h=this._map.hasLayer(r.layer),p;r.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(p),p.layerId=u(r.layer),ee(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+r.name;var S=document.createElement("span");l.appendChild(S),S.appendChild(p),S.appendChild(v);var C=r.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,h,p=[],v=[];this._handlingClick=!0;for(var S=r.length-1;S>=0;S--)l=r[S],h=this._getLayer(l.layerId).layer,l.checked?p.push(h):l.checked||v.push(h);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<p.length;S++)this._map.hasLayer(p[S])||this._map.addLayer(p[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,h,p=this._map.getZoom(),v=r.length-1;v>=0;v--)l=r[v],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ee(r,"click",Ke),this.expand();var l=this;setTimeout(function(){xe(r,"click",Ke),l._preventClick=!1})}}),hb=function(r,l,h){return new em(r,l,h)},Tu=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",h=pe("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,h,p,v){var S=pe("a",h,p);return S.innerHTML=r,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),Lr(S),ee(S,"click",Ui),ee(S,"click",v,this),ee(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Re(this._zoomInButton,l),Re(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(ne(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(ne(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});he.mergeOptions({zoomControl:!0}),he.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tu,this.addControl(this.zoomControl))});var db=function(r){return new Tu(r)},tm=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",h=pe("div",l),p=this.options;return this._addScales(p,l+"-line",h),r.on(p.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,h){r.metric&&(this._mScale=pe("div",l,h)),r.imperial&&(this._iScale=pe("div",l,h))},_update:function(){var r=this._map,l=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/r)},_updateImperial:function(r){var l=r*3.2808399,h,p,v;l>5280?(h=l/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(v=this._getRoundNum(l),this._updateScale(this._iScale,v+" ft",v/l))},_updateScale:function(r,l,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),h=r/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),fb=function(r){return new tm(r)},pb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Eu=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(q.inlineSvg?pb+" ":"")+"Leaflet</a>"},initialize:function(r){w(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=pe("div","leaflet-control-attribution"),Lr(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});he.mergeOptions({attributionControl:!0}),he.addInitHook(function(){this.options.attributionControl&&new Eu().addTo(this)});var mb=function(r){return new Eu(r)};Ht.Layers=em,Ht.Zoom=Tu,Ht.Scale=tm,Ht.Attribution=Eu,Mr.layers=hb,Mr.zoom=db,Mr.scale=fb,Mr.attribution=mb;var an=ke.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});an.addTo=function(r,l){return r.addHandler(l,this),this};var gb={Events:oe},nm=q.touch?"touchstart mousedown":"mousedown",Yn=ce.extend({options:{clickTolerance:3},initialize:function(r,l,h,p){w(this,p),this._element=r,this._dragStartTarget=l||r,this._preventOutline=h},enable:function(){this._enabled||(ee(this._dragStartTarget,nm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yn._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,nm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!fu(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Yn._dragging===this&&this.finishDrag();return}if(!(Yn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Yn._dragging=this,this._preventOutline&&yu(this._element),gu(),Cr(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,h=qp(this._element);this._startPoint=new z(l.clientX,l.clientY),this._startPos=Fi(this._element),this._parentScale=xu(h);var p=r.type==="mousedown";ee(document,p?"mousemove":"touchmove",this._onMove,this),ee(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,h=new z(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ke(r),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ze(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Re(document.body,"leaflet-dragging"),this._lastTarget&&(Re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),_u(),Nr();var l=this._moved&&this._moving;this._moving=!1,Yn._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function im(r,l,h){var p,v=[1,4,2,8],S,C,M,j,F,V,X,re;for(S=0,V=r.length;S<V;S++)r[S]._code=Hi(r[S],l);for(M=0;M<4;M++){for(X=v[M],p=[],S=0,V=r.length,C=V-1;S<V;C=S++)j=r[S],F=r[C],j._code&X?F._code&X||(re=ka(F,j,X,l,h),re._code=Hi(re,l),p.push(re)):(F._code&X&&(re=ka(F,j,X,l,h),re._code=Hi(re,l),p.push(re)),p.push(j));r=p}return r}function sm(r,l){var h,p,v,S,C,M,j,F,V;if(!r||r.length===0)throw new Error("latlngs not passed");Ct(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var X=Y([0,0]),re=le(r),ot=re.getNorthWest().distanceTo(re.getSouthWest())*re.getNorthEast().distanceTo(re.getNorthWest());ot<1700&&(X=Cu(r));var $e=r.length,Nt=[];for(h=0;h<$e;h++){var ft=Y(r[h]);Nt.push(l.project(Y([ft.lat-X.lat,ft.lng-X.lng])))}for(M=j=F=0,h=0,p=$e-1;h<$e;p=h++)v=Nt[h],S=Nt[p],C=v.y*S.x-S.y*v.x,j+=(v.x+S.x)*C,F+=(v.y+S.y)*C,M+=C*3;M===0?V=Nt[0]:V=[j/M,F/M];var Is=l.unproject(U(V));return Y([Is.lat+X.lat,Is.lng+X.lng])}function Cu(r){for(var l=0,h=0,p=0,v=0;v<r.length;v++){var S=Y(r[v]);l+=S.lat,h+=S.lng,p++}return Y([l/p,h/p])}var _b={__proto__:null,clipPolygon:im,polygonCenter:sm,centroid:Cu};function rm(r,l){if(!l||!r.length)return r.slice();var h=l*l;return r=xb(r,h),r=yb(r,h),r}function om(r,l,h){return Math.sqrt(Or(r,l,h,!0))}function vb(r,l,h){return Or(r,l,h)}function yb(r,l){var h=r.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(h);v[0]=v[h-1]=1,Nu(r,v,l,0,h-1);var S,C=[];for(S=0;S<h;S++)v[S]&&C.push(r[S]);return C}function Nu(r,l,h,p,v){var S=0,C,M,j;for(M=p+1;M<=v-1;M++)j=Or(r[M],r[p],r[v],!0),j>S&&(C=M,S=j);S>h&&(l[C]=1,Nu(r,l,h,p,C),Nu(r,l,h,C,v))}function xb(r,l){for(var h=[r[0]],p=1,v=0,S=r.length;p<S;p++)wb(r[p],r[v])>l&&(h.push(r[p]),v=p);return v<S-1&&h.push(r[S-1]),h}var am;function lm(r,l,h,p,v){var S=p?am:Hi(r,h),C=Hi(l,h),M,j,F;for(am=C;;){if(!(S|C))return[r,l];if(S&C)return!1;M=S||C,j=ka(r,l,M,h,v),F=Hi(j,h),M===S?(r=j,S=F):(l=j,C=F)}}function ka(r,l,h,p,v){var S=l.x-r.x,C=l.y-r.y,M=p.min,j=p.max,F,V;return h&8?(F=r.x+S*(j.y-r.y)/C,V=j.y):h&4?(F=r.x+S*(M.y-r.y)/C,V=M.y):h&2?(F=j.x,V=r.y+C*(j.x-r.x)/S):h&1&&(F=M.x,V=r.y+C*(M.x-r.x)/S),new z(F,V,v)}function Hi(r,l){var h=0;return r.x<l.min.x?h|=1:r.x>l.max.x&&(h|=2),r.y<l.min.y?h|=4:r.y>l.max.y&&(h|=8),h}function wb(r,l){var h=l.x-r.x,p=l.y-r.y;return h*h+p*p}function Or(r,l,h,p){var v=l.x,S=l.y,C=h.x-v,M=h.y-S,j=C*C+M*M,F;return j>0&&(F=((r.x-v)*C+(r.y-S)*M)/j,F>1?(v=h.x,S=h.y):F>0&&(v+=C*F,S+=M*F)),C=r.x-v,M=r.y-S,p?C*C+M*M:new z(v,S)}function Ct(r){return!T(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function cm(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ct(r)}function um(r,l){var h,p,v,S,C,M,j,F;if(!r||r.length===0)throw new Error("latlngs not passed");Ct(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var V=Y([0,0]),X=le(r),re=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());re<1700&&(V=Cu(r));var ot=r.length,$e=[];for(h=0;h<ot;h++){var Nt=Y(r[h]);$e.push(l.project(Y([Nt.lat-V.lat,Nt.lng-V.lng])))}for(h=0,p=0;h<ot-1;h++)p+=$e[h].distanceTo($e[h+1])/2;if(p===0)F=$e[0];else for(h=0,S=0;h<ot-1;h++)if(C=$e[h],M=$e[h+1],v=C.distanceTo(M),S+=v,S>p){j=(S-p)/v,F=[M.x-j*(M.x-C.x),M.y-j*(M.y-C.y)];break}var ft=l.unproject(U(F));return Y([ft.lat+V.lat,ft.lng+V.lng])}var bb={__proto__:null,simplify:rm,pointToSegmentDistance:om,closestPointOnSegment:vb,clipSegment:lm,_getEdgeIntersection:ka,_getBitCode:Hi,_sqClosestPointOnSegment:Or,isFlat:Ct,_flat:cm,polylineCenter:um},Iu={project:function(r){return new z(r.lng,r.lat)},unproject:function(r){return new se(r.y,r.x)},bounds:new K([-180,-90],[180,90])},Lu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,h=this.R,p=r.lat*l,v=this.R_MINOR/h,S=Math.sqrt(1-v*v),C=S*Math.sin(p),M=Math.tan(Math.PI/4-p/2)/Math.pow((1-C)/(1+C),S/2);return p=-h*Math.log(Math.max(M,1e-10)),new z(r.lng*l*h,p)},unproject:function(r){for(var l=180/Math.PI,h=this.R,p=this.R_MINOR/h,v=Math.sqrt(1-p*p),S=Math.exp(-r.y/h),C=Math.PI/2-2*Math.atan(S),M=0,j=.1,F;M<15&&Math.abs(j)>1e-7;M++)F=v*Math.sin(C),F=Math.pow((1-F)/(1+F),v/2),j=Math.PI/2-2*Math.atan(S*F)-C,C+=j;return new se(C*l,r.x*l/h)}},kb={__proto__:null,LonLat:Iu,Mercator:Lu,SphericalMercator:iu},Sb=s({},Kn,{code:"EPSG:3395",projection:Lu,transformation:function(){var r=.5/(Math.PI*Lu.R);return Sr(r,.5,-r,.5)}()}),hm=s({},Kn,{code:"EPSG:4326",projection:Iu,transformation:Sr(1/180,1,-1/180,.5)}),Pb=s({},dt,{projection:Iu,transformation:Sr(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var h=l.lng-r.lng,p=l.lat-r.lat;return Math.sqrt(h*h+p*p)},infinite:!0});dt.Earth=Kn,dt.EPSG3395=Sb,dt.EPSG3857=ru,dt.EPSG900913=L1,dt.EPSG4326=hm,dt.Simple=Pb;var Wt=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[u(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[u(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});he.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=u(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return u(r)in this._layers},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},_addLayers:function(r){r=r?T(r)?r:[r]:[];for(var l=0,h=r.length;l<h;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[u(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=u(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;r=v.minZoom===void 0?r:Math.min(r,v.minZoom),l=v.maxZoom===void 0?l:Math.max(l,v.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ps=Wt.extend({initialize:function(r,l){w(this,l),this._layers={};var h,p;if(r)for(h=0,p=r.length;h<p;h++)this.addLayer(r[h])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[r]&&p[r].apply(p,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return u(r)}}),Tb=function(r,l){return new Ps(r,l)},wn=Ps.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ps.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ps.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Se;for(var l in this._layers){var h=this._layers[l];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),Eb=function(r,l){return new wn(r,l)},Ts=ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){w(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(r,l){var h=this.options,p=h[l+"Size"];typeof p=="number"&&(p=[p,p]);var v=U(p),S=U(l==="shadow"&&h.shadowAnchor||h.iconAnchor||v&&v.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(h.className||""),S&&(r.style.marginLeft=-S.x+"px",r.style.marginTop=-S.y+"px"),v&&(r.style.width=v.x+"px",r.style.height=v.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return q.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Cb(r){return new Ts(r)}var Ar=Ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ar.imagePath!="string"&&(Ar.imagePath=this._detectIconPath()),(this.options.imagePath||Ar.imagePath)+Ts.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(h,p,v){var S=p.exec(h);return S&&S[v]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=pe("div","leaflet-default-icon-path",document.body),l=Er(r,"background-image")||Er(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),dm=an.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Yn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,h=l._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=Fi(l._icon),C=h.getPixelBounds(),M=h.getPixelOrigin(),j=te(C.min._subtract(M).add(v),C.max._subtract(M).subtract(v));if(!j.contains(S)){var F=U((Math.max(j.max.x,S.x)-j.max.x)/(C.max.x-j.max.x)-(Math.min(j.min.x,S.x)-j.min.x)/(C.min.x-j.min.x),(Math.max(j.max.y,S.y)-j.max.y)/(C.max.y-j.max.y)-(Math.min(j.min.y,S.y)-j.min.y)/(C.min.y-j.min.y)).multiplyBy(p);h.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),ze(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=W(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,h=l._shadow,p=Fi(l._icon),v=l._map.layerPointToLatLng(p);h&&ze(h,p),l._latlng=v,r.latlng=v,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Sa=Wt.extend({options:{icon:new Ar,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){w(this,l),this._latlng=Y(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=Y(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),ne(h,l),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(h,"focus",this._panOnFocus,this);var v=r.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(ne(v,l),v.alt=""),this._shadow=v,r.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ze(this._icon,r),this._shadow&&ze(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dm)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dm(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Et(this._icon,r),this._shadow&&Et(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,h=l.iconSize?U(l.iconSize):U(0,0),p=l.iconAnchor?U(l.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nb(r,l){return new Sa(r,l)}var Xn=Wt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return w(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pa=Xn.extend({options:{fill:!0,radius:10},initialize:function(r,l){w(this,l),this._latlng=Y(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=Y(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Xn.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,h=this._clickTolerance(),p=[r+h,l+h];this._pxBounds=new K(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ib(r,l){return new Pa(r,l)}var Mu=Pa.extend({initialize:function(r,l,h){if(typeof l=="number"&&(l=s({},h,{radius:l})),w(this,l),this._latlng=Y(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Xn.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Kn.distance){var v=Math.PI/180,S=this._mRadius/Kn.R/v,C=h.project([l+S,r]),M=h.project([l-S,r]),j=C.add(M).divideBy(2),F=h.unproject(j).lat,V=Math.acos((Math.cos(S*v)-Math.sin(l*v)*Math.sin(F*v))/(Math.cos(l*v)*Math.cos(F*v)))/v;(isNaN(V)||V===0)&&(V=S/Math.cos(Math.PI/180*l)),this._point=j.subtract(h.getPixelOrigin()),this._radius=isNaN(V)?0:j.x-h.project([F,r-V]).x,this._radiusY=j.y-C.y}else{var X=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(X).x}this._updateBounds()}});function Lb(r,l,h){return new Mu(r,l,h)}var bn=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){w(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,h=null,p=Or,v,S,C=0,M=this._parts.length;C<M;C++)for(var j=this._parts[C],F=1,V=j.length;F<V;F++){v=j[F-1],S=j[F];var X=p(r,v,S,!0);X<l&&(l=X,h=p(r,v,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return um(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=Y(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Se,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ct(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],h=Ct(r),p=0,v=r.length;p<v;p++)h?(l[p]=Y(r[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(r[p]);return l},_project:function(){var r=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new z(r,r);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,h){var p=r[0]instanceof se,v=r.length,S,C;if(p){for(C=[],S=0;S<v;S++)C[S]=this._map.latLngToLayerPoint(r[S]),h.extend(C[S]);l.push(C)}else for(S=0;S<v;S++)this._projectLatlngs(r[S],l,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,p,v,S,C,M,j;for(h=0,v=0,S=this._rings.length;h<S;h++)for(j=this._rings[h],p=0,C=j.length;p<C-1;p++)M=lm(j[p],j[p+1],r,p,!0),M&&(l[v]=l[v]||[],l[v].push(M[0]),(M[1]!==j[p+1]||p===C-2)&&(l[v].push(M[1]),v++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,h=0,p=r.length;h<p;h++)r[h]=rm(r[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var h,p,v,S,C,M,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,S=this._parts.length;h<S;h++)for(M=this._parts[h],p=0,C=M.length,v=C-1;p<C;v=p++)if(!(!l&&p===0)&&om(r,M[v],M[p])<=j)return!0;return!1}});function Mb(r,l){return new bn(r,l)}bn._flat=cm;var Es=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=bn.prototype._convertLatLngs.call(this,r),h=l.length;return h>=2&&l[0]instanceof se&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(r){bn.prototype._setLatLngs.call(this,r),Ct(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ct(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,h=new z(l,l);if(r=new K(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,S;p<v;p++)S=im(this._rings[p],r,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,h,p,v,S,C,M,j,F;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(S=0,j=this._parts.length;S<j;S++)for(h=this._parts[S],C=0,F=h.length,M=F-1;C<F;M=C++)p=h[C],v=h[M],p.y>r.y!=v.y>r.y&&r.x<(v.x-p.x)*(r.y-p.y)/(v.y-p.y)+p.x&&(l=!l);return l||bn.prototype._containsPoint.call(this,r,!0)}});function Ob(r,l){return new Es(r,l)}var kn=wn.extend({initialize:function(r,l){w(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=T(r)?r:r.features,h,p,v;if(l){for(h=0,p=l.length;h<p;h++)v=l[h],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(r))return this;var C=Ta(r,S);return C?(C.feature=Na(r),C.defaultOptions=C.options,this.resetStyle(C),S.onEachFeature&&S.onEachFeature(r,C),this.addLayer(C)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function Ta(r,l){var h=r.type==="Feature"?r.geometry:r,p=h?h.coordinates:null,v=[],S=l&&l.pointToLayer,C=l&&l.coordsToLatLng||Ou,M,j,F,V;if(!p&&!h)return null;switch(h.type){case"Point":return M=C(p),fm(S,r,M,l);case"MultiPoint":for(F=0,V=p.length;F<V;F++)M=C(p[F]),v.push(fm(S,r,M,l));return new wn(v);case"LineString":case"MultiLineString":return j=Ea(p,h.type==="LineString"?0:1,C),new bn(j,l);case"Polygon":case"MultiPolygon":return j=Ea(p,h.type==="Polygon"?1:2,C),new Es(j,l);case"GeometryCollection":for(F=0,V=h.geometries.length;F<V;F++){var X=Ta({geometry:h.geometries[F],type:"Feature",properties:r.properties},l);X&&v.push(X)}return new wn(v);case"FeatureCollection":for(F=0,V=h.features.length;F<V;F++){var re=Ta(h.features[F],l);re&&v.push(re)}return new wn(v);default:throw new Error("Invalid GeoJSON object.")}}function fm(r,l,h,p){return r?r(l,h):new Sa(h,p&&p.markersInheritOptions&&p)}function Ou(r){return new se(r[1],r[0],r[2])}function Ea(r,l,h){for(var p=[],v=0,S=r.length,C;v<S;v++)C=l?Ea(r[v],l-1,h):(h||Ou)(r[v]),p.push(C);return p}function Au(r,l){return r=Y(r),r.alt!==void 0?[_(r.lng,l),_(r.lat,l),_(r.alt,l)]:[_(r.lng,l),_(r.lat,l)]}function Ca(r,l,h,p){for(var v=[],S=0,C=r.length;S<C;S++)v.push(l?Ca(r[S],Ct(r[S])?0:l-1,h,p):Au(r[S],p));return!l&&h&&v.length>0&&v.push(v[0].slice()),v}function Cs(r,l){return r.feature?s({},r.feature,{geometry:l}):Na(l)}function Na(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Ru={toGeoJSON:function(r){return Cs(this,{type:"Point",coordinates:Au(this.getLatLng(),r)})}};Sa.include(Ru),Mu.include(Ru),Pa.include(Ru),bn.include({toGeoJSON:function(r){var l=!Ct(this._latlngs),h=Ca(this._latlngs,l?1:0,!1,r);return Cs(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Es.include({toGeoJSON:function(r){var l=!Ct(this._latlngs),h=l&&!Ct(this._latlngs[0]),p=Ca(this._latlngs,h?2:l?1:0,!0,r);return l||(p=[p]),Cs(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),Ps.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(r).geometry.coordinates)}),Cs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var h=l==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(r);if(h)p.push(S.geometry);else{var C=Na(S);C.type==="FeatureCollection"?p.push.apply(p,C.features):p.push(C)}}}),h?Cs(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function pm(r,l){return new kn(r,l)}var Ab=pm,Ia=Wt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,h){this._url=r,this._bounds=le(l),w(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&ks(this._image),this},bringToBack:function(){return this._map&&Ss(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=le(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:pe("img");if(ne(l,"leaflet-image-layer"),this._zoomAnimated&&ne(l,"leaflet-zoom-animated"),this.options.className&&ne(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;zi(this._image,h,l)},_reset:function(){var r=this._image,l=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();ze(r,l.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Rb=function(r,l,h){return new Ia(r,l,h)},mm=Ia.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:pe("video");if(ne(l,"leaflet-image-layer"),this._zoomAnimated&&ne(l,"leaflet-zoom-animated"),this.options.className&&ne(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),r){for(var h=l.getElementsByTagName("source"),p=[],v=0;v<h.length;v++)p.push(h[v].src);this._url=h.length>0?p:[l.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var C=pe("source");C.src=this._url[S],l.appendChild(C)}}});function jb(r,l,h){return new mm(r,l,h)}var gm=Ia.extend({_initImage:function(){var r=this._image=this._url;ne(r,"leaflet-image-layer"),this._zoomAnimated&&ne(r,"leaflet-zoom-animated"),this.options.className&&ne(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function Db(r,l,h){return new gm(r,l,h)}var ln=Wt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof se||T(r))?(this._latlng=Y(r),w(this,l)):(w(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(a(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Y(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ks(this._container),this},bringToBack:function(){return this._map&&Ss(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof wn){l=null;var h=this._source._layers;for(var p in h)if(h[p]._map){l=h[p];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=U(this.options.offset),h=this._getAnchor();this._zoomAnimated?ze(this._container,r.add(h)):l=l.add(r).add(h);var p=this._containerBottom=-l.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});he.include({_initOverlay:function(r,l,h,p){var v=l;return v instanceof r||(v=new r(p).setContent(l)),h&&v.setLatLng(h),v}}),Wt.include({_initOverlay:function(r,l,h,p){var v=h;return v instanceof r?(w(v,p),v._source=this):(v=l&&!p?l:new r(p,this),v.setContent(h)),v}});var La=ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,ln.prototype.openOn.call(this,r)},onAdd:function(r){ln.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Bi))},onRemove:function(r){ln.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Bi))},getEvents:function(){var r=ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=pe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=pe("div",r+"-content-wrapper",l);if(this._contentNode=pe("div",r+"-content",h),Lr(l),Su(this._contentNode),ee(l,"contextmenu",Bi),this._tipContainer=pe("div",r+"-tip-container",l),this._tip=pe("div",r+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=pe("a",r+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ee(p,"click",function(v){Ke(v),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var p=r.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&p>v?(l.height=v+"px",ne(r,S)):Re(r,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();ze(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Er(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,p=this._containerWidth,v=new z(this._containerLeft,-h-this._containerBottom);v._add(Fi(this._container));var S=r.layerPointToContainerPoint(v),C=U(this.options.autoPanPadding),M=U(this.options.autoPanPaddingTopLeft||C),j=U(this.options.autoPanPaddingBottomRight||C),F=r.getSize(),V=0,X=0;S.x+p+j.x>F.x&&(V=S.x+p-F.x+j.x),S.x-V-M.x<0&&(V=S.x-M.x),S.y+h+j.y>F.y&&(X=S.y+h-F.y+j.y),S.y-X-M.y<0&&(X=S.y-M.y),(V||X)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([V,X]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zb=function(r,l){return new La(r,l)};he.mergeOptions({closePopupOnClick:!0}),he.include({openPopup:function(r,l,h){return this._initOverlay(La,r,l,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Wt.include({bindPopup:function(r,l){return this._popup=this._initOverlay(La,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Ui(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ma=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){ln.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){ln.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=ln.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,h,p=this._map,v=this._container,S=p.latLngToContainerPoint(p.getCenter()),C=p.layerPointToContainerPoint(r),M=this.options.direction,j=v.offsetWidth,F=v.offsetHeight,V=U(this.options.offset),X=this._getAnchor();M==="top"?(l=j/2,h=F):M==="bottom"?(l=j/2,h=0):M==="center"?(l=j/2,h=F/2):M==="right"?(l=0,h=F/2):M==="left"?(l=j,h=F/2):C.x<S.x?(M="right",l=0,h=F/2):(M="left",l=j+(V.x+X.x)*2,h=F/2),r=r.subtract(U(l,h,!0)).add(V).add(X),Re(v,"leaflet-tooltip-right"),Re(v,"leaflet-tooltip-left"),Re(v,"leaflet-tooltip-top"),Re(v,"leaflet-tooltip-bottom"),ne(v,"leaflet-tooltip-"+M),ze(v,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Et(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fb=function(r,l){return new Ma(r,l)};he.include({openTooltip:function(r,l,h){return this._initOverlay(Ma,r,l,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Wt.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ma,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(ee(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ee(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,h,p;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),p=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var _m=Ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(va(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=U(h.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Bb(r){return new _m(r)}Ts.Default=Ar;var Rr=Wt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){w(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ne(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ks(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ss(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof z?r:new z(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,h=-r(-1/0,1/0),p=0,v=l.length,S;p<v;p++)S=l[p].style.zIndex,l[p]!==this._container&&S&&(h=r(h,+S));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!q.ielt9){Et(this._container,this.options.opacity);var r=+new Date,l=!1,h=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var S=Math.min(1,(r-v.loaded)/200);Et(v.el,S),S<1?l=!0:(v.active?h=!0:this._onOpaqueTile(v),v.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=l-Math.abs(r-h),this._onUpdateLevel(h)):(Ne(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[r],v=this._map;return p||(p=this._levels[r]={},p.el=pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=v.project(v.unproject(v.getPixelOrigin()),r).round(),p.zoom=r,this._setZoomTransform(p,v.getCenter(),v.getZoom()),g(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ne(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,h,p){var v=Math.floor(r/2),S=Math.floor(l/2),C=h-1,M=new z(+v,+S);M.z=+C;var j=this._tileCoordsToKey(M),F=this._tiles[j];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),C>p?this._retainParent(v,S,C,p):!1)},_retainChildren:function(r,l,h,p){for(var v=2*r;v<2*r+2;v++)for(var S=2*l;S<2*l+2;S++){var C=new z(v,S);C.z=h+1;var M=this._tileCoordsToKey(C),j=this._tiles[M];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);h+1<p&&this._retainChildren(v,S,h+1,p)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,h,p){var v=Math.round(l);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,l)},_setZoomTransform:function(r,l,h){var p=this._map.getZoomScale(h,r.zoom),v=r.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,h)).round();q.any3d?zi(r.el,v,p):ze(r.el,v)},_resetGrid:function(){var r=this._map,l=r.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],p).x/h.x),Math.ceil(r.project([0,l.wrapLng[1]],p).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],p).y/h.x),Math.ceil(r.project([l.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(h,this._tileZoom),v=l.project(r,this._tileZoom).floor(),S=l.getSize().divideBy(p*2);return new K(v.subtract(S),v.add(S))},_update:function(r){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(r),v=this._pxBoundsToTileRange(p),S=v.getCenter(),C=[],M=this.options.keepBuffer,j=new K(v.getBottomLeft().subtract([M,-M]),v.getTopRight().add([M,-M]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var V=this._tiles[F].coords;(V.z!==this._tileZoom||!j.contains(new z(V.x,V.y)))&&(this._tiles[F].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var X=v.min.y;X<=v.max.y;X++)for(var re=v.min.x;re<=v.max.x;re++){var ot=new z(re,X);if(ot.z=this._tileZoom,!!this._isValidTile(ot)){var $e=this._tiles[this._tileCoordsToKey(ot)];$e?$e.current=!0:C.push(ot)}}if(C.sort(function(ft,Is){return ft.distanceTo(S)-Is.distanceTo(S)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nt=document.createDocumentFragment();for(re=0;re<C.length;re++)this._addTile(C[re],Nt);this._level.el.appendChild(Nt)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!l.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(r);return le(this.options.bounds).overlaps(p)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,h=this.getTileSize(),p=r.scaleBy(h),v=p.add(h),S=l.unproject(p,r.z),C=l.unproject(v,r.z);return[S,C]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),h=new Se(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),h=new z(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(r){var l=this._tiles[r];l&&(Ne(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){ne(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=g,r.onmousemove=g,q.ielt9&&this.options.opacity<1&&Et(r,this.options.opacity)},_addTile:function(r,l){var h=this._getTilePos(r),p=this._tileCoordsToKey(r),v=this.createTile(this._wrapCoords(r),a(this._tileReady,this,r));this._initTile(v),this.createTile.length<2&&W(a(this._tileReady,this,r,null,v)),ze(v,h),this._tiles[p]={el:v,coords:r,current:!0},l.appendChild(v),this.fire("tileloadstart",{tile:v,coords:r})},_tileReady:function(r,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:r});var p=this._tileCoordsToKey(r);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Et(h.el,0),Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(ne(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),q.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new z(this._wrapX?m(r.x,this._wrapX):r.x,this._wrapY?m(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new K(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Ub(r){return new Rr(r)}var Ns=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=w(this,l),l.detectRetina&&q.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var h=document.createElement("img");return ee(h,"load",a(this._tileOnLoad,this,l,h)),ee(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var l={r:q.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=h),l["-y"]=h}return P(this._url,s(l,this.options))},_tileOnLoad:function(r,l){q.ielt9?setTimeout(a(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,h){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),r(h,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(r=l-r),r+p},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=g,l.onerror=g,!l.complete)){l.src=I;var h=this._tiles[r].coords;Ne(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",I),Rr.prototype._removeTile.call(this,r)},_tileReady:function(r,l,h){if(!(!this._map||h&&h.getAttribute("src")===I))return Rr.prototype._tileReady.call(this,r,l,h)}});function vm(r,l){return new Ns(r,l)}var ym=Ns.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var h=s({},this.defaultWmsParams);for(var p in l)p in this.options||(h[p]=l[p]);l=w(this,l);var v=l.detectRetina&&q.retina?2:1,S=this.getTileSize();h.width=S.x*v,h.height=S.y*v,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ns.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),h=this._crs,p=te(h.project(l[0]),h.project(l[1])),v=p.min,S=p.max,C=(this._wmsVersion>=1.3&&this._crs===hm?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),M=Ns.prototype.getTileUrl.call(this,r);return M+k(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(r,l){return s(this.wmsParams,r),l||this.redraw(),this}});function Hb(r,l){return new ym(r,l)}Ns.WMS=ym,vm.wms=Hb;var Sn=Wt.extend({options:{padding:.1},initialize:function(r){w(this,r),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var h=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l),S=p.multiplyBy(-h).add(v).subtract(this._map._getNewPixelOrigin(r,l));q.any3d?zi(this._container,S,h):ze(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new K(h,h.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xm=Sn.extend({options:{tolerance:0},getEvents:function(){var r=Sn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ee(r,"mousemove",this._onMouseMove,this),ee(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Ne(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var r=this._bounds,l=this._container,h=r.getSize(),p=q.retina?2:1;ze(l,r.min),l.width=p*h.x,l.height=p*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",q.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[u(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,h=l.next,p=l.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete r._order,delete this._layers[u(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),h=[],p,v;for(v=0;v<l.length;v++){if(p=Number(l[v]),isNaN(p))return;h.push(p)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)r=p.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var h,p,v,S,C=r._parts,M=C.length,j=this._ctx;if(M){for(j.beginPath(),h=0;h<M;h++){for(p=0,v=C[h].length;p<v;p++)S=C[h][p],j[p?"lineTo":"moveTo"](S.x,S.y);l&&j.closePath()}this._fillStroke(j,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,h=this._ctx,p=Math.max(Math.round(r._radius),1),v=(Math.max(Math.round(r._radiusY),1)||p)/p;v!==1&&(h.save(),h.scale(1,v)),h.beginPath(),h.arc(l.x,l.y/v,p,0,Math.PI*2,!1),v!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,l){var h=l.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Re(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var h,p,v=this._drawFirst;v;v=v.next)h=v.layer,h.options.interactive&&h._containsPoint(l)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(r),p&&(ne(this._container,"leaflet-interactive"),this._fireEvent([p],r,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,h){this._map._fireDOMEvent(l,h||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var h=l.next,p=l.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var h=l.next,p=l.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function wm(r){return q.canvas?new xm(r):null}var jr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wb={_initContainer:function(){this._container=pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=jr("shape");ne(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=jr("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Ne(l),r.removeInteractiveTarget(l),delete this._layers[u(r)]},_updateStyle:function(r){var l=r._stroke,h=r._fill,p=r.options,v=r._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(l||(l=r._stroke=jr("stroke")),v.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=T(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(v.removeChild(l),r._stroke=null),p.fill?(h||(h=r._fill=jr("fill")),v.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(v.removeChild(h),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),h=Math.round(r._radius),p=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){ks(r._container)},_bringToBack:function(r){Ss(r._container)}},Oa=q.vml?jr:Pp,Dr=Sn.extend({_initContainer:function(){this._container=Oa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Oa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var r=this._bounds,l=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),ze(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Oa("path");r.options.className&&ne(l,r.options.className),r.options.interactive&&ne(l,"leaflet-interactive"),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ne(r._path),r.removeInteractiveTarget(r._path),delete this._layers[u(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,h=r.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Tp(r._parts,l))},_updateCircle:function(r){var l=r._point,h=Math.max(Math.round(r._radius),1),p=Math.max(Math.round(r._radiusY),1)||h,v="a"+h+","+p+" 0 1,0 ",S=r._empty()?"M0 0":"M"+(l.x-h)+","+l.y+v+h*2+",0 "+v+-h*2+",0 ";this._setPath(r,S)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){ks(r._path)},_bringToBack:function(r){Ss(r._path)}});q.vml&&Dr.include(Wb);function bm(r){return q.svg||q.vml?new Dr(r):null}he.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&wm(r)||bm(r)}});var km=Es.extend({initialize:function(r,l){Es.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=le(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Vb(r,l){return new km(r,l)}Dr.create=Oa,Dr.pointsToPath=Tp,kn.geometryToLayer=Ta,kn.coordsToLatLng=Ou,kn.coordsToLatLngs=Ea,kn.latLngToCoords=Au,kn.latLngsToCoords=Ca,kn.getFeature=Cs,kn.asFeature=Na,he.mergeOptions({boxZoom:!0});var Sm=an.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cr(),gu(),this._startPoint=this._map.mouseEventToContainerPoint(r),ee(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=pe("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new K(this._point,this._startPoint),h=l.getSize();ze(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ne(this._box),Re(this._container,"leaflet-crosshair")),Nr(),_u(),xe(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});he.addInitHook("addHandler","boxZoom",Sm),he.mergeOptions({doubleClickZoom:!0});var Pm=an.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,h=l.getZoom(),p=l.options.zoomDelta,v=r.originalEvent.shiftKey?h-p:h+p;l.options.doubleClickZoom==="center"?l.setZoom(v):l.setZoomAround(r.containerPoint,v)}});he.addInitHook("addHandler","doubleClickZoom",Pm),he.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tm=an.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Yn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Re(this._map._container,"leaflet-grab"),Re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=le(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-l+h)%r+l-h,S=(p+l+h)%r-l-h,C=Math.abs(v+h)<Math.abs(S+h)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(r){var l=this._map,h=l.options,p=!h.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),p)l.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,C=h.easeLinearity,M=v.multiplyBy(C/S),j=M.distanceTo([0,0]),F=Math.min(h.inertiaMaxSpeed,j),V=M.multiplyBy(F/j),X=F/(h.inertiaDeceleration*C),re=V.multiplyBy(-X/2).round();!re.x&&!re.y?l.fire("moveend"):(re=l._limitOffset(re,l.options.maxBounds),W(function(){l.panBy(re,{duration:X,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});he.addInitHook("addHandler","dragging",Tm),he.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Em=an.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ee(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,h=r.scrollTop||l.scrollTop,p=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},h=this.keyCodes,p,v;for(p=0,v=h.left.length;p<v;p++)l[h.left[p]]=[-1*r,0];for(p=0,v=h.right.length;p<v;p++)l[h.right[p]]=[r,0];for(p=0,v=h.down.length;p<v;p++)l[h.down[p]]=[0,r];for(p=0,v=h.up.length;p<v;p++)l[h.up[p]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},h=this.keyCodes,p,v;for(p=0,v=h.zoomIn.length;p<v;p++)l[h.zoomIn[p]]=r;for(p=0,v=h.zoomOut.length;p<v;p++)l[h.zoomOut[p]]=-r},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,h=this._map,p;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[l],r.shiftKey&&(p=U(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(U(p),h.options.maxBounds)),h.options.worldCopyJump){var v=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(v)}else h.panBy(p)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Ui(r)}}});he.addInitHook("addHandler","keyboard",Em),he.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cm=an.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=Jp(r),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),Ui(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,S=h?Math.ceil(v/h)*h:v,C=r._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,C&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+C):r.setZoomAround(this._lastMousePos,l+C))}});he.addInitHook("addHandler","scrollWheelZoom",Cm);var $b=600;he.mergeOptions({tapHold:q.touchNative&&q.safari&&q.mobile,tapTolerance:15});var Nm=an.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new z(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Ke),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),$b),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){xe(document,"touchend",Ke),xe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new z(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});he.addInitHook("addHandler","tapHold",Nm),he.mergeOptions({touchZoom:q.touch,bounceAtZoomLimits:!0});var Im=an.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(r.touches[0]),p=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Ke(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(r.touches[0]),p=l.mouseEventToContainerPoint(r.touches[1]),v=h.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(v,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&v<1||this._zoom>l.getMaxZoom()&&v>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var C=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(C,this,!0),Ke(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});he.addInitHook("addHandler","touchZoom",Im),he.BoxZoom=Sm,he.DoubleClickZoom=Pm,he.Drag=Tm,he.Keyboard=Em,he.ScrollWheelZoom=Cm,he.TapHold=Nm,he.TouchZoom=Im,n.Bounds=K,n.Browser=q,n.CRS=dt,n.Canvas=xm,n.Circle=Mu,n.CircleMarker=Pa,n.Class=ke,n.Control=Ht,n.DivIcon=_m,n.DivOverlay=ln,n.DomEvent=cb,n.DomUtil=ab,n.Draggable=Yn,n.Evented=ce,n.FeatureGroup=wn,n.GeoJSON=kn,n.GridLayer=Rr,n.Handler=an,n.Icon=Ts,n.ImageOverlay=Ia,n.LatLng=se,n.LatLngBounds=Se,n.Layer=Wt,n.LayerGroup=Ps,n.LineUtil=bb,n.Map=he,n.Marker=Sa,n.Mixin=gb,n.Path=Xn,n.Point=z,n.PolyUtil=_b,n.Polygon=Es,n.Polyline=bn,n.Popup=La,n.PosAnimation=Qp,n.Projection=kb,n.Rectangle=km,n.Renderer=Sn,n.SVG=Dr,n.SVGOverlay=gm,n.TileLayer=Ns,n.Tooltip=Ma,n.Transformation=su,n.Util=ve,n.VideoOverlay=mm,n.bind=a,n.bounds=te,n.canvas=wm,n.circle=Lb,n.circleMarker=Ib,n.control=Mr,n.divIcon=Bb,n.extend=s,n.featureGroup=Eb,n.geoJSON=pm,n.geoJson=Ab,n.gridLayer=Ub,n.icon=Cb,n.imageOverlay=Rb,n.latLng=Y,n.latLngBounds=le,n.layerGroup=Tb,n.map=ub,n.marker=Nb,n.point=U,n.polygon=Ob,n.polyline=Mb,n.popup=zb,n.rectangle=Vb,n.setOptions=w,n.stamp=u,n.svg=bm,n.svgOverlay=Db,n.tileLayer=vm,n.tooltip=Fb,n.transformation=Sr,n.version=i,n.videoOverlay=jb;var Zb=window.L;n.noConflict=function(){return window.L=Zb,this},window.L=n})})(Rd,Rd.exports);var GI=Rd.exports;const Lt=Gd(GI),qI=({route:t,interactive:e=!1})=>{const n=O.useRef(null),i=O.useRef(null);return O.useEffect(()=>{if(!n.current)return;const s=Lt.map(n.current,{attributionControl:e,zoomControl:e,dragging:e,scrollWheelZoom:e,doubleClickZoom:e,boxZoom:e,keyboard:e,touchZoom:e});Lt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:e?'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors':"",maxZoom:e?19:17}).addTo(s),t.segments.forEach(a=>{const c=a.points.map(u=>[u.position.lat,u.position.lon]);Lt.polyline(c,{color:"#0F7BFF",weight:e?4:3,opacity:.8}).addTo(s)});const o=Lt.latLngBounds([t.bounds.minLat,t.bounds.minLon],[t.bounds.maxLat,t.bounds.maxLon]);return s.fitBounds(o,{padding:[10,10]}),i.current=s,()=>{i.current&&(i.current.remove(),i.current=null)}},[t,e]),O.useEffect(()=>{const s=()=>{i.current&&i.current.invalidateSize()};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),f.jsx("div",{ref:n,className:"w-full h-full",style:{backgroundColor:"#f2f4f8"}})},KI=({route:t})=>f.jsxs("div",{className:"card overflow-hidden group hover:shadow-lg transition-all duration-300",children:[f.jsxs("div",{className:"h-36 w-full relative",children:[f.jsx(qI,{route:t}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),f.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-1.5 text-white",children:[f.jsx(Vf,{size:14}),f.jsx("span",{className:"text-sm font-medium",children:cp(new Date(t.date))})]})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"font-bold text-lg mb-1 truncate group-hover:text-primary transition-colors",children:t.name}),f.jsx("p",{className:"text-text-light text-sm mb-3 line-clamp-2 h-10",children:t.description||"No description provided"}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{className:"flex flex-col items-center text-center p-1",children:[f.jsx("div",{className:"flex items-center gap-1 text-text-light mb-1",children:f.jsx(P0,{size:14})}),f.jsxs("span",{className:"font-semibold text-sm",children:[t.totalElevationGain.toFixed(0),"m"]}),f.jsx("span",{className:"text-xs text-text-light",children:"Elevation"})]}),f.jsxs("div",{className:"flex flex-col items-center text-center p-1 border-x border-border",children:[f.jsx("div",{className:"flex items-center gap-1 text-text-light mb-1",children:f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M12 2L4 9H11L3 22H21L13 9H20L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})})}),f.jsx("span",{className:"font-semibold text-sm",children:fr(t.totalDistance)}),f.jsx("span",{className:"text-xs text-text-light",children:"Distance"})]}),f.jsxs("div",{className:"flex flex-col items-center text-center p-1",children:[f.jsx("div",{className:"flex items-center gap-1 text-text-light mb-1",children:f.jsx(L0,{size:14})}),f.jsx("span",{className:"font-semibold text-sm",children:vc(t.totalDuration).split(" ")[0]}),f.jsx("span",{className:"text-xs text-text-light",children:"Duration"})]})]})]})]}),YI=()=>f.jsx("div",{className:"h-[calc(100vh-12rem)] flex flex-col items-center justify-center p-4",children:f.jsxs("div",{className:"text-center max-w-md mx-auto",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:f.jsx(ai,{size:32,className:"text-primary"})}),f.jsx("h2",{className:"text-2xl font-bold mb-3",children:"No routes yet"}),f.jsx("p",{className:"text-text-light mb-8",children:"Upload your first GPX file to start tracking and visualizing your routes"}),f.jsxs(Be,{to:"/upload",className:"btn btn-primary flex items-center justify-center gap-2 w-full max-w-xs mx-auto",children:[f.jsx(ra,{size:18}),f.jsx("span",{children:"Upload GPX File"})]}),f.jsxs("div",{className:"mt-8 p-4 bg-background rounded-lg",children:[f.jsx("h3",{className:"font-semibold mb-2",children:"What is a GPX file?"}),f.jsx("p",{className:"text-text-light text-sm",children:"GPX (GPS Exchange Format) files contain GPS data such as waypoints, tracks, and routes. These are commonly exported from fitness apps, GPS devices, and mapping software."})]})]})}),XI=()=>{const{routes:t,groups:e,setGroups:n}=Jc(),[i,s]=O.useState(""),[o,a]=O.useState("date"),[c,u]=O.useState("desc"),[d,m]=O.useState("grid"),[g,_]=O.useState("all"),[y,x]=O.useState(!1),[w,k]=O.useState(""),[b,P]=O.useState("#0F7BFF");Qo.useEffect(()=>{localStorage.setItem("routeGroups",JSON.stringify(e))},[e]);const T=O.useMemo(()=>{let E=t;if(g!=="all"){const D=e.find(B=>B.id===g);D&&(E=E.filter(B=>D.routeIds.includes(B.id)))}if(i){const D=i.toLowerCase();E=E.filter(B=>B.name.toLowerCase().includes(D)||B.description.toLowerCase().includes(D))}return[...E].sort((D,B)=>{let W=0;switch(o){case"date":W=new Date(D.date).getTime()-new Date(B.date).getTime();break;case"distance":W=D.totalDistance-B.totalDistance;break;case"duration":W=D.totalDuration-B.totalDuration;break}return c==="asc"?W:-W})},[t,i,o,c,g,e]),N=O.useMemo(()=>t.reduce((E,D)=>(E.distance+=D.totalDistance,E.duration+=D.totalDuration,E.elevationGain+=D.totalElevationGain,E),{distance:0,duration:0,elevationGain:0}),[t]),I=E=>{o===E?u(c==="asc"?"desc":"asc"):(a(E),u("desc"))},A=()=>{if(w.trim()){const E={id:Date.now().toString(),name:w.trim(),color:b,routeIds:[]};n([...e,E]),k(""),P("#0F7BFF"),x(!1)}},R=["#0F7BFF","#F59E0B","#10B981","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6366F1"];return t.length===0?f.jsx(YI,{}):f.jsxs("div",{className:"fade-in",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Your Routes"}),f.jsx("p",{className:"text-text-light",children:"View and manage your GPS route activities"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"card p-4",children:[f.jsx("p",{className:"text-text-light text-sm mb-1",children:"Total Distance"}),f.jsx("p",{className:"text-2xl font-bold",children:fr(N.distance)})]}),f.jsxs("div",{className:"card p-4",children:[f.jsx("p",{className:"text-text-light text-sm mb-1",children:"Total Duration"}),f.jsx("p",{className:"text-2xl font-bold",children:vc(N.duration)})]}),f.jsxs("div",{className:"card p-4",children:[f.jsx("p",{className:"text-text-light text-sm mb-1",children:"Total Elevation Gain"}),f.jsxs("p",{className:"text-2xl font-bold",children:[N.elevationGain.toFixed(0),"m"]})]})]}),f.jsxs("div",{className:"card p-4 mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"font-semibold",children:"Route Groups"}),f.jsxs("button",{onClick:()=>x(!0),className:"btn btn-outline text-sm",children:[f.jsx(WT,{size:16,className:"mr-2"}),"New Group"]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("button",{onClick:()=>_("all"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g==="all"?"bg-primary text-white":"bg-background text-text-light hover:text-text"}`,children:["All Routes (",t.length,")"]}),e.map(E=>f.jsxs("button",{onClick:()=>_(E.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${g===E.id?"text-white":"bg-background text-text-light hover:text-text"}`,style:{backgroundColor:g===E.id?E.color:void 0},children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}}),E.name," (",E.routeIds.length,")"]},E.id))]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(JT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-light",size:18}),f.jsx("input",{type:"text",placeholder:"Search routes...",value:i,onChange:E=>s(E.target.value),className:"input-field pl-10"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"flex border border-border rounded-lg",children:[f.jsx("button",{className:`p-2 rounded-l-lg transition-colors ${d==="grid"?"bg-primary text-white":"hover:bg-background"}`,onClick:()=>m("grid"),children:f.jsx($T,{size:16})}),f.jsx("button",{className:`p-2 rounded-r-lg transition-colors ${d==="list"?"bg-primary text-white":"hover:bg-background"}`,onClick:()=>m("list"),children:f.jsx(ZT,{size:16})})]}),f.jsx("button",{className:`btn ${o==="date"?"btn-primary":"btn-outline"}`,onClick:()=>I("date"),children:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Vf,{size:16}),"Date ",o==="date"&&(c==="asc"?"↑":"↓")]})}),f.jsx("button",{className:`btn ${o==="distance"?"btn-primary":"btn-outline"}`,onClick:()=>I("distance"),children:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(HT,{size:16}),"Distance ",o==="distance"&&(c==="asc"?"↑":"↓")]})})]})]}),d==="grid"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(E=>f.jsx(Be,{to:`/routes/${E.id}`,children:f.jsx(KI,{route:E})},E.id))}):f.jsx("div",{className:"space-y-4",children:T.map(E=>f.jsx(Be,{to:`/routes/${E.id}`,children:f.jsx("div",{className:"card p-4 hover:shadow-lg transition-all duration-300 group",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-bold text-lg mb-1 group-hover:text-primary transition-colors",children:E.name}),f.jsx("p",{className:"text-text-light text-sm mb-2",children:cp(new Date(E.date))}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsx("span",{children:fr(E.totalDistance)}),f.jsx("span",{children:vc(E.totalDuration)}),f.jsxs("span",{children:[E.totalElevationGain.toFixed(0),"m elevation"]})]})]}),f.jsx(jT,{size:20,className:"text-text-light group-hover:text-primary transition-colors"})]})})},E.id))}),T.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(VT,{size:48,className:"mx-auto text-text-light mb-4"}),f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No routes found"}),f.jsx("p",{className:"text-text-light",children:g==="all"?"Try adjusting your search terms":"This group is empty. Add some routes to get started."})]}),y&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"card max-w-md w-full p-6 fade-in slide-up",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Create New Group"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Group Name"}),f.jsx("input",{type:"text",value:w,onChange:E=>k(E.target.value),placeholder:"e.g., Mountain Hikes",className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color"}),f.jsx("div",{className:"flex gap-2 flex-wrap",children:R.map(E=>f.jsx("button",{onClick:()=>P(E),className:`w-8 h-8 rounded-full border-2 transition-all ${b===E?"border-text scale-110":"border-border"}`,style:{backgroundColor:E}},E))})]})]}),f.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[f.jsx("button",{className:"btn text-text-light hover:bg-background",onClick:()=>x(!1),children:"Cancel"}),f.jsx("button",{className:"btn btn-primary",onClick:A,disabled:!w.trim(),children:"Create Group"})]})]})})]})},JI=({route:t,showMarkers:e=!0})=>{const n=O.useRef(null),i=O.useRef(null);return O.useEffect(()=>{if(!n.current)return;const s=Lt.map(n.current);if(Lt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(s),t.segments.forEach(a=>{const c=a.points.map(_=>[_.position.lat,_.position.lon]),u=a.points.map(_=>_.position.ele),d=Math.min(...u),g=Math.max(...u)-d;for(let _=1;_<c.length;_++){const y=a.points[_-1].position.ele,x=a.points[_].position.ele,w=(y+x)/2;let k=g?(w-d)/g:0;k=Math.max(0,Math.min(1,k));const b=Math.round(k*255),P=Math.round(Math.abs(k-.5)*255),T=Math.round((1-k)*255);Lt.polyline([c[_-1],c[_]],{color:`rgb(${b}, ${P}, ${T})`,weight:4,opacity:.8}).addTo(s)}}),e){const a=Lt.divIcon({html:'<div class="bg-green-500 w-4 h-4 rounded-full border-2 border-white"></div>',className:"custom-div-icon",iconSize:[10,10],iconAnchor:[5,5]}),c=Lt.divIcon({html:'<div class="bg-red-500 w-4 h-4 rounded-full border-2 border-white"></div>',className:"custom-div-icon",iconSize:[10,10],iconAnchor:[5,5]});Lt.marker([t.startPoint.lat,t.startPoint.lon],{icon:a}).addTo(s).bindTooltip("Start",{permanent:!1,direction:"right"}),Lt.marker([t.endPoint.lat,t.endPoint.lon],{icon:c}).addTo(s).bindTooltip("End",{permanent:!1,direction:"right"})}const o=Lt.latLngBounds([t.bounds.minLat,t.bounds.minLon],[t.bounds.maxLat,t.bounds.maxLon]);return s.fitBounds(o,{padding:[30,30]}),i.current=s,()=>{i.current&&(i.current.remove(),i.current=null)}},[t,e]),O.useEffect(()=>{const s=()=>{i.current&&i.current.invalidateSize()};window.addEventListener("resize",s);const o=setTimeout(()=>{s()},300);return()=>{window.removeEventListener("resize",s),clearTimeout(o)}},[]),f.jsx("div",{ref:n,className:"w-full h-full",style:{backgroundColor:"#f2f4f8"}})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fa(t){return t+.5|0}const pi=(t,e,n)=>Math.max(Math.min(t,n),e);function so(t){return pi(fa(t*2.55),0,255)}function Ei(t){return pi(fa(t*255),0,255)}function In(t){return pi(fa(t/2.55)/100,0,1)}function R_(t){return pi(fa(t*100),0,100)}const It={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jd=[..."0123456789ABCDEF"],QI=t=>jd[t&15],eL=t=>jd[(t&240)>>4]+jd[t&15],el=t=>(t&240)>>4===(t&15),tL=t=>el(t.r)&&el(t.g)&&el(t.b)&&el(t.a);function nL(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&It[t[1]]*17,g:255&It[t[2]]*17,b:255&It[t[3]]*17,a:e===5?It[t[4]]*17:255}:(e===7||e===9)&&(n={r:It[t[1]]<<4|It[t[2]],g:It[t[3]]<<4|It[t[4]],b:It[t[5]]<<4|It[t[6]],a:e===9?It[t[7]]<<4|It[t[8]]:255})),n}const iL=(t,e)=>t<255?e(t):"";function sL(t){var e=tL(t)?QI:eL;return t?"#"+e(t.r)+e(t.g)+e(t.b)+iL(t.a,e):void 0}const rL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rw(t,e,n){const i=e*Math.min(n,1-n),s=(o,a=(o+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function oL(t,e,n){const i=(s,o=(s+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function aL(t,e,n){const i=Rw(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function lL(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function up(t){const n=t.r/255,i=t.g/255,s=t.b/255,o=Math.max(n,i,s),a=Math.min(n,i,s),c=(o+a)/2;let u,d,m;return o!==a&&(m=o-a,d=c>.5?m/(2-o-a):m/(o+a),u=lL(n,i,s,m,o),u=u*60+.5),[u|0,d||0,c]}function hp(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ei)}function dp(t,e,n){return hp(Rw,t,e,n)}function cL(t,e,n){return hp(aL,t,e,n)}function uL(t,e,n){return hp(oL,t,e,n)}function jw(t){return(t%360+360)%360}function hL(t){const e=rL.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?so(+e[5]):Ei(+e[5]));const s=jw(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=cL(s,o,a):e[1]==="hsv"?i=uL(s,o,a):i=dp(s,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function dL(t,e){var n=up(t);n[0]=jw(n[0]+e),n=dp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function fL(t){if(!t)return;const e=up(t),n=e[0],i=R_(e[1]),s=R_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${In(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const j_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},D_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pL(){const t={},e=Object.keys(D_),n=Object.keys(j_);let i,s,o,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],s=0;s<n.length;s++)o=n[s],c=c.replace(o,j_[o]);o=parseInt(D_[a],16),t[c]=[o>>16&255,o>>8&255,o&255]}return t}let tl;function mL(t){tl||(tl=pL(),tl.transparent=[0,0,0,0]);const e=tl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const gL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _L(t){const e=gL.exec(t);let n=255,i,s,o;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?so(a):pi(a*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?so(i):pi(i,0,255)),s=255&(e[4]?so(s):pi(s,0,255)),o=255&(e[6]?so(o):pi(o,0,255)),{r:i,g:s,b:o,a:n}}}function vL(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${In(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const xh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Os=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function yL(t,e,n){const i=Os(In(t.r)),s=Os(In(t.g)),o=Os(In(t.b));return{r:Ei(xh(i+n*(Os(In(e.r))-i))),g:Ei(xh(s+n*(Os(In(e.g))-s))),b:Ei(xh(o+n*(Os(In(e.b))-o))),a:t.a+n*(e.a-t.a)}}function nl(t,e,n){if(t){let i=up(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=dp(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Dw(t,e){return t&&Object.assign(e||{},t)}function z_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ei(t[3]))):(e=Dw(t,{r:0,g:0,b:0,a:1}),e.a=Ei(e.a)),e}function xL(t){return t.charAt(0)==="r"?_L(t):hL(t)}class Zo{constructor(e){if(e instanceof Zo)return e;const n=typeof e;let i;n==="object"?i=z_(e):n==="string"&&(i=nL(e)||mL(e)||xL(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Dw(this._rgb);return e&&(e.a=In(e.a)),e}set rgb(e){this._rgb=z_(e)}rgbString(){return this._valid?vL(this._rgb):void 0}hexString(){return this._valid?sL(this._rgb):void 0}hslString(){return this._valid?fL(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let o;const a=n===o?.5:n,c=2*a-1,u=i.a-s.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=yL(this._rgb,e._rgb,n)),this}clone(){return new Zo(this.rgb)}alpha(e){return this._rgb.a=Ei(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=fa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return nl(this._rgb,2,e),this}darken(e){return nl(this._rgb,2,-e),this}saturate(e){return nl(this._rgb,1,e),this}desaturate(e){return nl(this._rgb,1,-e),this}rotate(e){return dL(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pn(){}const wL=(()=>{let t=0;return()=>t++})();function be(t){return t==null}function We(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function de(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function un(t,e){return rt(t)?t:e}function ue(t,e){return typeof t>"u"?e:t}const bL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function me(t,e,n,i){let s,o,a;if(We(t))for(o=t.length,s=0;s<o;s++)e.call(n,t[s],s);else if(de(t))for(a=Object.keys(t),o=a.length,s=0;s<o;s++)e.call(n,t[a[s]],a[s])}function yc(t,e){let n,i,s,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],o=e[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function xc(t){if(We(t))return t.map(xc);if(de(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=xc(t[n[s]]);return e}return t}function zw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kL(t,e,n,i){if(!zw(t))return;const s=e[t],o=n[t];de(s)&&de(o)?Go(s,o,i):e[t]=xc(o)}function Go(t,e,n){const i=We(e)?e:[e],s=i.length;if(!de(t))return t;n=n||{};const o=n.merger||kL;let a;for(let c=0;c<s;++c){if(a=i[c],!de(a))continue;const u=Object.keys(a);for(let d=0,m=u.length;d<m;++d)o(u[d],t,a,n)}return t}function vo(t,e){return Go(t,e,{merger:SL})}function SL(t,e,n){if(!zw(t))return;const i=e[t],s=n[t];de(i)&&de(s)?vo(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xc(s))}const F_={"":t=>t,x:t=>t.x,y:t=>t.y};function PL(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function TL(t){const e=PL(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function wc(t,e){return(F_[e]||(F_[e]=TL(e)))(t)}function fp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const bc=t=>typeof t<"u",Ii=t=>typeof t=="function",B_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function EL(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const qe=Math.PI,tn=2*qe,CL=tn+qe,kc=Number.POSITIVE_INFINITY,NL=qe/180,Xt=qe/2,Wi=qe/4,U_=qe*2/3,Dd=Math.log10,pr=Math.sign;function yo(t,e,n){return Math.abs(t-e)<n}function H_(t){const e=Math.round(t);t=yo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Dd(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function IL(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,o)=>s-o).pop(),e}function LL(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function qo(t){return!LL(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ML(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function OL(t,e,n){let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ns(t){return t*(qe/180)}function AL(t){return t*(180/qe)}function W_(t){if(!rt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function RL(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*qe&&(o+=tn),{angle:o,distance:s}}function zd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jL(t,e){return(t-e+CL)%tn-qe}function pn(t){return(t%tn+tn)%tn}function Fw(t,e,n,i){const s=pn(t),o=pn(e),a=pn(n),c=pn(o-s),u=pn(a-s),d=pn(s-o),m=pn(s-a);return s===o||s===a||i&&o===a||c>u&&d<m}function Rt(t,e,n){return Math.max(e,Math.min(n,t))}function DL(t){return Rt(t,-32768,32767)}function Zs(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function pp(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const is=(t,e,n,i)=>pp(t,n,i?s=>{const o=t[s][e];return o<n||o===n&&t[s+1][e]===n}:s=>t[s][e]<n),zL=(t,e,n)=>pp(t,n,i=>t[i][e]>=n);function FL(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const Bw=["push","pop","shift","splice","unshift"];function BL(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bw.forEach(n=>{const i="_onData"+fp(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),a}})})}function V_(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Bw.forEach(o=>{delete t[o]}),delete t._chartjs)}function UL(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Uw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Hw(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Uw.call(window,()=>{i=!1,t.apply(e,n)}))}}function HL(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const mp=t=>t==="start"?"left":t==="end"?"right":"center",tt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,WL=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function VL(t,e,n){const i=e.length;let s=0,o=i;if(t._sorted){const{iScale:a,vScale:c,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=a.axis,{min:g,max:_,minDefined:y,maxDefined:x}=a.getUserBounds();if(y){if(s=Math.min(is(u,m,g).lo,n?i:is(e,m,a.getPixelForValue(g)).lo),d){const w=u.slice(0,s+1).reverse().findIndex(k=>!be(k[c.axis]));s-=Math.max(0,w)}s=Rt(s,0,i-1)}if(x){let w=Math.max(is(u,a.axis,_,!0).hi+1,n?0:is(e,m,a.getPixelForValue(_),!0).hi+1);if(d){const k=u.slice(w-1).findIndex(b=>!be(b[c.axis]));w+=Math.max(0,k)}o=Rt(w,s,i)-s}else o=i-s}return{start:s,count:o}}function $L(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),o}const il=t=>t===0||t===1,$_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*tn/n)),Z_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*tn/n)+1,xo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xt)+1,easeOutSine:t=>Math.sin(t*Xt),easeInOutSine:t=>-.5*(Math.cos(qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>il(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>il(t)?t:$_(t,.075,.3),easeOutElastic:t=>il(t)?t:Z_(t,.075,.3),easeInOutElastic(t){return il(t)?t:t<.5?.5*$_(t*2,.1125,.45):.5+.5*Z_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-xo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?xo.easeInBounce(t*2)*.5:xo.easeOutBounce(t*2-1)*.5+.5};function gp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function G_(t){return gp(t)?t:new Zo(t)}function wh(t){return gp(t)?t:new Zo(t).saturate(.5).darken(.1).hexString()}const ZL=["x","y","borderWidth","radius","tension"],GL=["color","borderColor","backgroundColor"];function qL(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:GL},numbers:{type:"number",properties:ZL}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function KL(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const q_=new Map;function YL(t,e){e=e||{};const n=t+JSON.stringify(e);let i=q_.get(n);return i||(i=new Intl.NumberFormat(t,e),q_.set(n,i)),i}function Ww(t,e,n){return YL(e,n).format(t)}const Vw={values(t){return We(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,o=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=XL(t,n)}const a=Dd(Math.abs(o)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Ww(t,i,u)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Dd(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Vw.numeric.call(this,t,e,n):""}};function XL(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var $w={formatters:Vw};function JL(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$w.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ms=Object.create(null),Fd=Object.create(null);function wo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function bh(t,e,n){return typeof e=="string"?Go(wo(t,e),n):Go(wo(t,""),e)}class QL{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>wh(s.backgroundColor),this.hoverBorderColor=(i,s)=>wh(s.borderColor),this.hoverColor=(i,s)=>wh(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return bh(this,e,n)}get(e){return wo(this,e)}describe(e,n){return bh(Fd,e,n)}override(e,n){return bh(ms,e,n)}route(e,n,i,s){const o=wo(this,e),a=wo(this,i),c="_"+n;Object.defineProperties(o,{[c]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=a[s];return de(u)?Object.assign({},d,u):ue(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var De=new QL({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qL,KL,JL]);function eM(t){return!t||be(t.size)||be(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function K_(t,e,n,i,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,n.push(s)),o>i&&(i=o),i}function Vi(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function Y_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Bd(t,e,n,i){Zw(t,e,n,i,null)}function Zw(t,e,n,i,s){let o,a,c,u,d,m,g,_;const y=e.pointStyle,x=e.rotation,w=e.radius;let k=(x||0)*NL;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(k),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),y){default:s?t.ellipse(n,i,s/2,w,0,0,tn):t.arc(n,i,w,0,tn),t.closePath();break;case"triangle":m=s?s/2:w,t.moveTo(n+Math.sin(k)*m,i-Math.cos(k)*w),k+=U_,t.lineTo(n+Math.sin(k)*m,i-Math.cos(k)*w),k+=U_,t.lineTo(n+Math.sin(k)*m,i-Math.cos(k)*w),t.closePath();break;case"rectRounded":d=w*.516,u=w-d,a=Math.cos(k+Wi)*u,g=Math.cos(k+Wi)*(s?s/2-d:u),c=Math.sin(k+Wi)*u,_=Math.sin(k+Wi)*(s?s/2-d:u),t.arc(n-g,i-c,d,k-qe,k-Xt),t.arc(n+_,i-a,d,k-Xt,k),t.arc(n+g,i+c,d,k,k+Xt),t.arc(n-_,i+a,d,k+Xt,k+qe),t.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*w,m=s?s/2:u,t.rect(n-m,i-u,2*m,2*u);break}k+=Wi;case"rectRot":g=Math.cos(k)*(s?s/2:w),a=Math.cos(k)*w,c=Math.sin(k)*w,_=Math.sin(k)*(s?s/2:w),t.moveTo(n-g,i-c),t.lineTo(n+_,i-a),t.lineTo(n+g,i+c),t.lineTo(n-_,i+a),t.closePath();break;case"crossRot":k+=Wi;case"cross":g=Math.cos(k)*(s?s/2:w),a=Math.cos(k)*w,c=Math.sin(k)*w,_=Math.sin(k)*(s?s/2:w),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+_,i-a),t.lineTo(n-_,i+a);break;case"star":g=Math.cos(k)*(s?s/2:w),a=Math.cos(k)*w,c=Math.sin(k)*w,_=Math.sin(k)*(s?s/2:w),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+_,i-a),t.lineTo(n-_,i+a),k+=Wi,g=Math.cos(k)*(s?s/2:w),a=Math.cos(k)*w,c=Math.sin(k)*w,_=Math.sin(k)*(s?s/2:w),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+_,i-a),t.lineTo(n-_,i+a);break;case"line":a=s?s/2:Math.cos(k)*w,c=Math.sin(k)*w,t.moveTo(n-a,i-c),t.lineTo(n+a,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(k)*(s?s/2:w),i+Math.sin(k)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ko(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Qc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function eu(t){t.restore()}function tM(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nM(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function iM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),be(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function sM(t,e,n,i,s){if(s.strikethrough||s.underline){const o=t.measureText(i),a=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,m=s.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,m),t.lineTo(c,m),t.stroke()}}function rM(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Yo(t,e,n,i,s,o={}){const a=We(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let u,d;for(t.save(),t.font=s.string,iM(t,o),u=0;u<a.length;++u)d=a[u],o.backdrop&&rM(t,o.backdrop),c&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),be(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(d,n,i,o.maxWidth)),t.fillText(d,n,i,o.maxWidth),sM(t,n,i,d,o),i+=Number(s.lineHeight);t.restore()}function Ud(t,e){const{x:n,y:i,w:s,h:o,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*qe,qe,!0),t.lineTo(n,i+o-a.bottomLeft),t.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,qe,Xt,!0),t.lineTo(n+s-a.bottomRight,i+o),t.arc(n+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Xt,0,!0),t.lineTo(n+s,i+a.topRight),t.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-Xt,!0),t.lineTo(n+a.topLeft,i)}const oM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lM(t,e){const n=(""+t).match(oM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const cM=t=>+t||0;function Gw(t,e){const n={},i=de(e),s=i?Object.keys(e):e,o=de(t)?i?a=>ue(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=cM(o(a));return n}function uM(t){return Gw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function bo(t){return Gw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ut(t){const e=uM(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function it(t,e){t=t||{},e=e||De.font;let n=ue(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ue(t.style,e.style);i&&!(""+i).match(aM)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ue(t.family,e.family),lineHeight:lM(ue(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ue(t.weight,e.weight),string:""};return s.string=eM(s),s}function sl(t,e,n,i){let s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function hM(t,e,n){const{min:i,max:s}=t,o=bL(e,(s-i)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function xs(t,e){return Object.assign(Object.create(t),e)}function _p(t,e=[""],n,i,s=()=>t[0]){const o=n||t;typeof i>"u"&&(i=Xw("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:s,override:c=>_p([c,...t],e,o,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return Kw(c,u,()=>yM(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return J_(c).includes(u)},ownKeys(c){return J_(c)},set(c,u,d){const m=c._storage||(c._storage=s());return c[u]=m[u]=d,delete c._keys,!0}})}function mr(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:qw(t,i),setContext:o=>mr(t,o,n,i),override:o=>mr(t.override(o),e,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete t[a],!0},get(o,a,c){return Kw(o,a,()=>fM(o,a,c))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(o,a,c){return t[a]=c,delete o[a],!0}})}function qw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ii(n)?n:()=>n,isIndexable:Ii(i)?i:()=>i}}const dM=(t,e)=>t?t+fp(e):e,vp=(t,e)=>de(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Kw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function fM(t,e,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;let c=i[e];return Ii(c)&&a.isScriptable(e)&&(c=pM(e,c,t,n)),We(c)&&c.length&&(c=mM(e,c,t,a.isIndexable)),vp(e,c)&&(c=mr(c,s,o&&o[e],a)),c}function pM(t,e,n,i){const{_proxy:s,_context:o,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(o,a||i);return c.delete(t),vp(t,u)&&(u=yp(s._scopes,s,t,u)),u}function mM(t,e,n,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:c}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(de(e[0])){const u=e,d=s._scopes.filter(m=>m!==u);e=[];for(const m of u){const g=yp(d,s,t,m);e.push(mr(g,o,a&&a[t],c))}}return e}function Yw(t,e,n){return Ii(t)?t(e,n):t}const gM=(t,e)=>t===!0?e:typeof t=="string"?wc(e,t):void 0;function _M(t,e,n,i,s){for(const o of e){const a=gM(n,o);if(a){t.add(a);const c=Yw(a._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function yp(t,e,n,i){const s=e._rootScopes,o=Yw(e._fallback,n,i),a=[...t,...s],c=new Set;c.add(i);let u=X_(c,a,n,o||n,i);return u===null||typeof o<"u"&&o!==n&&(u=X_(c,a,o,u,i),u===null)?!1:_p(Array.from(c),[""],s,o,()=>vM(e,n,i))}function X_(t,e,n,i,s){for(;n;)n=_M(t,e,n,i,s);return n}function vM(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return We(s)&&de(n)?n:s||{}}function yM(t,e,n,i){let s;for(const o of e)if(s=Xw(dM(o,t),n),typeof s<"u")return vp(t,s)?yp(n,i,t,s):s}function Xw(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function J_(t){let e=t._keys;return e||(e=t._keys=xM(t._scopes)),e}function xM(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const wM=Number.EPSILON||1e-14,gr=(t,e)=>e<t.length&&!t[e].skip&&t[e],Jw=t=>t==="x"?"y":"x";function bM(t,e,n,i){const s=t.skip?e:t,o=e,a=n.skip?e:n,c=zd(o,s),u=zd(a,o);let d=c/(c+u),m=u/(c+u);d=isNaN(d)?0:d,m=isNaN(m)?0:m;const g=i*d,_=i*m;return{previous:{x:o.x-g*(a.x-s.x),y:o.y-g*(a.y-s.y)},next:{x:o.x+_*(a.x-s.x),y:o.y+_*(a.y-s.y)}}}function kM(t,e,n){const i=t.length;let s,o,a,c,u,d=gr(t,0);for(let m=0;m<i-1;++m)if(u=d,d=gr(t,m+1),!(!u||!d)){if(yo(e[m],0,wM)){n[m]=n[m+1]=0;continue}s=n[m]/e[m],o=n[m+1]/e[m],c=Math.pow(s,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),n[m]=s*a*e[m],n[m+1]=o*a*e[m])}}function SM(t,e,n="x"){const i=Jw(n),s=t.length;let o,a,c,u=gr(t,0);for(let d=0;d<s;++d){if(a=c,c=u,u=gr(t,d+1),!c)continue;const m=c[n],g=c[i];a&&(o=(m-a[n])/3,c[`cp1${n}`]=m-o,c[`cp1${i}`]=g-o*e[d]),u&&(o=(u[n]-m)/3,c[`cp2${n}`]=m+o,c[`cp2${i}`]=g+o*e[d])}}function PM(t,e="x"){const n=Jw(e),i=t.length,s=Array(i).fill(0),o=Array(i);let a,c,u,d=gr(t,0);for(a=0;a<i;++a)if(c=u,u=d,d=gr(t,a+1),!!u){if(d){const m=d[e]-u[e];s[a]=m!==0?(d[n]-u[n])/m:0}o[a]=c?d?pr(s[a-1])!==pr(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}kM(t,s,o),SM(t,o,e)}function rl(t,e,n){return Math.max(Math.min(t,n),e)}function TM(t,e){let n,i,s,o,a,c=Ko(t[0],e);for(n=0,i=t.length;n<i;++n)a=o,o=c,c=n<i-1&&Ko(t[n+1],e),o&&(s=t[n],a&&(s.cp1x=rl(s.cp1x,e.left,e.right),s.cp1y=rl(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=rl(s.cp2x,e.left,e.right),s.cp2y=rl(s.cp2y,e.top,e.bottom)))}function EM(t,e,n,i,s){let o,a,c,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")PM(t,s);else{let d=i?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)c=t[o],u=bM(d,c,t[Math.min(o+1,a-(i?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}e.capBezierPoints&&TM(t,n)}function xp(){return typeof window<"u"&&typeof document<"u"}function wp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const tu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function CM(t,e){return tu(t).getPropertyValue(e)}const NM=["top","right","bottom","left"];function os(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=NM[s];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function LM(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:o}=i;let a=!1,c,u;if(IM(s,o,t.target))c=s,u=o;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function Yi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=tu(n),o=s.boxSizing==="border-box",a=os(s,"padding"),c=os(s,"border","width"),{x:u,y:d,box:m}=LM(t,n),g=a.left+(m&&c.left),_=a.top+(m&&c.top);let{width:y,height:x}=e;return o&&(y-=a.width+c.width,x-=a.height+c.height),{x:Math.round((u-g)/y*n.width/i),y:Math.round((d-_)/x*n.height/i)}}function MM(t,e,n){let i,s;if(e===void 0||n===void 0){const o=t&&wp(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const a=o.getBoundingClientRect(),c=tu(o),u=os(c,"border","width"),d=os(c,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,i=Sc(c.maxWidth,o,"clientWidth"),s=Sc(c.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||kc,maxHeight:s||kc}}const ol=t=>Math.round(t*10)/10;function OM(t,e,n,i){const s=tu(t),o=os(s,"margin"),a=Sc(s.maxWidth,t,"clientWidth")||kc,c=Sc(s.maxHeight,t,"clientHeight")||kc,u=MM(t,e,n);let{width:d,height:m}=u;if(s.boxSizing==="content-box"){const _=os(s,"border","width"),y=os(s,"padding");d-=y.width+_.width,m-=y.height+_.height}return d=Math.max(0,d-o.width),m=Math.max(0,i?d/i:m-o.height),d=ol(Math.min(d,a,u.maxWidth)),m=ol(Math.min(m,c,u.maxHeight)),d&&!m&&(m=ol(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&m>u.height&&(m=u.height,d=ol(Math.floor(m*i))),{width:d,height:m}}function Q_(t,e,n){const i=e||1,s=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(t.currentDevicePixelRatio=i,a.height=s,a.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const AM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};xp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ev(t,e){const n=CM(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Xi(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function RM(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jM(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=Xi(t,s,n),c=Xi(s,o,n),u=Xi(o,e,n),d=Xi(a,c,n),m=Xi(c,u,n);return Xi(d,m,n)}const DM=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},zM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function nr(t,e,n){return t?DM(e,n):zM()}function Qw(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function e1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function t1(t){return t==="angle"?{between:Fw,compare:jL,normalize:pn}:{between:Zs,compare:(e,n)=>e-n,normalize:e=>e}}function tv({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function FM(t,e,n){const{property:i,start:s,end:o}=n,{between:a,normalize:c}=t1(i),u=e.length;let{start:d,end:m,loop:g}=t,_,y;if(g){for(d+=u,m+=u,_=0,y=u;_<y&&a(c(e[d%u][i]),s,o);++_)d--,m--;d%=u,m%=u}return m<d&&(m+=u),{start:d,end:m,loop:g,style:t.style}}function n1(t,e,n){if(!n)return[t];const{property:i,start:s,end:o}=n,a=e.length,{compare:c,between:u,normalize:d}=t1(i),{start:m,end:g,loop:_,style:y}=FM(t,e,n),x=[];let w=!1,k=null,b,P,T;const N=()=>u(s,T,b)&&c(s,T)!==0,I=()=>c(o,b)===0||u(o,T,b),A=()=>w||N(),R=()=>!w||I();for(let E=m,D=m;E<=g;++E)P=e[E%a],!P.skip&&(b=d(P[i]),b!==T&&(w=u(b,s,o),k===null&&A()&&(k=c(b,s)===0?E:D),k!==null&&R()&&(x.push(tv({start:k,end:E,loop:_,count:a,style:y})),k=null),D=E,T=b));return k!==null&&x.push(tv({start:k,end:g,loop:_,count:a,style:y})),x}function i1(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const o=n1(i[s],t.points,e);o.length&&n.push(...o)}return n}function BM(t,e,n,i){let s=0,o=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(o+=s);o>s&&t[o%e].skip;)o--;return o%=e,{start:s,end:o}}function UM(t,e,n,i){const s=t.length,o=[];let a=e,c=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%s];d.skip||d.stop?c.skip||(i=!1,o.push({start:e%s,end:(u-1)%s,loop:i}),e=a=d.stop?u:null):(a=u,c.skip&&(e=u)),c=d}return a!==null&&o.push({start:e%s,end:a%s,loop:i}),o}function HM(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const o=!!t._loop,{start:a,end:c}=BM(n,s,o,i);if(i===!0)return nv(t,[{start:a,end:c,loop:o}],n,e);const u=c<a?c+s:c,d=!!t._fullLoop&&a===0&&c===s-1;return nv(t,UM(n,a,u,d),n,e)}function nv(t,e,n,i){return!i||!i.setContext||!n?e:WM(t,e,n,i)}function WM(t,e,n,i){const s=t._chart.getContext(),o=iv(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,u=n.length,d=[];let m=o,g=e[0].start,_=g;function y(x,w,k,b){const P=c?-1:1;if(x!==w){for(x+=u;n[x%u].skip;)x-=P;for(;n[w%u].skip;)w+=P;x%u!==w%u&&(d.push({start:x%u,end:w%u,loop:k,style:b}),m=b,g=w%u)}}for(const x of e){g=c?g:x.start;let w=n[g%u],k;for(_=g+1;_<=x.end;_++){const b=n[_%u];k=iv(i.setContext(xs(s,{type:"segment",p0:w,p1:b,p0DataIndex:(_-1)%u,p1DataIndex:_%u,datasetIndex:a}))),VM(k,m)&&y(g,_-1,x.loop,m),w=b,m=k}g<_-1&&y(g,_-1,x.loop,m)}return d}function iv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function VM(t,e){if(!e)return!1;const n=[],i=function(s,o){return gp(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function al(t,e,n){return t.options.clip?t[n]:e[n]}function $M(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:al(n,e,"left"),right:al(n,e,"right"),top:al(i,e,"top"),bottom:al(i,e,"bottom")}:e}function s1(t,e){const n=e._clip;if(n.disabled)return!1;const i=$M(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ZM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const o=n.listeners[s],a=n.duration;o.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Uw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,c=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(o[a]=o[o.length-1],o.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tn=new ZM;const sv="transparent",GM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=G_(t||sv),s=i.valid&&G_(e||sv);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class qM{constructor(e,n,i,s){const o=n[i];s=sl([e.to,s,o,e.from]);const a=sl([e.from,o,s]);this._active=!0,this._fn=e.fn||GM[e.type||typeof a],this._easing=xo[e.easing]||xo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=sl([e.to,n,s,e.from]),this._from=sl([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,c=this._to;let u;if(this._active=o!==c&&(a||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=o;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(o,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class r1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!de(e))return;const n=Object.keys(De.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!de(o))return;const a={};for(const c of n)a[c]=o[c];(We(o.properties)&&o.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,a)})})}_animateOptions(e,n){const i=n.options,s=YM(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&KM(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const m=n[d];let g=o[d];const _=i.get(d);if(g)if(_&&g.active()){g.update(_,m,c);continue}else g.cancel();if(!_||!_.duration){e[d]=m;continue}o[d]=g=new qM(_,e,d,m),s.push(g)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Tn.add(this._chart,i),!0}}function KM(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=t[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function YM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function rv(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function XM(t,e,n){if(n===!1)return!1;const i=rv(t,n),s=rv(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function JM(t){let e,n,i,s;return de(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function o1(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function ov(t,e,n,i={}){const s=t.keys,o=i.mode==="single";let a,c,u,d;if(e===null)return;let m=!1;for(a=0,c=s.length;a<c;++a){if(u=+s[a],u===n){if(m=!0,i.all)continue;break}d=t.values[u],rt(d)&&(o||e===0||pr(e)===pr(d))&&(e+=d)}return!m&&!i.all?0:e}function QM(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(t),c=new Array(a.length);let u,d,m;for(u=0,d=a.length;u<d;++u)m=a[u],c[u]={[s]:m,[o]:t[m]};return c}function kh(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function eO(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tO(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function nO(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function av(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=t[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function lv(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:c}=i,u=o.axis,d=a.axis,m=eO(o,a,i),g=e.length;let _;for(let y=0;y<g;++y){const x=e[y],{[u]:w,[d]:k}=x,b=x._stacks||(x._stacks={});_=b[d]=nO(s,m,w),_[c]=k,_._top=av(_,a,!0,i.type),_._bottom=av(_,a,!1,i.type);const P=_._visualValues||(_._visualValues={});P[c]=k}}function Sh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function iO(t,e){return xs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sO(t,e,n){return xs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Zr(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Ph=t=>t==="reset"||t==="none",cv=(t,e)=>e?t:Object.assign({},t),rO=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:o1(n,!0),values:null};class ko{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=kh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(g,_,y,x)=>g==="x"?_:g==="r"?x:y,o=n.xAxisID=ue(i.xAxisID,Sh(e,"x")),a=n.yAxisID=ue(i.yAxisID,Sh(e,"y")),c=n.rAxisID=ue(i.rAxisID,Sh(e,"r")),u=n.indexAxis,d=n.iAxisID=s(u,o,a,c),m=n.vAxisID=s(u,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&V_(this._data,this),e._stacked&&Zr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(de(n)){const s=this._cachedMeta;this._data=QM(n,s)}else if(i!==n){if(i){V_(i,this);const s=this._cachedMeta;Zr(s),s._parsed=[]}n&&Object.isExtensible(n)&&BL(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=kh(n.vScale,n),n.stack!==i.stack&&(s=!0,Zr(n),n.stack=i.stack),this._resyncElements(e),(s||o!==n._stacked)&&(lv(this,n._parsed),n._stacked=kh(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis;let u=e===0&&n===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],m,g,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{We(s[e])?_=this.parseArrayData(i,s,e,n):de(s[e])?_=this.parseObjectData(i,s,e,n):_=this.parsePrimitiveData(i,s,e,n);const y=()=>g[c]===null||d&&g[c]<d[c];for(m=0;m<n;++m)i._parsed[m+e]=g=_[m],u&&(y()&&(u=!1),d=g);i._sorted=u}a&&lv(this,_)}parsePrimitiveData(e,n,i,s){const{iScale:o,vScale:a}=e,c=o.axis,u=a.axis,d=o.getLabels(),m=o===a,g=new Array(s);let _,y,x;for(_=0,y=s;_<y;++_)x=_+i,g[_]={[c]:m||o.parse(d[x],x),[u]:a.parse(n[x],x)};return g}parseArrayData(e,n,i,s){const{xScale:o,yScale:a}=e,c=new Array(s);let u,d,m,g;for(u=0,d=s;u<d;++u)m=u+i,g=n[m],c[u]={x:o.parse(g[0],m),y:a.parse(g[1],m)};return c}parseObjectData(e,n,i,s){const{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let m,g,_,y;for(m=0,g=s;m<g;++m)_=m+i,y=n[_],d[m]={x:o.parse(wc(y,c),_),y:a.parse(wc(y,u),_)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,o=this._cachedMeta,a=n[e.axis],c={keys:o1(s,!0),values:n._stacks[e.axis]._visualValues};return ov(c,a,o.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const o=i[n.axis];let a=o===null?NaN:o;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,a=ov(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,a=s.length,c=this._getOtherScale(e),u=rO(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:g}=tO(c);let _,y;function x(){y=s[_];const w=y[c.axis];return!rt(y[e.axis])||m>w||g<w}for(_=0;_<a&&!(!x()&&(this.updateRangeFromParsed(d,e,y,u),o));++_);if(o){for(_=a-1;_>=0;--_)if(!x()){this.updateRangeFromParsed(d,e,y,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][e.axis],rt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=JM(ue(this.options.clip,XM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(e,o,c,u),m=c;m<c+u;++m){const g=s[m];g.hidden||(g.active&&d?a.push(g):g.draw(e,o))}for(m=0;m<a.length;++m)a[m].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=sO(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=iO(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",o=this._cachedDataOpts,a=e+"-"+n,c=o[a],u=this.enableOptionSharing&&bc(i);if(c)return cv(c,u);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],_=d.getOptionScopes(this.getDataset(),m),y=Object.keys(De.elements[e]),x=()=>this.getContext(i,s,n),w=d.resolveNamedOptions(_,y,x,g);return w.$shared&&(w.$shared=u,o[a]=Object.freeze(cv(w,u))),w}_resolveAnimations(e,n,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let u;if(s.options.animation!==!1){const m=this.chart.config,g=m.datasetAnimationScopeKeys(this._type,n),_=m.getOptionScopes(this.getDataset(),g);u=m.createResolver(_,this.getContext(e,i,n))}const d=new r1(s,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ph(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(e,n,i,s){Ph(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Ph(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const s=i.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,i=!0){const s=this._cachedMeta,o=s.data,a=e+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(u(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Zr(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ie(ko,"defaults",{}),ie(ko,"datasetElementType",null),ie(ko,"dataElementType",null);class Ll extends ko{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=VL(n,s,a);this._drawStart=c,this._drawCount=u,$L(n)&&(c=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(s,c,u,e)}updateElements(e,n,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,s),_=a.axis,y=c.axis,{spanGaps:x,segment:w}=this.options,k=qo(x)?x:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",P=n+i,T=e.length;let N=n>0&&this.getParsed(n-1);for(let I=0;I<T;++I){const A=e[I],R=b?A:{};if(I<n||I>=P){R.skip=!0;continue}const E=this.getParsed(I),D=be(E[y]),B=R[_]=a.getPixelForValue(E[_],I),W=R[y]=o||D?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,E,u):E[y],I);R.skip=isNaN(B)||isNaN(W)||D,R.stop=I>0&&Math.abs(E[_]-N[_])>k,w&&(R.parsed=E,R.raw=d.data[I]),g&&(R.options=m||this.resolveDataElementOptions(I,A.active?"active":s)),b||this.updateElement(A,I,R,s),N=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ie(Ll,"id","line"),ie(Ll,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ie(Ll,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bp{constructor(e){ie(this,"options");this.options=e||{}}static override(e){Object.assign(bp.prototype,e)}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var oO={_date:bp};function aO(t,e,n,i){const{controller:s,data:o,_sorted:a}=t,c=s._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&o.length){const d=c._reversePixels?zL:is;if(i){if(s._sharedOptions){const m=o[0],g=typeof m.getRange=="function"&&m.getRange(e);if(g){const _=d(o,e,n-g),y=d(o,e,n+g);return{lo:_.lo,hi:y.hi}}}}else{const m=d(o,e,n);if(u){const{vScale:g}=s._cachedMeta,{_parsed:_}=t,y=_.slice(0,m.lo+1).reverse().findIndex(w=>!be(w[g.axis]));m.lo-=Math.max(0,y);const x=_.slice(m.hi).findIndex(w=>!be(w[g.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:o.length-1}}function pa(t,e,n,i,s){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,u=o.length;c<u;++c){const{index:d,data:m}=o[c],{lo:g,hi:_}=aO(o[c],e,a,s);for(let y=g;y<=_;++y){const x=m[y];x.skip||i(x,d,y)}}}function lO(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Th(t,e,n,i,s){const o=[];return!s&&!t.isPointInArea(e)||pa(t,n,e,function(c,u,d){!s&&!Ko(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&o.push({element:c,datasetIndex:u,index:d})},!0),o}function cO(t,e,n,i){let s=[];function o(a,c,u){const{startAngle:d,endAngle:m}=a.getProps(["startAngle","endAngle"],i),{angle:g}=RL(a,{x:e.x,y:e.y});Fw(g,d,m)&&s.push({element:a,datasetIndex:c,index:u})}return pa(t,n,e,o),s}function uO(t,e,n,i,s,o){let a=[];const c=lO(n);let u=Number.POSITIVE_INFINITY;function d(m,g,_){const y=m.inRange(e.x,e.y,s);if(i&&!y)return;const x=m.getCenterPoint(s);if(!(!!o||t.isPointInArea(x))&&!y)return;const k=c(e,x);k<u?(a=[{element:m,datasetIndex:g,index:_}],u=k):k===u&&a.push({element:m,datasetIndex:g,index:_})}return pa(t,n,e,d),a}function Eh(t,e,n,i,s,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?cO(t,e,n,s):uO(t,e,n,i,s,o)}function uv(t,e,n,i,s){const o=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return pa(t,n,e,(u,d,m)=>{u[a]&&u[a](e[n],s)&&(o.push({element:u,datasetIndex:d,index:m}),c=c||u.inRange(e.x,e.y,s))}),i&&!c?[]:o}var hO={evaluateInteractionItems:pa,modes:{index(t,e,n,i){const s=Yi(e,t),o=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Th(t,s,o,i,a):Eh(t,s,o,!1,i,a),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const m=c[0].index,g=d.data[m];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:m})}),u):[]},dataset(t,e,n,i){const s=Yi(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Th(t,s,o,i,a):Eh(t,s,o,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let m=0;m<d.length;++m)c.push({element:d[m],datasetIndex:u,index:m})}return c},point(t,e,n,i){const s=Yi(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Th(t,s,o,i,a)},nearest(t,e,n,i){const s=Yi(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Eh(t,s,o,n.intersect,i,a)},x(t,e,n,i){const s=Yi(e,t);return uv(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Yi(e,t);return uv(t,s,"y",n.intersect,i)}}};const a1=["left","top","right","bottom"];function Gr(t,e){return t.filter(n=>n.pos===e)}function hv(t,e){return t.filter(n=>a1.indexOf(n.pos)===-1&&n.box.axis===e)}function qr(t,e){return t.sort((n,i)=>{const s=e?i:n,o=e?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function dO(t){const e=[];let n,i,s,o,a,c;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:o,options:{stack:a,stackWeight:c=1}}=s,e.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:c});return e}function fO(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!a1.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function pO(t,e){const n=fO(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,a,c;for(o=0,a=t.length;o<a;++o){c=t[o];const{fullSize:u}=c.box,d=n[c.stack],m=d&&c.stackWeight/d.weight;c.horizontal?(c.width=m?m*i:u&&e.availableWidth,c.height=s):(c.width=i,c.height=m?m*s:u&&e.availableHeight)}return n}function mO(t){const e=dO(t),n=qr(e.filter(d=>d.box.fullSize),!0),i=qr(Gr(e,"left"),!0),s=qr(Gr(e,"right")),o=qr(Gr(e,"top"),!0),a=qr(Gr(e,"bottom")),c=hv(e,"x"),u=hv(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(u).concat(a).concat(c),chartArea:Gr(e,"chartArea"),vertical:i.concat(s).concat(u),horizontal:o.concat(a).concat(c)}}function dv(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function l1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function gO(t,e,n,i){const{pos:s,box:o}=n,a=t.maxPadding;if(!de(s)){n.size&&(t[s]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,t[s]+=n.size}o.getPadding&&l1(a,o.getPadding());const c=Math.max(0,e.outerWidth-dv(a,t,"left","right")),u=Math.max(0,e.outerHeight-dv(a,t,"top","bottom")),d=c!==t.w,m=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:d,other:m}:{same:m,other:d}}function _O(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vO(t,e){const n=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(e[a],n[a])}),o}return i(t?["left","right"]:["top","bottom"])}function ro(t,e,n,i){const s=[];let o,a,c,u,d,m;for(o=0,a=t.length,d=0;o<a;++o){c=t[o],u=c.box,u.update(c.width||e.w,c.height||e.h,vO(c.horizontal,e));const{same:g,other:_}=gO(e,n,c,i);d|=g&&s.length,m=m||_,u.fullSize||s.push(c)}return d&&ro(s,e,n,i)||m}function ll(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function fv(t,e,n,i){const s=n.padding;let{x:o,y:a}=e;for(const c of t){const u=c.box,d=i[c.stack]||{count:1,placed:0,weight:1},m=c.stackWeight/d.weight||1;if(c.horizontal){const g=e.w*m,_=d.size||u.height;bc(d.start)&&(a=d.start),u.fullSize?ll(u,s.left,a,n.outerWidth-s.right-s.left,_):ll(u,e.left+d.placed,a,g,_),d.start=a,d.placed+=g,a=u.bottom}else{const g=e.h*m,_=d.size||u.width;bc(d.start)&&(o=d.start),u.fullSize?ll(u,o,s.top,_,n.outerHeight-s.bottom-s.top):ll(u,o,e.top+d.placed,_,g),d.start=o,d.placed+=g,o=u.right}}e.x=o,e.y=a}var jt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ut(t.options.layout.padding),o=Math.max(e-s.width,0),a=Math.max(n-s.height,0),c=mO(t.boxes),u=c.vertical,d=c.horizontal;me(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=u.reduce((w,k)=>k.box.options&&k.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/m,hBoxMaxHeight:a/2}),_=Object.assign({},s);l1(_,Ut(i));const y=Object.assign({maxPadding:_,w:o,h:a,x:s.left,y:s.top},s),x=pO(u.concat(d),g);ro(c.fullSize,y,g,x),ro(u,y,g,x),ro(d,y,g,x)&&ro(u,y,g,x),_O(y),fv(c.leftAndTop,y,g,x),y.x+=y.w,y.y+=y.h,fv(c.rightAndBottom,y,g,x),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},me(c.chartArea,w=>{const k=w.box;Object.assign(k,t.chartArea),k.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class c1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class yO extends c1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ml="$chartjs",xO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pv=t=>t===null||t==="";function wO(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Ml]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",pv(s)){const o=ev(t,"width");o!==void 0&&(t.width=o)}if(pv(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=ev(t,"height");o!==void 0&&(t.height=o)}return t}const u1=AM?{passive:!0}:!1;function bO(t,e,n){t&&t.addEventListener(e,n,u1)}function kO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,u1)}function SO(t,e){const n=xO[t.type]||t.type,{x:i,y:s}=Yi(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Pc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function PO(t,e,n){const i=t.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Pc(c.addedNodes,i),a=a&&!Pc(c.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function TO(t,e,n){const i=t.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Pc(c.removedNodes,i),a=a&&!Pc(c.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Xo=new Map;let mv=0;function h1(){const t=window.devicePixelRatio;t!==mv&&(mv=t,Xo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function EO(t,e){Xo.size||window.addEventListener("resize",h1),Xo.set(t,e)}function CO(t){Xo.delete(t),Xo.size||window.removeEventListener("resize",h1)}function NO(t,e,n){const i=t.canvas,s=i&&wp(i);if(!s)return;const o=Hw((c,u)=>{const d=s.clientWidth;n(c,u),d<s.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,m=u.contentRect.height;d===0&&m===0||o(d,m)});return a.observe(s),EO(t,o),a}function Ch(t,e,n){n&&n.disconnect(),e==="resize"&&CO(t)}function IO(t,e,n){const i=t.canvas,s=Hw(o=>{t.ctx!==null&&n(SO(o,t))},t);return bO(i,e,s),s}class LO extends c1{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(wO(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Ml])return!1;const i=n[Ml].initial;["height","width"].forEach(o=>{const a=i[o];be(a)?n.removeAttribute(o):n.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Ml],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:PO,detach:TO,resize:NO}[n]||IO;s[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ch,detach:Ch,resize:Ch}[n]||kO)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return OM(e,n,i,s)}isAttached(e){const n=e&&wp(e);return!!(n&&n.isConnected)}}function MO(t){return!xp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yO:LO}var pl;let ws=(pl=class{constructor(){ie(this,"x");ie(this,"y");ie(this,"active",!1);ie(this,"options");ie(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return qo(this.x)&&qo(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},ie(pl,"defaults",{}),ie(pl,"defaultRoutes"),pl);function OO(t,e){const n=t.options.ticks,i=AO(t),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?jO(e):[],a=o.length,c=o[0],u=o[a-1],d=[];if(a>s)return DO(e,d,o,a/s),d;const m=RO(o,e,s);if(a>0){let g,_;const y=a>1?Math.round((u-c)/(a-1)):null;for(cl(e,d,m,be(y)?0:c-y,c),g=0,_=a-1;g<_;g++)cl(e,d,m,o[g],o[g+1]);return cl(e,d,m,u,be(y)?e.length:u+y),d}return cl(e,d,m),d}function AO(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function RO(t,e,n){const i=zO(t),s=e.length/n;if(!i)return Math.max(s,1);const o=IL(i);for(let a=0,c=o.length-1;a<c;a++){const u=o[a];if(u>s)return u}return Math.max(s,1)}function jO(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function DO(t,e,n,i){let s=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===o&&(e.push(t[a]),s++,o=n[s*i])}function cl(t,e,n,i,s){const o=ue(i,0),a=Math.min(ue(s,t.length),t.length);let c=0,u,d,m;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),m=o;m<0;)c++,m=Math.round(o+c*n);for(d=Math.max(o,0);d<a;d++)d===m&&(e.push(t[d]),c++,m=Math.round(o+c*n))}function zO(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const FO=t=>t==="left"?"right":t==="right"?"left":t,gv=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_v=(t,e)=>Math.min(e||t,t);function vv(t,e){const n=[],i=t.length/e,s=t.length;let o=0;for(;o<s;o+=i)n.push(t[Math.floor(o)]);return n}function BO(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),o=t._startPixel,a=t._endPixel,c=1e-6;let u=t.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(u-o,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(s-1))/2,u+=s<e?d:-d,u<o-c||u>a+c)))return u}function UO(t,e){me(t,n=>{const i=n.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function Kr(t){return t.drawTicks?t.tickLength:0}function yv(t,e){if(!t.display)return 0;const n=it(t.font,e),i=Ut(t.padding);return(We(t.text)?t.text.length:1)*n.lineHeight+i.height}function HO(t,e){return xs(t,{scale:e,type:"scale"})}function WO(t,e,n){return xs(t,{tick:n,index:e,type:"tick"})}function VO(t,e,n){let i=mp(t);return(n&&e!=="right"||!n&&e==="right")&&(i=FO(i)),i}function $O(t,e,n,i){const{top:s,left:o,bottom:a,right:c,chart:u}=t,{chartArea:d,scales:m}=u;let g=0,_,y,x;const w=a-s,k=c-o;if(t.isHorizontal()){if(y=tt(i,o,c),de(n)){const b=Object.keys(n)[0],P=n[b];x=m[b].getPixelForValue(P)+w-e}else n==="center"?x=(d.bottom+d.top)/2+w-e:x=gv(t,n,e);_=c-o}else{if(de(n)){const b=Object.keys(n)[0],P=n[b];y=m[b].getPixelForValue(P)-k+e}else n==="center"?y=(d.left+d.right)/2-k+e:y=gv(t,n,e);x=tt(i,a,s),g=n==="left"?-Xt:Xt}return{titleX:y,titleY:x,maxWidth:_,rotation:g}}class kr extends ws{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=un(e,Number.POSITIVE_INFINITY),n=un(n,Number.NEGATIVE_INFINITY),i=un(i,Number.POSITIVE_INFINITY),s=un(s,Number.NEGATIVE_INFINITY),{min:un(e,i),max:un(n,s),minDefined:rt(e),maxDefined:rt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:un(n,un(i,n)),max:un(i,un(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Te(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hM(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?vv(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=OO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Te(this.options.afterUpdate,[this])}beforeSetDimensions(){Te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=Te(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=_v(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let a=s,c,u,d;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),g=m.widest.width,_=m.highest.height,y=Rt(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/i:y/(i-1),g+6>c&&(c=y/(i-(e.offset?.5:1)),u=this.maxHeight-Kr(e.grid)-n.padding-yv(e.title,this.chart.options.font),d=Math.sqrt(g*g+_*_),a=AL(Math.min(Math.asin(Rt((m.highest.height+6)/c,-1,1)),Math.asin(Rt(u/d,-1,1))-Math.asin(Rt(_/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=yv(s,n.options.font);if(c?(e.width=this.maxWidth,e.height=Kr(o)+u):(e.height=this.maxHeight,e.width=Kr(o)+u),i.display&&this.ticks.length){const{first:d,last:m,widest:g,highest:_}=this._getLabelSizes(),y=i.padding*2,x=ns(this.labelRotation),w=Math.cos(x),k=Math.sin(x);if(c){const b=i.mirror?0:k*g.width+w*_.height;e.height=Math.min(this.maxHeight,e.height+b+y)}else{const b=i.mirror?0:w*g.width+k*_.height;e.width=Math.min(this.maxWidth,e.width+b+y)}this._calculatePadding(d,m,k,w)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:o,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,y=0;u?d?(_=s*e.width,y=i*n.height):(_=i*e.height,y=s*n.width):o==="start"?y=n.width:o==="end"?_=e.width:o!=="inner"&&(_=e.width/2,y=n.width/2),this.paddingLeft=Math.max((_-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((y-g+a)*this.width/(this.width-g),0)}else{let m=n.height/2,g=e.height/2;o==="start"?(m=0,g=e.height):o==="end"&&(m=n.height,g=0),this.paddingTop=m+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)be(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=vv(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:o}=this,a=[],c=[],u=Math.floor(n/_v(n,i));let d=0,m=0,g,_,y,x,w,k,b,P,T,N,I;for(g=0;g<n;g+=u){if(x=e[g].label,w=this._resolveTickFontOptions(g),s.font=k=w.string,b=o[k]=o[k]||{data:{},gc:[]},P=w.lineHeight,T=N=0,!be(x)&&!We(x))T=K_(s,b.data,b.gc,T,x),N=P;else if(We(x))for(_=0,y=x.length;_<y;++_)I=x[_],!be(I)&&!We(I)&&(T=K_(s,b.data,b.gc,T,I),N+=P);a.push(T),c.push(N),d=Math.max(T,d),m=Math.max(N,m)}UO(o,n);const A=a.indexOf(d),R=c.indexOf(m),E=D=>({width:a[D]||0,height:c[D]||0});return{first:E(0),last:E(n-1),widest:E(A),highest:E(R),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return DL(this._alignToPixels?Vi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=WO(this.getContext(),e,i))}return this.$context||(this.$context=HO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ns(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,c=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*i>c*s?c/i:u/s:u*s<c*i?u/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:c}=s,u=o.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),_=Kr(o),y=[],x=c.setContext(this.getContext()),w=x.display?x.width:0,k=w/2,b=function(oe){return Vi(i,oe,w)};let P,T,N,I,A,R,E,D,B,W,Z,ve;if(a==="top")P=b(this.bottom),R=this.bottom-_,D=P-k,W=b(e.top)+k,ve=e.bottom;else if(a==="bottom")P=b(this.top),W=e.top,ve=b(e.bottom)-k,R=P+k,D=this.top+_;else if(a==="left")P=b(this.right),A=this.right-_,E=P-k,B=b(e.left)+k,Z=e.right;else if(a==="right")P=b(this.left),B=e.left,Z=b(e.right)-k,A=P+k,E=this.left+_;else if(n==="x"){if(a==="center")P=b((e.top+e.bottom)/2+.5);else if(de(a)){const oe=Object.keys(a)[0],ce=a[oe];P=b(this.chart.scales[oe].getPixelForValue(ce))}W=e.top,ve=e.bottom,R=P+k,D=R+_}else if(n==="y"){if(a==="center")P=b((e.left+e.right)/2);else if(de(a)){const oe=Object.keys(a)[0],ce=a[oe];P=b(this.chart.scales[oe].getPixelForValue(ce))}A=P-k,E=A-_,B=e.left,Z=e.right}const ke=ue(s.ticks.maxTicksLimit,g),ye=Math.max(1,Math.ceil(g/ke));for(T=0;T<g;T+=ye){const oe=this.getContext(T),ce=o.setContext(oe),z=c.setContext(oe),G=ce.lineWidth,U=ce.color,K=z.dash||[],te=z.dashOffset,Se=ce.tickWidth,le=ce.tickColor,se=ce.tickBorderDash||[],Y=ce.tickBorderDashOffset;N=BO(this,T,u),N!==void 0&&(I=Vi(i,N,G),d?A=E=B=Z=I:R=D=W=ve=I,y.push({tx1:A,ty1:R,tx2:E,ty2:D,x1:B,y1:W,x2:Z,y2:ve,width:G,color:U,borderDash:K,borderDashOffset:te,tickWidth:Se,tickColor:le,tickBorderDash:se,tickBorderDashOffset:Y}))}return this._ticksLength=g,this._borderValue=P,y}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:m,mirror:g}=o,_=Kr(i.grid),y=_+m,x=g?-m:y,w=-ns(this.labelRotation),k=[];let b,P,T,N,I,A,R,E,D,B,W,Z,ve="middle";if(s==="top")A=this.bottom-x,R=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+x,R=this._getXAxisLabelAlignment();else if(s==="left"){const ye=this._getYAxisLabelAlignment(_);R=ye.textAlign,I=ye.x}else if(s==="right"){const ye=this._getYAxisLabelAlignment(_);R=ye.textAlign,I=ye.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+y;else if(de(s)){const ye=Object.keys(s)[0],oe=s[ye];A=this.chart.scales[ye].getPixelForValue(oe)+y}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")I=(e.left+e.right)/2-y;else if(de(s)){const ye=Object.keys(s)[0],oe=s[ye];I=this.chart.scales[ye].getPixelForValue(oe)}R=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(u==="start"?ve="top":u==="end"&&(ve="bottom"));const ke=this._getLabelSizes();for(b=0,P=c.length;b<P;++b){T=c[b],N=T.label;const ye=o.setContext(this.getContext(b));E=this.getPixelForTick(b)+o.labelOffset,D=this._resolveTickFontOptions(b),B=D.lineHeight,W=We(N)?N.length:1;const oe=W/2,ce=ye.color,z=ye.textStrokeColor,G=ye.textStrokeWidth;let U=R;a?(I=E,R==="inner"&&(b===P-1?U=this.options.reverse?"left":"right":b===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?d==="near"||w!==0?Z=-W*B+B/2:d==="center"?Z=-ke.highest.height/2-oe*B+B:Z=-ke.highest.height+B/2:d==="near"||w!==0?Z=B/2:d==="center"?Z=ke.highest.height/2-oe*B:Z=ke.highest.height-W*B,g&&(Z*=-1),w!==0&&!ye.showLabelBackdrop&&(I+=B/2*Math.sin(w))):(A=E,Z=(1-W)*B/2);let K;if(ye.showLabelBackdrop){const te=Ut(ye.backdropPadding),Se=ke.heights[b],le=ke.widths[b];let se=Z-te.top,Y=0-te.left;switch(ve){case"middle":se-=Se/2;break;case"bottom":se-=Se;break}switch(R){case"center":Y-=le/2;break;case"right":Y-=le;break;case"inner":b===P-1?Y-=le:b>0&&(Y-=le/2);break}K={left:Y,top:se,width:le+te.width,height:Se+te.height,color:ye.backdropColor}}k.push({label:N,font:D,textOffset:Z,options:{rotation:w,color:ce,strokeColor:z,strokeWidth:G,textAlign:U,textBaseline:ve,translation:[I,A],backdrop:K}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ns(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),c=e+o,u=a.widest.width;let d,m;return n==="left"?s?(m=this.right+o,i==="near"?d="left":i==="center"?(d="center",m+=u/2):(d="right",m+=u)):(m=this.right-c,i==="near"?d="right":i==="center"?(d="center",m-=u/2):(d="left",m=this.left)):n==="right"?s?(m=this.left+o,i==="near"?d="right":i==="center"?(d="center",m-=u/2):(d="left",m-=u)):(m=this.left+c,i==="near"?d="left":i==="center"?(d="center",m+=u/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:o,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,o,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const c=(u,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=s.length;o<a;++o){const u=s[o];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,m,g,_;this.isHorizontal()?(d=Vi(e,this.left,a)-a/2,m=Vi(e,this.right,c)+c/2,g=_=u):(g=Vi(e,this.top,a)-a/2,_=Vi(e,this.bottom,c)+c/2,d=m=u),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(d,g),n.lineTo(m,_),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Qc(i,s);const o=this.getLabelItems(e);for(const a of o){const c=a.options,u=a.font,d=a.label,m=a.textOffset;Yo(i,d,0,m,u,c)}s&&eu(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=it(i.font),a=Ut(i.padding),c=i.align;let u=o.lineHeight/2;n==="bottom"||n==="center"||de(n)?(u+=a.bottom,We(i.text)&&(u+=o.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:m,maxWidth:g,rotation:_}=$O(this,u,n,c);Yo(e,i.text,0,0,o,{color:i.color,maxWidth:g,rotation:_,textAlign:VO(c,n,s),textBaseline:"middle",translation:[d,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ue(e.grid&&e.grid.z,-1),s=ue(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==kr.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return it(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ul{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;qO(n)&&(i=this.register(n));const s=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,ZO(e,a,i),this.override&&De.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in De[s]&&(delete De[s][i],this.override&&delete ms[i])}}function ZO(t,e,n){const i=Go(Object.create(null),[n?De.get(n):{},De.get(e),t.defaults]);De.set(e,i),t.defaultRoutes&&GO(e,t.defaultRoutes),t.descriptors&&De.describe(e,t.descriptors)}function GO(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),o=[t].concat(i).join("."),a=e[n].split("."),c=a.pop(),u=a.join(".");De.route(o,s,u,c)})}function qO(t){return"id"in t&&"defaults"in t}class KO{constructor(){this.controllers=new ul(ko,"datasets",!0),this.elements=new ul(ws,"elements"),this.plugins=new ul(Object,"plugins"),this.scales=new ul(kr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):me(s,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,i){const s=fp(e);Te(i["before"+s],[],i),n[e](i),Te(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var fn=new KO;class YO{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,s){s=s||{};for(const o of e){const a=o.plugin,c=a[i],u=[n,s,o.options];if(Te(c,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=ue(i.options&&i.options.plugins,{}),o=XO(i);return s===!1&&!n?[]:QO(e,o,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function XO(t){const e={},n=[],i=Object.keys(fn.plugins.items);for(let o=0;o<i.length;o++)n.push(fn.getPlugin(i[o]));const s=t.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function JO(t,e){return!e&&t===!1?null:t===!0?{}:t}function QO(t,{plugins:e,localIds:n},i,s){const o=[],a=t.getContext();for(const c of e){const u=c.id,d=JO(i[u],s);d!==null&&o.push({plugin:c,options:eA(t.config,{plugin:c,local:n[u]},d,a)})}return o}function eA(t,{plugin:e,local:n},i,s){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(i,o);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hd(t,e){const n=De.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tA(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nA(t,e){return t===e?"_index_":"_value_"}function xv(t){if(t==="x"||t==="y"||t==="r")return t}function iA(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wd(t,...e){if(xv(t))return t;for(const n of e){const i=n.axis||iA(n.position)||t.length>1&&xv(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function wv(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function sA(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return wv(t,"x",n[0])||wv(t,"y",n[0])}return{}}function rA(t,e){const n=ms[t.type]||{scales:{}},i=e.scales||{},s=Hd(t.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!de(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Wd(a,c,sA(a,t),De.scales[c.type]),d=nA(u,s),m=n.scales||{};o[a]=vo(Object.create(null),[{axis:u},c,m[u],m[d]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,u=a.indexAxis||Hd(c,e),m=(ms[c]||{}).scales||{};Object.keys(m).forEach(g=>{const _=tA(g,u),y=a[_+"AxisID"]||_;o[y]=o[y]||Object.create(null),vo(o[y],[{axis:_},i[y],m[g]])})}),Object.keys(o).forEach(a=>{const c=o[a];vo(c,[De.scales[c.type],De.scale])}),o}function d1(t){const e=t.options||(t.options={});e.plugins=ue(e.plugins,{}),e.scales=rA(t,e)}function f1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function oA(t){return t=t||{},t.data=f1(t.data),d1(t),t}const bv=new Map,p1=new Set;function hl(t,e){let n=bv.get(t);return n||(n=e(),bv.set(t,n),p1.add(n)),n}const Yr=(t,e,n)=>{const i=wc(e,n);i!==void 0&&t.add(i)};class aA{constructor(e){this._config=oA(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=f1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),d1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return hl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return hl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return hl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:o}=this,a=this._cachedScopes(e,i),c=a.get(n);if(c)return c;const u=new Set;n.forEach(m=>{e&&(u.add(e),m.forEach(g=>Yr(u,e,g))),m.forEach(g=>Yr(u,s,g)),m.forEach(g=>Yr(u,ms[o]||{},g)),m.forEach(g=>Yr(u,De,g)),m.forEach(g=>Yr(u,Fd,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),p1.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,ms[n]||{},De.datasets[n]||{},{type:n},De,Fd]}resolveNamedOptions(e,n,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=kv(this._resolverCache,e,s);let u=a;if(cA(a,n)){o.$shared=!1,i=Ii(i)?i():i;const d=this.createResolver(e,i,c);u=mr(a,i,d)}for(const d of n)o[d]=u[d];return o}createResolver(e,n,i=[""],s){const{resolver:o}=kv(this._resolverCache,e,i);return de(n)?mr(o,n,void 0,s):o}}function kv(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let o=i.get(s);return o||(o={resolver:_p(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,o)),o}const lA=t=>de(t)&&Object.getOwnPropertyNames(t).some(e=>Ii(t[e]));function cA(t,e){const{isScriptable:n,isIndexable:i}=qw(t);for(const s of e){const o=n(s),a=i(s),c=(a||o)&&t[s];if(o&&(Ii(c)||lA(c))||a&&We(c))return!0}return!1}var uA="4.4.9";const hA=["top","bottom","left","right","chartArea"];function Sv(t,e){return t==="top"||t==="bottom"||hA.indexOf(t)===-1&&e==="x"}function Pv(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Tv(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Te(n&&n.onComplete,[t],e)}function dA(t){const e=t.chart,n=e.options.animation;Te(n&&n.onProgress,[t],e)}function m1(t){return xp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ol={},Ev=t=>{const e=m1(t);return Object.values(Ol).filter(n=>n.canvas===e).pop()};function fA(t,e,n){const i=Object.keys(t);for(const s of i){const o=+s;if(o>=e){const a=t[s];delete t[s],(n>0||o>e)&&(t[o+n]=a)}}}function pA(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var ti;let ma=(ti=class{static register(...e){fn.add(...e),Cv()}static unregister(...e){fn.remove(...e),Cv()}constructor(e,n){const i=this.config=new aA(n),s=m1(e),o=Ev(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||MO(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,m=u&&u.width;if(this.id=wL(),this.ctx=c,this.canvas=u,this.width=m,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=HL(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Ol[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Tn.listen(this,"complete",Tv),Tn.listen(this,"progress",dA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return be(e)?n&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return fn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Q_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Y_(this.canvas,this.ctx),this}stop(){return Tn.stop(this),this}resize(e,n){Tn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Q_(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Te(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};me(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const c=n[a],u=Wd(a,c),d=u==="r",m=u==="x";return{options:c,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),me(o,a=>{const c=a.options,u=c.id,d=Wd(u,c),m=ue(c.type,a.dtype);(c.position===void 0||Sv(c.position,d)!==Sv(a.dposition))&&(c.position=a.dposition),s[u]=!0;let g=null;if(u in i&&i[u].type===m)g=i[u];else{const _=fn.getScale(m);g=new _({id:u,type:m,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,e)}),me(s,(a,c)=>{a||delete i[c]}),me(i,a=>{jt.configure(this,a,a.options),jt.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Pv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||Hd(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=fn.getController(c),{datasetElementType:d,dataElementType:m}=De.datasets[c];Object.assign(u,{dataElementType:fn.getElement(m),datasetElementType:d&&fn.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){me(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:g}=this.getDatasetMeta(d),_=!s&&o.indexOf(g)===-1;g.buildOrUpdateElements(_),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||me(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Pv("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){me(this.scales,e=>{jt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!B_(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const a=i==="_removeElements"?-o:o;fA(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!B_(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],me(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ii(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tn.has(this)?this.attached&&!Tn.running(this)&&Tn.start(this):(this.draw(),Tv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=s1(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Qc(n,s),e.controller.draw(),s&&eu(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ko(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const o=hO.modes[n];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);bc(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Tn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Y_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ol[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};me(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},s=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},o=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){me(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},me(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let o,a,c,u;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!yc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,o=(u,d)=>u.filter(m=>!d.some(g=>m.datasetIndex===g.datasetIndex&&m.index===g.index)),a=o(n,e),c=i?e:o(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(e,s,i,a),u=EL(e),d=pA(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Te(o.onHover,[e,c,this],this),u&&Te(o.onClick,[e,c,this],this));const m=!yc(c,s);return(m||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,m}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}},ie(ti,"defaults",De),ie(ti,"instances",Ol),ie(ti,"overrides",ms),ie(ti,"registry",fn),ie(ti,"version",uA),ie(ti,"getChart",Ev),ti);function Cv(){return me(ma.instances,t=>t._plugins.invalidate())}function g1(t,e,n=e){t.lineCap=ue(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ue(n.borderDash,e.borderDash)),t.lineDashOffset=ue(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ue(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ue(n.borderWidth,e.borderWidth),t.strokeStyle=ue(n.borderColor,e.borderColor)}function mA(t,e,n){t.lineTo(n.x,n.y)}function gA(t){return t.stepped?tM:t.tension||t.cubicInterpolationMode==="monotone"?nM:mA}function _1(t,e,n={}){const i=t.length,{start:s=0,end:o=i-1}=n,{start:a,end:c}=e,u=Math.max(s,a),d=Math.min(o,c),m=s<a&&o<a||s>c&&o>c;return{count:i,start:u,loop:e.loop,ilen:d<u&&!m?i+d-u:d-u}}function _A(t,e,n,i){const{points:s,options:o}=e,{count:a,start:c,loop:u,ilen:d}=_1(s,n,i),m=gA(o);let{move:g=!0,reverse:_}=i||{},y,x,w;for(y=0;y<=d;++y)x=s[(c+(_?d-y:y))%a],!x.skip&&(g?(t.moveTo(x.x,x.y),g=!1):m(t,w,x,_,o.stepped),w=x);return u&&(x=s[(c+(_?d:0))%a],m(t,w,x,_,o.stepped)),!!u}function vA(t,e,n,i){const s=e.points,{count:o,start:a,ilen:c}=_1(s,n,i),{move:u=!0,reverse:d}=i||{};let m=0,g=0,_,y,x,w,k,b;const P=N=>(a+(d?c-N:N))%o,T=()=>{w!==k&&(t.lineTo(m,k),t.lineTo(m,w),t.lineTo(m,b))};for(u&&(y=s[P(0)],t.moveTo(y.x,y.y)),_=0;_<=c;++_){if(y=s[P(_)],y.skip)continue;const N=y.x,I=y.y,A=N|0;A===x?(I<w?w=I:I>k&&(k=I),m=(g*m+N)/++g):(T(),t.lineTo(N,I),x=A,g=0,w=k=I),b=I}T()}function Vd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?vA:_A}function yA(t){return t.stepped?RM:t.tension||t.cubicInterpolationMode==="monotone"?jM:Xi}function xA(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),g1(t,e.options),t.stroke(s)}function wA(t,e,n,i){const{segments:s,options:o}=e,a=Vd(e);for(const c of s)g1(t,o,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const bA=typeof Path2D=="function";function kA(t,e,n,i){bA&&!e.options.segment?xA(t,e,n,i):wA(t,e,n,i)}class Dn extends ws{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;EM(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HM(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],o=this.points,a=i1(this,{property:n,start:s,end:s});if(!a.length)return;const c=[],u=yA(i);let d,m;for(d=0,m=a.length;d<m;++d){const{start:g,end:_}=a[d],y=o[g],x=o[_];if(y===x){c.push(y);continue}const w=Math.abs((s-y[n])/(x[n]-y[n])),k=u(y,x,w,i.stepped);k[n]=e[n],c.push(k)}return c.length===1?c[0]:c}pathSegment(e,n,i){return Vd(this)(e,this,n,i)}path(e,n,i){const s=this.segments,o=Vd(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)a&=o(e,this,c,{start:n,end:n+i-1});return!!a}draw(e,n,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),kA(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ie(Dn,"id","line"),ie(Dn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ie(Dn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ie(Dn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Nv(t,e,n,i){const s=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<s.radius+s.hitRadius}class So extends ws{constructor(n){super();ie(this,"parsed");ie(this,"skip");ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.options,{x:a,y:c}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return Nv(this,n,"x",i)}inYRange(n,i){return Nv(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ko(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Bd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ie(So,"id","point"),ie(So,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ie(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function SA(t,e,n){const i=t.segments,s=t.points,o=e.points,a=[];for(const c of i){let{start:u,end:d}=c;d=kp(u,d,s);const m=$d(n,s[u],s[d],c.loop);if(!e.segments){a.push({source:c,target:m,start:s[u],end:s[d]});continue}const g=i1(e,m);for(const _ of g){const y=$d(n,o[_.start],o[_.end],_.loop),x=n1(c,s,y);for(const w of x)a.push({source:w,target:_,start:{[n]:Iv(m,y,"start",Math.max)},end:{[n]:Iv(m,y,"end",Math.min)}})}}return a}function $d(t,e,n,i){if(i)return;let s=e[t],o=n[t];return t==="angle"&&(s=pn(s),o=pn(o)),{property:t,start:s,end:o}}function PA(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,o=[];return e.segments.forEach(({start:a,end:c})=>{c=kp(a,c,s);const u=s[a],d=s[c];i!==null?(o.push({x:u.x,y:i}),o.push({x:d.x,y:i})):n!==null&&(o.push({x:n,y:u.y}),o.push({x:n,y:d.y}))}),o}function kp(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Iv(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function v1(t,e){let n=[],i=!1;return We(t)?(i=!0,n=t):n=PA(t,e),n.length?new Dn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Lv(t){return t&&t.fill!==!1}function TA(t,e,n){let s=t[e].fill;const o=[e];let a;if(!n)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!rt(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function EA(t,e,n){const i=LA(t);if(de(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return rt(s)&&Math.floor(s)===s?CA(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function CA(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function NA(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:de(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function IA(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:de(t)?i=t.value:i=e.getBaseValue(),i}function LA(t){const e=t.options,n=e.fill;let i=ue(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function MA(t){const{scale:e,index:n,line:i}=t,s=[],o=i.segments,a=i.points,c=OA(e,n);c.push(v1({x:null,y:e.bottom},i));for(let u=0;u<o.length;u++){const d=o[u];for(let m=d.start;m<=d.end;m++)AA(s,a[m],c)}return new Dn({points:s,options:{}})}function OA(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function AA(t,e,n){const i=[];for(let s=0;s<n.length;s++){const o=n[s],{first:a,last:c,point:u}=RA(o,e,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(t.push(u),!c)break}}t.push(...i)}function RA(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],o=t.segments,a=t.points;let c=!1,u=!1;for(let d=0;d<o.length;d++){const m=o[d],g=a[m.start][n],_=a[m.end][n];if(Zs(s,g,_)){c=s===g,u=s===_;break}}return{first:c,last:u,point:i}}class y1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:o,radius:a}=this;return n=n||{start:0,end:tn},e.arc(s,o,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,o=e.angle;return{x:n+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function jA(t){const{chart:e,fill:n,line:i}=t;if(rt(n))return DA(e,n);if(n==="stack")return MA(t);if(n==="shape")return!0;const s=zA(t);return s instanceof y1?s:v1(s,i)}function DA(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function zA(t){return(t.scale||{}).getPointPositionForValue?BA(t):FA(t)}function FA(t){const{scale:e={},fill:n}=t,i=NA(n,e);if(rt(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function BA(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,o=i.reverse?e.max:e.min,a=IA(n,e,o),c=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,o);return new y1({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)c.push(e.getPointPositionForValue(u,a));return c}function Nh(t,e,n){const i=jA(e),{chart:s,index:o,line:a,scale:c,axis:u}=e,d=a.options,m=d.fill,g=d.backgroundColor,{above:_=g,below:y=g}=m||{},x=s.getDatasetMeta(o),w=s1(s,x);i&&a.points.length&&(Qc(t,n),UA(t,{line:a,target:i,above:_,below:y,area:n,scale:c,axis:u,clip:w}),eu(t))}function UA(t,e){const{line:n,target:i,above:s,below:o,area:a,scale:c,clip:u}=e,d=n._loop?"angle":e.axis;t.save(),d==="x"&&o!==s&&(Mv(t,i,a.top),Ov(t,{line:n,target:i,color:s,scale:c,property:d,clip:u}),t.restore(),t.save(),Mv(t,i,a.bottom)),Ov(t,{line:n,target:i,color:o,scale:c,property:d,clip:u}),t.restore()}function Mv(t,e,n){const{segments:i,points:s}=e;let o=!0,a=!1;t.beginPath();for(const c of i){const{start:u,end:d}=c,m=s[u],g=s[kp(u,d,s)];o?(t.moveTo(m.x,m.y),o=!1):(t.lineTo(m.x,n),t.lineTo(m.x,m.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ov(t,e){const{line:n,target:i,property:s,color:o,scale:a,clip:c}=e,u=SA(n,i,s);for(const{source:d,target:m,start:g,end:_}of u){const{style:{backgroundColor:y=o}={}}=d,x=i!==!0;t.save(),t.fillStyle=y,HA(t,a,c,x&&$d(s,g,_)),t.beginPath();const w=!!n.pathSegment(t,d);let k;if(x){w?t.closePath():Av(t,i,_,s);const b=!!i.pathSegment(t,m,{move:w,reverse:!0});k=w&&b,k||Av(t,i,g,s)}t.closePath(),t.fill(k?"evenodd":"nonzero"),t.restore()}}function HA(t,e,n,i){const s=e.chart.chartArea,{property:o,start:a,end:c}=i||{};if(o==="x"||o==="y"){let u,d,m,g;o==="x"?(u=a,d=s.top,m=c,g=s.bottom):(u=s.left,d=a,m=s.right,g=c),t.beginPath(),n&&(u=Math.max(u,n.left),m=Math.min(m,n.right),d=Math.max(d,n.top),g=Math.min(g,n.bottom)),t.rect(u,d,m-u,g-d),t.clip()}}function Av(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var WA={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let o,a,c,u;for(a=0;a<i;++a)o=t.getDatasetMeta(a),c=o.dataset,u=null,c&&c.options&&c instanceof Dn&&(u={visible:t.isDatasetVisible(a),index:a,fill:EA(c,a,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=u,s.push(u);for(a=0;a<i;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=TA(s,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let a=s.length-1;a>=0;--a){const c=s[a].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&Nh(t.ctx,c,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;Lv(o)&&Nh(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Lv(i)||n.drawTime!=="beforeDatasetDraw"||Nh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Rv=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},VA=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jv extends ws{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=it(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Rv(i,o);let d,m;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(a,o,c,u)+10):(m=this.maxHeight,d=this._fitCols(a,s,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],m=s+c;let g=e;o.textAlign="left",o.textBaseline="middle";let _=-1,y=-m;return this.legendItems.forEach((x,w)=>{const k=i+n/2+o.measureText(x.text).width;(w===0||d[d.length-1]+k+2*c>a)&&(g+=m,d[d.length-(w>0?0:1)]=0,y+=m,_++),u[w]={left:0,top:y,row:_,width:k,height:s},d[d.length-1]+=k+c}),g}_fitCols(e,n,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],m=a-e;let g=c,_=0,y=0,x=0,w=0;return this.legendItems.forEach((k,b)=>{const{itemWidth:P,itemHeight:T}=$A(i,n,o,k,s);b>0&&y+T+2*c>m&&(g+=_+c,d.push({width:_,height:y}),x+=_+c,w++,_=y=0),u[b]={left:x,top:y,col:w,width:P,height:T},_=Math.max(_,P),y+=T+c}),g+=_,d.push({width:_,height:y}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,a=nr(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=tt(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=tt(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+s}else{let c=0,u=tt(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=tt(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Qc(e,this),this._draw(),eu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:a}=e,c=De.color,u=nr(e.rtl,this.left,this.width),d=it(a.font),{padding:m}=a,g=d.size,_=g/2;let y;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:x,boxHeight:w,itemHeight:k}=Rv(a,g),b=function(A,R,E){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;s.save();const D=ue(E.lineWidth,1);if(s.fillStyle=ue(E.fillStyle,c),s.lineCap=ue(E.lineCap,"butt"),s.lineDashOffset=ue(E.lineDashOffset,0),s.lineJoin=ue(E.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=ue(E.strokeStyle,c),s.setLineDash(ue(E.lineDash,[])),a.usePointStyle){const B={radius:w*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:D},W=u.xPlus(A,x/2),Z=R+_;Zw(s,B,W,Z,a.pointStyleWidth&&x)}else{const B=R+Math.max((g-w)/2,0),W=u.leftForLtr(A,x),Z=bo(E.borderRadius);s.beginPath(),Object.values(Z).some(ve=>ve!==0)?Ud(s,{x:W,y:B,w:x,h:w,radius:Z}):s.rect(W,B,x,w),s.fill(),D!==0&&s.stroke()}s.restore()},P=function(A,R,E){Yo(s,E.text,A,R+k/2,d,{strikethrough:E.hidden,textAlign:u.textAlign(E.textAlign)})},T=this.isHorizontal(),N=this._computeTitleHeight();T?y={x:tt(o,this.left+m,this.right-i[0]),y:this.top+m+N,line:0}:y={x:this.left+m,y:tt(o,this.top+N+m,this.bottom-n[0].height),line:0},Qw(this.ctx,e.textDirection);const I=k+m;this.legendItems.forEach((A,R)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const E=s.measureText(A.text).width,D=u.textAlign(A.textAlign||(A.textAlign=a.textAlign)),B=x+_+E;let W=y.x,Z=y.y;u.setWidth(this.width),T?R>0&&W+B+m>this.right&&(Z=y.y+=I,y.line++,W=y.x=tt(o,this.left+m,this.right-i[y.line])):R>0&&Z+I>this.bottom&&(W=y.x=W+n[y.line].width+m,y.line++,Z=y.y=tt(o,this.top+N+m,this.bottom-n[y.line].height));const ve=u.x(W);if(b(ve,Z,A),W=WL(D,W+x+_,T?W+B:this.right,e.rtl),P(u.x(W),Z,A),T)y.x+=B+m;else if(typeof A.text!="string"){const ke=d.lineHeight;y.y+=x1(A,ke)+m}else y.y+=I}),e1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=it(n.font),s=Ut(n.padding);if(!n.display)return;const o=nr(e.rtl,this.left,this.width),a=this.ctx,c=n.position,u=i.size/2,d=s.top+u;let m,g=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),m=this.top+d,g=tt(e.align,g,this.right-_);else{const x=this.columnSizes.reduce((w,k)=>Math.max(w,k.height),0);m=d+tt(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const y=tt(c,g,g+_);a.textAlign=o.textAlign(mp(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Yo(a,n.text,y,m,i)}_computeTitleHeight(){const e=this.options.title,n=it(e.font),i=Ut(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,o;if(Zs(e,this.left,this.right)&&Zs(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Zs(e,s.left,s.left+s.width)&&Zs(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!qA(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=VA(s,i);s&&!o&&Te(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&Te(n.onHover,[e,i,this],this)}else i&&Te(n.onClick,[e,i,this],this)}}function $A(t,e,n,i,s){const o=ZA(i,t,e,n),a=GA(s,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function ZA(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),e+n.size/2+i.measureText(s).width}function GA(t,e,n){let i=t;return typeof e.text!="string"&&(i=x1(e,n)),i}function x1(t,e){const n=t.text?t.text.length:0;return e*n}function qA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var w1={id:"legend",_element:jv,start(t,e,n){const i=t.legend=new jv({ctx:t.ctx,options:n,chart:t});jt.configure(t,i,n),jt.addBox(t,i)},stop(t){jt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;jt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),m=Ut(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class b1 extends ws{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=We(i.text)?i.text.length:1;this._padding=Ut(i.padding);const o=s*it(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:o,options:a}=this,c=a.align;let u=0,d,m,g;return this.isHorizontal()?(m=tt(c,i,o),g=n+e,d=o-i):(a.position==="left"?(m=i+e,g=tt(c,s,n),u=qe*-.5):(m=o-e,g=tt(c,n,s),u=qe*.5),d=s-n),{titleX:m,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=it(n.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(o);Yo(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:mp(n.align),textBaseline:"middle",translation:[a,c]})}}function KA(t,e){const n=new b1({ctx:t.ctx,options:e,chart:t});jt.configure(t,n,e),jt.addBox(t,n),t.titleBlock=n}var k1={id:"title",_element:b1,start(t,e,n){KA(t,n)},stop(t){const e=t.titleBlock;jt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;jt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oo={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,o=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),s+=u.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:s/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,a,c;for(o=0,a=t.length;o<a;++o){const u=t[o].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),m=zd(e,d);m<s&&(s=m,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function hn(t,e){return e&&(We(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function En(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YA(t,e){const{element:n,datasetIndex:i,index:s}=e,o=t.getDatasetMeta(i).controller,{label:a,value:c}=o.getLabelAndValue(s);return{chart:t,label:a,parsed:o.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:c,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Dv(t,e){const n=t.chart.ctx,{body:i,footer:s,title:o}=t,{boxWidth:a,boxHeight:c}=e,u=it(e.bodyFont),d=it(e.titleFont),m=it(e.footerFont),g=o.length,_=s.length,y=i.length,x=Ut(e.padding);let w=x.height,k=0,b=i.reduce((N,I)=>N+I.before.length+I.lines.length+I.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,g&&(w+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),b){const N=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;w+=y*N+(b-y)*u.lineHeight+(b-1)*e.bodySpacing}_&&(w+=e.footerMarginTop+_*m.lineHeight+(_-1)*e.footerSpacing);let P=0;const T=function(N){k=Math.max(k,n.measureText(N).width+P)};return n.save(),n.font=d.string,me(t.title,T),n.font=u.string,me(t.beforeBody.concat(t.afterBody),T),P=e.displayColors?a+2+e.boxPadding:0,me(i,N=>{me(N.before,T),me(N.lines,T),me(N.after,T)}),P=0,n.font=m.string,me(t.footer,T),n.restore(),k+=x.width,{width:k,height:w}}function XA(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function JA(t,e,n,i){const{x:s,width:o}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&s+o+a>e.width||t==="right"&&s-o-a<0)return!0}function QA(t,e,n,i){const{x:s,width:o}=n,{width:a,chartArea:{left:c,right:u}}=t;let d="center";return i==="center"?d=s<=(c+u)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),JA(d,t,e,n)&&(d="center"),d}function zv(t,e,n){const i=n.yAlign||e.yAlign||XA(t,n);return{xAlign:n.xAlign||e.xAlign||QA(t,e,n,i),yAlign:i}}function eR(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function tR(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function Fv(t,e,n,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=t,{xAlign:c,yAlign:u}=n,d=s+o,{topLeft:m,topRight:g,bottomLeft:_,bottomRight:y}=bo(a);let x=eR(e,c);const w=tR(e,u,d);return u==="center"?c==="left"?x+=d:c==="right"&&(x-=d):c==="left"?x-=Math.max(m,_)+s:c==="right"&&(x+=Math.max(g,y)+s),{x:Rt(x,0,i.width-e.width),y:Rt(w,0,i.height-e.height)}}function dl(t,e,n){const i=Ut(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Bv(t){return hn([],En(t))}function nR(t,e,n){return xs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Uv(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const S1={beforeTitle:Pn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Pn,beforeBody:Pn,beforeLabel:Pn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return be(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pn,afterBody:Pn,beforeFooter:Pn,footer:Pn,afterFooter:Pn};function pt(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?S1[e].call(n,i):s}class Zd extends ws{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new r1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=nR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=pt(i,"beforeTitle",this,e),o=pt(i,"title",this,e),a=pt(i,"afterTitle",this,e);let c=[];return c=hn(c,En(s)),c=hn(c,En(o)),c=hn(c,En(a)),c}getBeforeBody(e,n){return Bv(pt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return me(e,o=>{const a={before:[],lines:[],after:[]},c=Uv(i,o);hn(a.before,En(pt(c,"beforeLabel",this,o))),hn(a.lines,pt(c,"label",this,o)),hn(a.after,En(pt(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,n){return Bv(pt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=pt(i,"beforeFooter",this,e),o=pt(i,"footer",this,e),a=pt(i,"afterFooter",this,e);let c=[];return c=hn(c,En(s)),c=hn(c,En(o)),c=hn(c,En(a)),c}_createItems(e){const n=this._active,i=this.chart.data,s=[],o=[],a=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(YA(this.chart,n[u]));return e.filter&&(c=c.filter((m,g,_)=>e.filter(m,g,_,i))),e.itemSort&&(c=c.sort((m,g)=>e.itemSort(m,g,i))),me(c,m=>{const g=Uv(e.callbacks,m);s.push(pt(g,"labelColor",this,m)),o.push(pt(g,"labelPointStyle",this,m)),a.push(pt(g,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const c=oo[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=Dv(this,i),d=Object.assign({},c,u),m=zv(this.chart,i,d),g=Fv(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const o=this.getCaretPosition(e,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:m,bottomRight:g}=bo(c),{x:_,y}=e,{width:x,height:w}=n;let k,b,P,T,N,I;return o==="center"?(N=y+w/2,s==="left"?(k=_,b=k-a,T=N+a,I=N-a):(k=_+x,b=k+a,T=N-a,I=N+a),P=k):(s==="left"?b=_+Math.max(u,m)+a:s==="right"?b=_+x-Math.max(d,g)-a:b=this.caretX,o==="top"?(T=y,N=T-a,k=b-a,P=b+a):(T=y+w,N=T+a,k=b+a,P=b-a),I=T),{x1:k,x2:b,x3:P,y1:T,y2:N,y3:I}}drawTitle(e,n,i){const s=this.title,o=s.length;let a,c,u;if(o){const d=nr(i.rtl,this.x,this.width);for(e.x=dl(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=it(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<o;++u)n.fillText(s[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===o&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,s,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=o,m=it(o.bodyFont),g=dl(this,"left",o),_=s.x(g),y=u<m.lineHeight?(m.lineHeight-u)/2:0,x=n.y+y;if(o.usePointStyle){const w={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=s.leftForLtr(_,d)+d/2,b=x+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Bd(e,w,k,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Bd(e,w,k,b)}else{e.lineWidth=de(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=s.leftForLtr(_,d),k=s.leftForLtr(s.xPlus(_,1),d-2),b=bo(a.borderRadius);Object.values(b).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ud(e,{x:w,y:x,w:d,h:u,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ud(e,{x:k,y:x+1,w:d-2,h:u-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(w,x,d,u),e.strokeRect(w,x,d,u),e.fillStyle=a.backgroundColor,e.fillRect(k,x+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:m}=i,g=it(i.bodyFont);let _=g.lineHeight,y=0;const x=nr(i.rtl,this.x,this.width),w=function(E){n.fillText(E,x.x(e.x+y),e.y+_/2),e.y+=_+o},k=x.textAlign(a);let b,P,T,N,I,A,R;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=dl(this,k,i),n.fillStyle=i.bodyColor,me(this.beforeBody,w),y=c&&k!=="right"?a==="center"?d/2+m:d+2+m:0,N=0,A=s.length;N<A;++N){for(b=s[N],P=this.labelTextColors[N],n.fillStyle=P,me(b.before,w),T=b.lines,c&&T.length&&(this._drawColorBox(n,e,N,x,i),_=Math.max(g.lineHeight,u)),I=0,R=T.length;I<R;++I)w(T[I]),_=g.lineHeight;me(b.after,w)}y=0,_=g.lineHeight,me(this.afterBody,w),e.y-=o}drawFooter(e,n,i){const s=this.footer,o=s.length;let a,c;if(o){const u=nr(i.rtl,this.x,this.width);for(e.x=dl(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=it(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:o,yAlign:a}=this,{x:c,y:u}=e,{width:d,height:m}=i,{topLeft:g,topRight:_,bottomLeft:y,bottomRight:x}=bo(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+g,u),a==="top"&&this.drawCaret(e,n,i,s),n.lineTo(c+d-_,u),n.quadraticCurveTo(c+d,u,c+d,u+_),a==="center"&&o==="right"&&this.drawCaret(e,n,i,s),n.lineTo(c+d,u+m-x),n.quadraticCurveTo(c+d,u+m,c+d-x,u+m),a==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(c+y,u+m),n.quadraticCurveTo(c,u+m,c,u+m-y),a==="center"&&o==="left"&&this.drawCaret(e,n,i,s),n.lineTo(c,u+g),n.quadraticCurveTo(c,u,c+g,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=oo[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=Dv(this,e),u=Object.assign({},a,this._size),d=zv(n,e,u),m=Fv(e,u,d,n);(s._to!==m.x||o._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Ut(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,n),Qw(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),e1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),o=!yc(i,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,i),c=this._positionChanged(a,e),u=n||!yc(a,o)||c;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:s,options:o}=this,a=oo[o.position].call(this,e,n);return a!==!1&&(i!==a.x||s!==a.y)}}ie(Zd,"positioners",oo);var P1={id:"tooltip",_element:Zd,positioners:oo,afterInit(t,e,n){n&&(t.tooltip=new Zd({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:S1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const iR=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function sR(t,e,n,i){const s=t.indexOf(e);if(s===-1)return iR(t,e,n,i);const o=t.lastIndexOf(e);return s!==o?n:s}const rR=(t,e)=>t===null?null:Rt(Math.round(t),0,e);function Hv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Tc extends kr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(be(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:sR(i,e,ue(n,e),this._addedLabels),rR(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return Hv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ie(Tc,"id","category"),ie(Tc,"defaults",{ticks:{callback:Hv}});function oR(t,e){const n=[],{bounds:s,step:o,min:a,max:c,precision:u,count:d,maxTicks:m,maxDigits:g,includeBounds:_}=t,y=o||1,x=m-1,{min:w,max:k}=e,b=!be(a),P=!be(c),T=!be(d),N=(k-w)/(g+1);let I=H_((k-w)/x/y)*y,A,R,E,D;if(I<1e-14&&!b&&!P)return[{value:w},{value:k}];D=Math.ceil(k/I)-Math.floor(w/I),D>x&&(I=H_(D*I/x/y)*y),be(u)||(A=Math.pow(10,u),I=Math.ceil(I*A)/A),s==="ticks"?(R=Math.floor(w/I)*I,E=Math.ceil(k/I)*I):(R=w,E=k),b&&P&&o&&ML((c-a)/o,I/1e3)?(D=Math.round(Math.min((c-a)/I,m)),I=(c-a)/D,R=a,E=c):T?(R=b?a:R,E=P?c:E,D=d-1,I=(E-R)/D):(D=(E-R)/I,yo(D,Math.round(D),I/1e3)?D=Math.round(D):D=Math.ceil(D));const B=Math.max(W_(I),W_(R));A=Math.pow(10,be(u)?B:u),R=Math.round(R*A)/A,E=Math.round(E*A)/A;let W=0;for(b&&(_&&R!==a?(n.push({value:a}),R<a&&W++,yo(Math.round((R+W*I)*A)/A,a,Wv(a,N,t))&&W++):R<a&&W++);W<D;++W){const Z=Math.round((R+W*I)*A)/A;if(P&&Z>c)break;n.push({value:Z})}return P&&_&&E!==c?n.length&&yo(n[n.length-1].value,c,Wv(c,N,t))?n[n.length-1].value=c:n.push({value:c}):(!P||E===c)&&n.push({value:E}),n}function Wv(t,e,{horizontal:n,minRotation:i}){const s=ns(i),o=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class aR extends kr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return be(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=u=>s=n?s:u,c=u=>o=i?o:u;if(e){const u=pr(s),d=pr(o);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(s===o){let u=o===0?1:Math.abs(o*.05);c(o+u),e||a(s-u)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=oR(s,o);return e.bounds==="ticks"&&OL(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ww(e,this.chart.options.locale,this.options.ticks.format)}}class Ec extends aR{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=rt(e)?e:0,this.max=rt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ns(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ie(Ec,"id","linear"),ie(Ec,"defaults",{ticks:{callback:$w.formatters.numeric}});const nu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gt=Object.keys(nu);function Vv(t,e){return t-e}function $v(t,e){if(be(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:o}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),rt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(qo(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,s)),+a)}function Zv(t,e,n,i){const s=gt.length;for(let o=gt.indexOf(t);o<s-1;++o){const a=nu[gt[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=i)return gt[o]}return gt[s-1]}function lR(t,e,n,i,s){for(let o=gt.length-1;o>=gt.indexOf(n);o--){const a=gt[o];if(nu[a].common&&t._adapter.diff(s,i,a)>=e-1)return a}return gt[n?gt.indexOf(n):0]}function cR(t){for(let e=gt.indexOf(t)+1,n=gt.length;e<n;++e)if(nu[gt[e]].common)return gt[e]}function Gv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=pp(n,e),o=n[i]>=e?n[i]:n[s];t[o]=!0}}function uR(t,e,n,i){const s=t._adapter,o=+s.startOf(e[0].value,i),a=e[e.length-1].value;let c,u;for(c=o;c<=a;c=+s.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function qv(t,e,n){const i=[],s={},o=e.length;let a,c;for(a=0;a<o;++a)c=e[a],s[c]=a,i.push({value:c,major:!1});return o===0||!n?i:uR(t,i,s,n)}class Cc extends kr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new oO._date(e.adapters.date);s.init(n),vo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:$v(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=rt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=rt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,c=FL(s,o,a);return this._unit=n.unit||(i.autoSkip?Zv(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):lR(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:cR(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),qv(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Rt(n,0,a),i=Rt(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||Zv(o.minUnit,n,i,this._getLabelCapacity(n)),c=ue(s.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,d=qo(u)||u===!0,m={};let g=n,_,y;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":a),e.diff(i,n,a)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(_=g,y=0;_<i;_=+e.add(_,c,a),y++)Gv(m,_,x);return(_===i||s.bounds==="ticks"||y===1)&&Gv(m,_,x),Object.keys(m).sort(Vv).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,s){const o=this.options,a=o.ticks.callback;if(a)return Te(a,[e,n,i],this);const c=o.time.displayFormats,u=this._unit,d=this._majorUnit,m=u&&c[u],g=d&&c[d],_=i[n],y=d&&g&&_&&_.major;return this._adapter.format(e,s||(y?g:m))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ns(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,qv(this,[e],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push($v(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return UL(e.sort(Vv))}}ie(Cc,"id","time"),ie(Cc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fl(t,e,n){let i=0,s=t.length-1,o,a,c,u;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=is(t,"pos",e)),{pos:o,time:c}=t[i],{pos:a,time:u}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=is(t,"time",e)),{time:o,pos:c}=t[i],{time:a,pos:u}=t[s]);const d=a-o;return d?c+(u-c)*(e-o)/d:c}class Kv extends Cc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=fl(n,this.min),this._tableRange=fl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],o=[];let a,c,u,d,m;for(a=0,c=e.length;a<c;++a)d=e[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,c=s.length;a<c;++a)m=s[a+1],u=s[a-1],d=s[a],Math.round((m+u)/2)!==d&&o.push({time:d,pos:a/(c-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(fl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return fl(this._table,i*this._tableRange+this._minPos,!0)}}ie(Kv,"id","timeseries"),ie(Kv,"defaults",Cc.defaults);const T1="label";function Yv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function E1(t,e){t.labels=e}function C1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T1;const i=[];t.datasets=e.map(s=>{const o=t.datasets.find(a=>a[n]===s[n]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function dR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T1;const n={labels:[],datasets:[]};return E1(n,t.labels),C1(n,t.datasets,e),n}function fR(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:c,options:u,plugins:d=[],fallbackContent:m,updateMode:g,..._}=t,y=O.useRef(null),x=O.useRef(null),w=()=>{y.current&&(x.current=new ma(y.current,{type:a,data:dR(c,o),options:u&&{...u},plugins:d}),Yv(e,x.current))},k=()=>{Yv(e,null),x.current&&(x.current.destroy(),x.current=null)};return O.useEffect(()=>{!s&&x.current&&u&&hR(x.current,u)},[s,u]),O.useEffect(()=>{!s&&x.current&&E1(x.current.config.data,c.labels)},[s,c.labels]),O.useEffect(()=>{!s&&x.current&&c.datasets&&C1(x.current.config.data,c.datasets,o)},[s,c.datasets]),O.useEffect(()=>{x.current&&(s?(k(),setTimeout(w)):x.current.update(g))},[s,u,c.labels,c.datasets,g]),O.useEffect(()=>{x.current&&(k(),setTimeout(w))},[a]),O.useEffect(()=>(w(),()=>k()),[]),Qo.createElement("canvas",{ref:y,role:"img",height:n,width:i,..._},m)}const pR=O.forwardRef(fR);function mR(t,e){return ma.register(e),O.forwardRef((n,i)=>Qo.createElement(pR,{...n,ref:i,type:t}))}const N1=mR("line",Ll);ma.register(Tc,Ec,So,Dn,k1,P1,w1,WA);const gR=({route:t})=>{const{theme:e}=qc(),n=e==="dark",i=t.segments.flatMap(g=>g.points),s=Math.max(1,Math.floor(i.length/100)),o=i.filter((g,_)=>_%s===0);let a=0;const c=[],u=[];o.forEach((g,_)=>{if(_>0){const y=o[_-1],x=y.position.lat,w=y.position.lon,k=g.position.lat,b=g.position.lon,P=6371e3,T=x*Math.PI/180,N=k*Math.PI/180,I=(k-x)*Math.PI/180,A=(b-w)*Math.PI/180,R=Math.sin(I/2)*Math.sin(I/2)+Math.cos(T)*Math.cos(N)*Math.sin(A/2)*Math.sin(A/2),E=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)),D=P*E;a+=D}c.push(a),u.push(g.position.ele)});const d={labels:c.map(g=>fr(g)),datasets:[{label:"Elevation (m)",data:u,borderColor:"#0F7BFF",backgroundColor:"rgba(15, 123, 255, 0.2)",borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:5}]},m={responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Distance",color:n?"#9CA3AF":"#6B7280"},ticks:{maxTicksLimit:8,color:n?"#9CA3AF":"#6B7280"},grid:{display:!1}},y:{display:!0,title:{display:!0,text:"Elevation (m)",color:n?"#9CA3AF":"#6B7280"},ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{color:n?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:n?"#1E293B":"#FFFFFF",titleColor:n?"#F9FAFB":"#1A1A1A",bodyColor:n?"#F9FAFB":"#1A1A1A",borderColor:n?"#334155":"#E5E7EB",borderWidth:1,callbacks:{label:function(g){return`Elevation: ${g.raw}m`}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return f.jsx(N1,{data:d,options:m})};ma.register(Tc,Ec,So,Dn,k1,P1,w1);const _R=({route:t})=>{const{theme:e}=qc(),n=e==="dark",i=O.useMemo(()=>{const o=t.segments.flatMap(_=>_.points),a=Math.max(1,Math.floor(o.length/100)),c=o.filter((_,y)=>y%a===0);let u=0;const d=[],m=[],g=[];return c.forEach((_,y)=>{if(y>0){const x=c[y-1],w=x.position.lat,k=x.position.lon,b=_.position.lat,P=_.position.lon,T=6371e3,N=w*Math.PI/180,I=b*Math.PI/180,A=(b-w)*Math.PI/180,R=(P-k)*Math.PI/180,E=Math.sin(A/2)*Math.sin(A/2)+Math.cos(N)*Math.cos(I)*Math.sin(R/2)*Math.sin(R/2),D=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E)),B=T*D;u+=B}d.push(u),m.push(_.speed?_.speed*3.6:0),g.push(_.heartRate||0)}),{labels:d.map(_=>fr(_)),datasets:[{label:"Speed (km/h)",data:m,borderColor:"#0F7BFF",backgroundColor:"#0F7BFF",borderWidth:2,yAxisID:"y",tension:.3,pointRadius:0},{label:"Heart Rate (bpm)",data:g.some(_=>_>0)?g:[],borderColor:"#F97316",backgroundColor:"#F97316",borderWidth:2,yAxisID:"y1",tension:.3,pointRadius:0,hidden:!g.some(_=>_>0)}]}},[t]),s={responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Distance",color:n?"#9CA3AF":"#6B7280"},ticks:{maxTicksLimit:8,color:n?"#9CA3AF":"#6B7280"},grid:{display:!1}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Speed (km/h)",color:"#0F7BFF"},ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{color:n?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}},y1:{type:"linear",display:i.datasets[1].data.some(o=>o>0),position:"right",title:{display:!0,text:"Heart Rate (bpm)",color:"#F97316"},ticks:{color:n?"#9CA3AF":"#6B7280"},grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top",labels:{color:n?"#F9FAFB":"#1A1A1A",usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:n?"#1E293B":"#FFFFFF",titleColor:n?"#F9FAFB":"#1A1A1A",bodyColor:n?"#F9FAFB":"#1A1A1A",borderColor:n?"#334155":"#E5E7EB",borderWidth:1}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return f.jsx(N1,{data:i,options:s})},vR=()=>{const{id:t}=rT(),e=xr(),{getRoute:n,deleteRoute:i,groups:s,setGroups:o}=Jc(),[a,c]=O.useState(t?n(t):void 0),[u,d]=O.useState(!1),[m,g]=O.useState(()=>{const x=s.find(w=>w.routeIds.includes(t));return x?x.id:""});if(O.useEffect(()=>{const x=s.find(w=>w.routeIds.includes(t));g(x?x.id:"")},[s,t]),O.useEffect(()=>{if(t){const x=n(t);x?c(x):e("/")}},[t,n,e]),!a)return f.jsx("div",{className:"p-6",children:"Loading route..."});const _=()=>{t&&(i(t),e("/dashboard"))},y=async()=>{if(navigator.share)try{await navigator.share({title:a.name,text:`Check out my route: ${a.name}`,url:window.location.href})}catch(x){console.log("Error sharing:",x)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return f.jsxs("div",{className:"fade-in pb-16 md:pb-8",children:[f.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-background",children:f.jsx(RT,{size:20})}),f.jsx("h1",{className:"text-2xl font-bold",children:a.name})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{className:"btn btn-outline mr-1",value:m,onChange:x=>{if(a){const k=s.map(b=>({...b,routeIds:b.routeIds.filter(P=>P!==a.id)}));o(k),localStorage.setItem("routeGroups",JSON.stringify(k))}const w=x.target.value;if(g(w),w&&a){const k=s.map(b=>{const P=b.routeIds.filter(T=>T!==a.id);return b.id===w?{...b,routeIds:[...P,a.id]}:{...b,routeIds:P}});o(k),localStorage.setItem("routeGroups",JSON.stringify(k))}},children:[f.jsx("option",{value:"",children:"Add to group..."}),s.map(x=>f.jsx("option",{value:x.id,children:x.name},x.id))]}),f.jsx("button",{onClick:y,className:"btn btn-outline",children:f.jsx(N0,{size:18})}),f.jsx("button",{onClick:()=>d(!0),className:"btn text-text-light hover:text-white hover:bg-red-500 transition-colors",children:f.jsx(Zf,{size:18})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[f.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:f.jsx(Vf,{className:"text-primary",size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-text-light text-sm",children:"Date"}),f.jsx("p",{className:"font-semibold",children:cp(new Date(a.date))})]})]}),f.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:f.jsx("svg",{className:"text-accent",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:f.jsx("path",{d:"M12 2L4 9H11L3 22H21L13 9H20L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-text-light text-sm",children:"Distance"}),f.jsx("p",{className:"font-semibold",children:fr(a.totalDistance)})]})]}),f.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/30",children:f.jsx(L0,{className:"text-purple-500",size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-text-light text-sm",children:"Duration"}),f.jsx("p",{className:"font-semibold",children:vc(a.totalDuration)})]})]}),f.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/30",children:f.jsx(P0,{className:"text-orange-500",size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-text-light text-sm",children:"Elevation"}),f.jsx("p",{className:"font-semibold",children:$I(a.totalElevationGain)})]})]})]}),f.jsx("div",{className:"card mb-6 overflow-hidden",children:f.jsx("div",{className:"h-72 sm:h-96 w-full",children:f.jsx(JI,{route:a})})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{className:"card p-4",children:[f.jsx("h3",{className:"font-bold mb-3",children:"Elevation Profile"}),f.jsx("div",{className:"h-48 md:h-64",children:f.jsx(gR,{route:a})})]}),f.jsxs("div",{className:"card p-4",children:[f.jsx("h3",{className:"font-bold mb-3",children:"Speed & Heart Rate"}),f.jsx("div",{className:"h-48 md:h-64",children:f.jsx(_R,{route:a})})]})]}),u&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 p-4",children:f.jsxs("div",{className:"card max-w-md w-full p-6 fade-in slide-up",children:[f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Delete Route?"}),f.jsxs("p",{className:"text-text-light mb-6",children:["Are you sure you want to delete ",f.jsx("span",{className:"font-medium",children:a.name}),"? This action cannot be undone."]}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{className:"btn text-text-light hover:bg-background",onClick:()=>d(!1),children:"Cancel"}),f.jsx("button",{className:"btn bg-red-500 text-white hover:bg-red-600",onClick:_,children:"Delete"})]})]})})]})},yR=()=>{const t=xr(),{addRoute:e,loading:n}=Jc(),[i,s]=O.useState(!1),[o,a]=O.useState(null),[c,u]=O.useState(null),d=O.useRef(null),m=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?s(!0):k.type==="dragleave"&&s(!1)},g=k=>k.name.toLowerCase().endsWith(".gpx")?k.size>10*1024*1024?(u("File size exceeds 10MB limit"),!1):!0:(u("Only GPX files are supported"),!1),_=async k=>{if(k.preventDefault(),k.stopPropagation(),s(!1),u(null),k.dataTransfer.files&&k.dataTransfer.files.length>0){const b=k.dataTransfer.files[0];g(b)&&a(b)}},y=k=>{if(k.preventDefault(),u(null),k.target.files&&k.target.files.length>0){const b=k.target.files[0];g(b)&&a(b)}},x=async()=>{if(o)try{await e(o)?t("/dashboard"):u("Failed to parse GPX file")}catch(k){u("An error occurred while processing the file"),console.error(k)}},w=()=>{d.current&&d.current.click()};return f.jsxs("div",{className:"fade-in max-w-2xl mx-auto",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Upload Route"}),f.jsx("p",{className:"text-text-light",children:"Upload a GPX file to add a new route"})]}),f.jsx("div",{className:"card mb-6",children:f.jsx("div",{className:`
            p-8 border-2 border-dashed rounded-xl flex flex-col items-center justify-center text-center
            ${i?"border-primary bg-primary/5":"border-border"}
            ${c?"border-red-500 bg-red-50 dark:bg-red-900/10":""}
            transition-all duration-200
          `,onDragEnter:m,onDragOver:m,onDragLeave:m,onDrop:_,style:{minHeight:"16rem"},children:o?f.jsxs("div",{className:"fade-in",children:[f.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(UT,{size:28,className:"text-primary"})}),f.jsx("h3",{className:"text-lg font-semibold mb-1",children:o.name}),f.jsxs("p",{className:"text-text-light mb-4",children:[(o.size/1024).toFixed(1)," KB"]}),f.jsx("button",{className:"btn btn-primary",onClick:x,disabled:n,children:n?f.jsxs(f.Fragment,{children:[f.jsx(GT,{size:18,className:"animate-spin mr-2"}),"Processing..."]}):"Upload Route"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(ra,{size:28,className:"text-primary"})}),c?f.jsxs("div",{className:"mb-4 text-red-500 flex items-center gap-2 font-medium",children:[f.jsx(b0,{size:18}),f.jsx("span",{children:c})]}):f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Drag & Drop your GPX file here"}),f.jsx("p",{className:"text-text-light mb-6",children:"or click to browse your files"}),f.jsx("button",{className:"btn btn-primary",onClick:w,children:"Browse Files"}),f.jsx("input",{ref:d,type:"file",accept:".gpx",className:"hidden",onChange:y})]})})}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About GPX Files"}),f.jsx("p",{className:"text-text-light mb-4",children:"GPX (GPS Exchange Format) is a common file format for GPS data. You can export GPX files from popular fitness apps and GPS devices such as:"}),f.jsxs("ul",{className:"list-disc pl-6 text-text-light space-y-2",children:[f.jsx("li",{children:"Garmin Connect"}),f.jsx("li",{children:"Strava"}),f.jsx("li",{children:"Komoot"}),f.jsx("li",{children:"MapMyRun"}),f.jsx("li",{children:"RunKeeper"}),f.jsx("li",{children:"Most GPS watches and bike computers"})]})]})]})},xR=()=>{const{theme:t,toggleTheme:e}=qc(),{routes:n}=Jc(),{syncStatus:i,isOnline:s,isSyncing:o,performSync:a,markForSync:c}=lp();xr();const[u,d]=O.useState(!1),[m,g]=O.useState(!1),[_,y]=O.useState(""),[x,w]=O.useState(""),[k,b]=O.useState(()=>{const E=localStorage.getItem("trackers");return E?JSON.parse(E):[]});O.useState(null),Qo.useEffect(()=>{localStorage.setItem("trackers",JSON.stringify(k))},[k]);const P=()=>{if(_.length!==4||!/^\d+$/.test(_)){alert("Please enter a valid 4-digit code");return}const E={id:Date.now().toString(),code:_,label:x||`Tracker ${_}`,lastSync:new Date,settings:{updateInterval:60,powerSaveMode:!1,geofenceRadius:100}};b([...k,E]),y(""),w(""),g(!1),c("tracker",E.id)},T=(E,D)=>{b(k.map(B=>B.id===E?{...B,settings:{...B.settings,...D}}:B)),c("tracker",E)},N=E=>{confirm("Are you sure you want to delete this tracker?")&&b(k.filter(D=>D.id!==E))},I=()=>{try{const E=localStorage.getItem("gpxRoutes");if(!E)return"0 KB";const D=new Blob([E]).size;return D<1024?`${D} B`:D<1048576?`${(D/1024).toFixed(1)} KB`:`${(D/1048576).toFixed(1)} MB`}catch{return"Unknown"}},A=()=>{localStorage.removeItem("gpxRoutes"),localStorage.removeItem("trackers"),localStorage.removeItem("pendingSync"),window.location.href="/dashboard"},R=E=>{const B=new Date().getTime()-E.getTime(),W=Math.floor(B/6e4);if(W<1)return"Just now";if(W<60)return`${W}m ago`;const Z=Math.floor(W/60);return Z<24?`${Z}h ago`:`${Math.floor(Z/24)}d ago`};return f.jsxs("div",{className:"max-w-2xl mx-auto fade-in",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Settings"}),f.jsx("p",{className:"text-text-light",children:"Customize your GPS Route Tracker experience"})]}),f.jsxs("div",{className:"card mb-6",children:[f.jsxs("div",{className:"p-6 border-b border-border",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Sync Status"}),f.jsx("p",{className:"text-text-light text-sm",children:"Data synchronization with cloud services"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[s?f.jsx(O0,{size:20,className:"text-green-500"}):f.jsx(M0,{size:20,className:"text-red-500"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:s?"Online":"Offline"}),f.jsxs("p",{className:"text-sm text-text-light",children:["Last sync: ",R(i.lastSync)]})]})]}),f.jsxs("button",{onClick:a,disabled:!s||o,className:"btn btn-outline disabled:opacity-50",children:[f.jsx(E0,{size:18,className:o?"animate-spin":""}),o?"Syncing...":"Sync Now"]})]}),i.pending>0&&f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[i.pending," items pending sync"]})}),i.failed>0&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[i.failed," items failed to sync"]})})]})]}),f.jsxs("div",{className:"card mb-6",children:[f.jsx("div",{className:"p-6 border-b border-border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold",children:"GPS Trackers"}),f.jsx("p",{className:"text-text-light text-sm",children:"Manage your connected tracking devices"})]}),f.jsxs("button",{onClick:()=>g(!0),className:"btn btn-primary",children:[f.jsx(T0,{size:18,className:"mr-2"}),"Add Tracker"]})]})}),f.jsxs("div",{className:"divide-y divide-border",children:[k.map(E=>f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:f.jsx(tE,{size:20,className:"text-primary"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:E.label}),f.jsxs("p",{className:"text-sm text-text-light",children:["Code: ",E.code]}),f.jsxs("p",{className:"text-xs text-text-light",children:["Last sync: ",new Date(E.lastSync).toLocaleString()]})]})]}),f.jsx("button",{onClick:()=>N(E.id),className:"p-2 text-text-light hover:text-red-500 transition-colors","aria-label":"Delete tracker",children:f.jsx(nE,{size:18})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Update Interval (seconds)"}),f.jsx("input",{type:"number",value:E.settings.updateInterval,onChange:D=>T(E.id,{updateInterval:parseInt(D.target.value)}),className:"input-field",min:"30",max:"3600"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Geofence Radius (meters)"}),f.jsx("input",{type:"number",value:E.settings.geofenceRadius,onChange:D=>T(E.id,{geofenceRadius:parseInt(D.target.value)}),className:"input-field",min:"50",max:"1000"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium",children:"Power Save Mode"}),f.jsx("p",{className:"text-xs text-text-light",children:"Extends battery life by reducing update frequency"})]}),f.jsx("button",{onClick:()=>T(E.id,{powerSaveMode:!E.settings.powerSaveMode}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${E.settings.powerSaveMode?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${E.settings.powerSaveMode?"translate-x-6":"translate-x-1"}`})})]})]})]},E.id)),k.length===0&&f.jsxs("div",{className:"p-6 text-center text-text-light",children:[f.jsx(ai,{size:24,className:"mx-auto mb-2"}),f.jsx("p",{children:"No trackers added yet"})]})]})]}),f.jsxs("div",{className:"card mb-6",children:[f.jsxs("div",{className:"p-6 border-b border-border",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Appearance"}),f.jsx("p",{className:"text-text-light text-sm",children:"Customize the app appearance"})]}),f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[t==="dark"?f.jsx(S0,{size:20,className:"text-text-light"}):f.jsx(I0,{size:20,className:"text-text-light"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Theme"}),f.jsxs("p",{className:"text-sm text-text-light",children:["Current: ",t==="dark"?"Dark Mode":"Light Mode"]})]})]}),f.jsx("button",{onClick:e,className:"btn btn-outline","aria-label":"Toggle theme",children:t==="dark"?"Light Mode":"Dark Mode"})]})})]}),f.jsxs("div",{className:"card mb-6",children:[f.jsxs("div",{className:"p-6 border-b border-border",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Data Management"}),f.jsx("p",{className:"text-text-light text-sm",children:"Manage your route data"})]}),f.jsx("div",{className:"p-6 border-b border-border",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(zT,{size:20,className:"text-text-light"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Storage Usage"}),f.jsxs("p",{className:"text-sm text-text-light",children:[I()," • ",n.length," routes • ",k.length," trackers"]})]})]})})}),f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Zf,{size:20,className:"text-red-500"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Clear All Data"}),f.jsx("p",{className:"text-sm text-text-light",children:"Delete all saved routes, trackers, and reset app"})]})]}),f.jsx("button",{onClick:()=>d(!0),className:"btn bg-red-500 text-white hover:bg-red-600",disabled:n.length===0&&k.length===0,"aria-label":"Clear all data",children:"Clear Data"})]})})]}),f.jsxs("div",{className:"card mb-6",children:[f.jsxs("div",{className:"p-6 border-b border-border",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"About"}),f.jsx("p",{className:"text-text-light text-sm",children:"Application information"})]}),f.jsxs("div",{className:"p-6 flex items-start gap-4",children:[f.jsx("div",{className:"bg-primary text-white p-2.5 rounded-lg mt-1",children:f.jsx($f,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg mb-1",children:"GPS Route Tracker"}),f.jsx("p",{className:"text-text-light mb-4",children:"A Progressive Web App for visualizing and analyzing your GPS routes from GPX files with cloud synchronization."}),f.jsxs("div",{className:"text-sm text-text-light",children:[f.jsx("p",{children:"Version 0.1.0"}),f.jsx("p",{children:"Created with React, TypeScript, and Vite"}),f.jsx("p",{children:"Maps powered by Leaflet and OpenStreetMap"}),f.jsx("p",{children:"Cloud sync with REST API integration"})]})]})]})]}),m&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 p-4",children:f.jsxs("div",{className:"card max-w-md w-full p-6 fade-in slide-up",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add New Tracker"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tracker Code"}),f.jsx("input",{type:"text",maxLength:4,value:_,onChange:E=>y(E.target.value.replace(/\D/g,"")),placeholder:"Enter 4-digit code",className:"input-field"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label (Optional)"}),f.jsx("input",{type:"text",value:x,onChange:E=>w(E.target.value),placeholder:"e.g., Car Tracker",className:"input-field"})]})]}),f.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[f.jsx("button",{className:"btn text-text-light hover:bg-background",onClick:()=>g(!1),children:"Cancel"}),f.jsx("button",{className:"btn btn-primary",onClick:P,children:"Add Tracker"})]})]})}),u&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 p-4",children:f.jsxs("div",{className:"card max-w-md w-full p-6 fade-in slide-up",children:[f.jsx("div",{className:"text-red-500 mb-4",children:f.jsx(wR,{size:32})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Clear All Data?"}),f.jsx("p",{className:"text-text-light mb-6",children:"This will permanently delete all your routes, trackers, and reset the app. This action cannot be undone."}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{className:"btn text-text-light hover:bg-background",onClick:()=>d(!1),children:"Cancel"}),f.jsx("button",{className:"btn bg-red-500 text-white hover:bg-red-600",onClick:A,children:"Yes, Clear All Data"})]})]})})]})},wR=({size:t})=>f.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center",children:f.jsx(Zf,{size:t*.5,className:"text-red-500"})}),bR=()=>{const[t,e]=O.useState("monthly"),{user:n,userProfile:i}=da(),s=[{name:"Free",description:"Perfect for casual users and getting started",price:{monthly:0,yearly:0},popular:!1,features:["Up to 10 GPX routes","100MB storage","Basic route visualization","Export to common formats","Mobile app access","Community support"],limitations:["No advanced analytics","No hardware tracker support","No route sharing","No API access"],cta:"Get Started Free",current:(i==null?void 0:i.plan)==="free"},{name:"Pro",description:"For serious adventurers and professionals",price:{monthly:9.99,yearly:99.99},popular:!0,features:["Unlimited GPX routes","10GB storage","Advanced analytics & insights","Hardware tracker support","Route sharing & collaboration","Priority support","API access","Custom route planning","Offline map downloads","Export to all formats"],limitations:[],cta:"Upgrade to Pro",current:(i==null?void 0:i.plan)==="pro"},{name:"Enterprise",description:"For teams and organizations",price:{monthly:49.99,yearly:499.99},popular:!1,features:["Everything in Pro","Unlimited storage","Team management","Advanced security","Custom integrations","Dedicated support","SLA guarantee","White-label options","Bulk hardware discounts","Custom analytics"],limitations:[],cta:"Contact Sales",current:!1}],o=c=>c===0?"Free":`$${c.toFixed(2)}`,a=(c,u)=>{if(c===0)return 0;const d=c*12;return Math.round((d-u)/d*100)};return f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsx("nav",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs(Be,{to:"/",className:"flex items-center gap-2",children:[f.jsx("div",{className:"bg-primary text-white p-2 rounded-lg",children:f.jsx(ai,{size:20})}),f.jsx("span",{className:"text-xl font-bold",children:"TracSync"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Be,{to:"/",className:"text-text-light hover:text-text transition-colors",children:"Home"}),f.jsx(Be,{to:"/dashboard",className:"text-text-light hover:text-text transition-colors",children:"Dashboard"}),n?f.jsx(Be,{to:"/dashboard",className:"btn btn-primary",children:"Go to App"}):f.jsx(Be,{to:"/",className:"btn btn-primary",children:"Sign In"})]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Choose Your Adventure Plan"}),f.jsx("p",{className:"text-xl text-text-light max-w-3xl mx-auto mb-8",children:"Start free and upgrade as your tracking needs grow. All plans include our core features with no hidden fees or long-term commitments."}),f.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[f.jsx("span",{className:`text-sm ${t==="monthly"?"text-text":"text-text-light"}`,children:"Monthly"}),f.jsx("button",{onClick:()=>e(t==="monthly"?"yearly":"monthly"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t==="yearly"?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t==="yearly"?"translate-x-6":"translate-x-1"}`})}),f.jsx("span",{className:`text-sm ${t==="yearly"?"text-text":"text-text-light"}`,children:"Yearly"}),t==="yearly"&&f.jsx("span",{className:"bg-accent text-white text-xs px-2 py-1 rounded-full font-medium",children:"Save up to 17%"})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:s.map((c,u)=>f.jsxs("div",{className:`card relative overflow-hidden ${c.popular?"ring-2 ring-primary shadow-xl scale-105":""}`,children:[c.popular&&f.jsx("div",{className:"absolute top-0 left-0 right-0 bg-primary text-white text-center py-2 text-sm font-medium",children:"Most Popular"}),f.jsxs("div",{className:`p-6 ${c.popular?"pt-12":""}`,children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-bold mb-2",children:c.name}),f.jsx("p",{className:"text-text-light text-sm mb-4",children:c.description}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"text-4xl font-bold",children:o(c.price[t])}),c.price[t]>0&&f.jsxs("span",{className:"text-text-light",children:["/",t==="monthly"?"month":"year"]})]}),t==="yearly"&&c.price.monthly>0&&f.jsxs("div",{className:"text-sm text-accent font-medium",children:["Save ",a(c.price.monthly,c.price.yearly),"% annually"]})]}),f.jsxs("div",{className:"space-y-3 mb-6",children:[c.features.map((d,m)=>f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Qn,{size:16,className:"text-green-500 mt-0.5 flex-shrink-0"}),f.jsx("span",{className:"text-sm",children:d})]},m)),c.limitations.map((d,m)=>f.jsxs("div",{className:"flex items-start gap-3 opacity-60",children:[f.jsx(si,{size:16,className:"text-red-500 mt-0.5 flex-shrink-0"}),f.jsx("span",{className:"text-sm",children:d})]},m))]}),f.jsxs("button",{className:`btn w-full ${c.current?"bg-gray-200 dark:bg-gray-700 text-text-light cursor-not-allowed":c.popular?"btn-primary":"btn-outline"}`,disabled:c.current,children:[c.current?"Current Plan":c.cta,!c.current&&f.jsx(Pd,{size:18,className:"ml-2"})]})]})]},c.name))}),f.jsxs("div",{className:"card p-8 mb-16",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Feature Comparison"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-border",children:[f.jsx("th",{className:"text-left py-4 px-4",children:"Features"}),f.jsx("th",{className:"text-center py-4 px-4",children:"Free"}),f.jsx("th",{className:"text-center py-4 px-4",children:"Pro"}),f.jsx("th",{className:"text-center py-4 px-4",children:"Enterprise"})]})}),f.jsxs("tbody",{className:"divide-y divide-border",children:[f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 px-4 font-medium",children:"GPX Routes"}),f.jsx("td",{className:"text-center py-4 px-4",children:"10"}),f.jsx("td",{className:"text-center py-4 px-4",children:"Unlimited"}),f.jsx("td",{className:"text-center py-4 px-4",children:"Unlimited"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 px-4 font-medium",children:"Storage"}),f.jsx("td",{className:"text-center py-4 px-4",children:"100MB"}),f.jsx("td",{className:"text-center py-4 px-4",children:"10GB"}),f.jsx("td",{className:"text-center py-4 px-4",children:"Unlimited"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 px-4 font-medium",children:"Hardware Trackers"}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(si,{size:16,className:"text-red-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 px-4 font-medium",children:"Advanced Analytics"}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(si,{size:16,className:"text-red-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 px-4 font-medium",children:"API Access"}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(si,{size:16,className:"text-red-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 px-4 font-medium",children:"Team Management"}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(si,{size:16,className:"text-red-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(si,{size:16,className:"text-red-500 mx-auto"})}),f.jsx("td",{className:"text-center py-4 px-4",children:f.jsx(Qn,{size:16,className:"text-green-500 mx-auto"})})]})]})]})})]}),f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Frequently Asked Questions"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-left",children:[f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"font-semibold mb-3",children:"Can I change plans anytime?"}),f.jsx("p",{className:"text-text-light text-sm",children:"Yes! You can upgrade or downgrade your plan at any time. Changes take effect immediately, and we'll prorate any billing differences."})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"font-semibold mb-3",children:"What happens to my data if I downgrade?"}),f.jsx("p",{className:"text-text-light text-sm",children:"Your data is never deleted. If you exceed the new plan's limits, you'll have read-only access until you upgrade or remove some routes."})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"font-semibold mb-3",children:"Do you offer refunds?"}),f.jsx("p",{className:"text-text-light text-sm",children:"We offer a 30-day money-back guarantee for all paid plans. No questions asked."})]}),f.jsxs("div",{className:"card p-6",children:[f.jsx("h3",{className:"font-semibold mb-3",children:"Is my data secure?"}),f.jsx("p",{className:"text-text-light text-sm",children:"Absolutely. We use enterprise-grade encryption and security measures to protect your data. Your routes are private by default."})]})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Tracking?"}),f.jsx("p",{className:"text-xl text-text-light mb-8",children:"Join thousands of adventurers who trust TracSync for their journey analytics."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(Be,{to:"/",className:"btn btn-primary text-lg px-8 py-3",children:["Start Free Trial",f.jsx(Pd,{size:20,className:"ml-2"})]}),f.jsx(Be,{to:"/",className:"btn btn-outline text-lg px-8 py-3",children:"Contact Sales"})]})]})]})]})},kR=()=>{const t=[{title:"Dashboard",path:"/dashboard",icon:f.jsx(k0,{size:20})},{title:"Upload",path:"/upload",icon:f.jsx(ra,{size:20})},{title:"Settings",path:"/settings",icon:f.jsx(C0,{size:20})}];return f.jsx("footer",{className:"fixed bottom-0 left-0 right-0 h-16 bg-card border-t border-border md:hidden z-10",children:f.jsx("div",{className:"grid grid-cols-3 h-full",children:t.map(e=>f.jsxs(w0,{to:e.path,className:({isActive:n})=>`
              flex flex-col items-center justify-center transition-colors
              ${n?"text-primary":"text-text-light hover:text-text"}
            `,end:e.path==="/",children:[e.icon,f.jsx("span",{className:"text-xs mt-1",children:e.title})]},e.path))})})};function SR(){const[t,e]=O.useState(!1),n=ys(),i=["/","/pricing"].includes(n.pathname);return O.useEffect(()=>{e(!1)},[n.pathname]),f.jsx(iE,{children:f.jsx(II,{children:i?f.jsxs(Gg,{children:[f.jsx(qi,{path:"/",element:f.jsx(DI,{})}),f.jsx(qi,{path:"/pricing",element:f.jsx(bR,{})})]}):f.jsx(LI,{children:f.jsx(ZI,{children:f.jsxs("div",{className:"flex h-screen overflow-hidden",children:[f.jsx(AI,{isOpen:t,setIsOpen:e}),f.jsxs("div",{className:"flex flex-col flex-1 h-screen overflow-y-auto",children:[f.jsx(OI,{onMenuClick:()=>e(!t)}),f.jsx("main",{className:"flex-1 p-4 md:p-6 pb-24 bg-background transition-colors duration-300",children:f.jsxs(Gg,{children:[f.jsx(qi,{path:"/dashboard",element:f.jsx(XI,{})}),f.jsx(qi,{path:"/routes/:id",element:f.jsx(vR,{})}),f.jsx(qi,{path:"/upload",element:f.jsx(yR,{})}),f.jsx(qi,{path:"/settings",element:f.jsx(xR,{})})]})}),f.jsx(kR,{})]})]})})})})})}const I1=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{I1()})};c0(document.getElementById("root")).render(f.jsx(O.StrictMode,{children:f.jsx(ET,{children:f.jsx(SR,{})})}));I1();
